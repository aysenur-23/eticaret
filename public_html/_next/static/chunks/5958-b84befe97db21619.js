"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5958,4257],{5974:function(e,t,r){r.d(t,{C:function(){return i}});var n=r(7437);r(2265);var a=r(4508);function i(e){let{className:t,variant:r,children:i,...o}=e;return(0,n.jsx)("div",{className:(0,a.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",function(e){switch(e){case"secondary":return"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80";case"destructive":return"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80";case"outline":return"text-foreground";case"success":return"border-transparent bg-green-100 text-green-800 hover:bg-green-200";case"warning":return"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200";default:return"border-transparent bg-primary text-primary-foreground hover:bg-primary/80"}}(r),t),...o,children:i})}},2869:function(e,t,r){r.d(t,{z:function(){return l}});var n=r(7437),a=r(2265),i=r(7495),o=r(535),s=r(4508);let u=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-brand text-brand-foreground shadow-md hover:bg-brand-hover hover:shadow-lg hover:scale-105 active:scale-100",destructive:"bg-destructive text-destructive-foreground shadow-md hover:opacity-90 hover:shadow-lg hover:scale-105 active:scale-100",outline:"border-2 border-palette bg-background shadow-sm hover:bg-surface hover:border-brand/50 hover:scale-105 active:scale-100",secondary:"bg-surface text-ink shadow-sm hover:bg-muted hover:shadow-md hover:scale-105 active:scale-100",ghost:"hover:bg-surface hover:scale-105 active:scale-100",link:"text-brand underline-offset-4 hover:text-brand-hover hover:underline"},size:{default:"h-11 min-h-[44px] md:h-9 md:min-h-0 px-4 py-2.5 md:py-2 text-base md:text-sm",sm:"h-10 min-h-[44px] md:h-8 md:min-h-0 rounded-md px-3.5 md:px-3 text-sm md:text-xs",lg:"h-12 min-h-[48px] md:h-10 md:min-h-0 rounded-md px-8 text-lg md:text-base",icon:"h-11 w-11 min-h-[44px] min-w-[44px] md:h-9 md:w-9 md:min-h-0 md:min-w-0"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:o,asChild:l=!1,...c}=e,d=l?i.g7:"button";return(0,n.jsx)(d,{className:(0,s.cn)(u({variant:a,size:o,className:r})),ref:t,...c})});l.displayName="Button"},4257:function(e,t,r){r.d(t,{IH:function(){return v},Wn:function(){return l},getAuth:function(){return d},getDb:function(){return m},getStorage:function(){return f}});var n=r(738),a=r(3301),i=r(5978),o=r(62),s=r(6834);let u={apiKey:"AIzaSyDbWLUtJ2axRohxe2JHwhLTQNG8SGgfe3k",authDomain:"eticaret-54bdc.firebaseapp.com",projectId:"eticaret-54bdc",storageBucket:"eticaret-54bdc.firebasestorage.app",messagingSenderId:"827577534163",appId:"1:827577534163:web:8dee1cce254e07bb78b626",measurementId:"G-5D2R7SZCPP"},l=!0;function c(){if(!l)throw Error("Firebase yapılandırılmamış. .env.local dosyasında NEXT_PUBLIC_FIREBASE_API_KEY ve NEXT_PUBLIC_FIREBASE_PROJECT_ID tanımlayın. Detay i\xe7in FIREBASE_SETUP.md dosyasına bakın.");return(0,n.C6)().length?(0,n.C6)()[0]:(0,n.ZF)(u)}function d(){return(0,a.v0)(c())}function m(){return(0,i.ad)(c())}function f(){return(0,o.cF)(c())}let g=null;async function v(){return g||(await (0,s.Gb)()?g=(0,s.IH)(c()):null)}},3253:function(e,t,r){r.d(t,{$l:function(){return o},AU:function(){return d},LV:function(){return m},Ni:function(){return v},ZK:function(){return s},_N:function(){return c},_l:function(){return f},a3:function(){return g},et:function(){return i},y$:function(){return u},y3:function(){return l}});var n=r(5978),a=r(4257);async function i(e){let t=(0,a.getDb)(),r=(0,n.doc)(t,"users",e),i=await (0,n.getDoc)(r);return i.exists()?i.data():null}async function o(e,t){let r=(0,a.getDb)(),i=(0,n.doc)(r,"users",e);if((await (0,n.getDoc)(i)).exists())await (0,n.updateDoc)(i,{...null!=t.name&&{name:t.name},...null!=t.phone&&{phone:t.phone},...null!=t.email&&{email:t.email},...null!=t.role&&{role:t.role},...null!=t.customerNo&&{customerNo:t.customerNo}});else{var o,s,u,l;await (0,n.setDoc)(i,{email:null!==(o=t.email)&&void 0!==o?o:"",name:null!==(s=t.name)&&void 0!==s?s:"",phone:null!==(u=t.phone)&&void 0!==u?u:"",role:null!==(l=t.role)&&void 0!==l?l:"customer",...null!=t.customerNo&&{customerNo:t.customerNo},createdAt:(0,n.serverTimestamp)()})}}async function s(e){let t=(0,a.getDb)(),r=(await (0,n.getDocs)((0,n.collection)(t,"users",e,"addresses"))).docs.map(e=>({id:e.id,...e.data()}));return r.sort((e,t)=>(t.isDefault?1:0)-(e.isDefault?1:0)),r}async function u(e,t){let r=(0,a.getDb)(),i=(0,n.collection)(r,"users",e,"addresses");if(t.isDefault){let e=(0,n.qs)(r);(await (0,n.getDocs)(i)).docs.forEach(t=>e.update(t.ref,{isDefault:!1}));let a=(0,n.doc)(i);return e.set(a,{...t,isDefault:!0}),await e.commit(),a.id}return(await (0,n.addDoc)(i,t)).id}async function l(e,t,r){let i=(0,a.getDb)(),o=(0,n.doc)(i,"users",e,"addresses",t);if(!0===r.isDefault){let t=(0,n.qs)(i);(await (0,n.getDocs)((0,n.collection)(i,"users",e,"addresses"))).docs.forEach(e=>t.update(e.ref,{isDefault:!1})),t.update(o,r),await t.commit()}else await (0,n.updateDoc)(o,r)}async function c(e,t){let r=(0,a.getDb)();await (0,n.deleteDoc)((0,n.doc)(r,"users",e,"addresses",t))}async function d(e){let t=(0,a.getDb)(),r=(await (0,n.getDocs)((0,n.collection)(t,"users",e,"orders"))).docs.map(e=>{let t=e.data(),r=t.createdAt;return{id:e.id,...t,createdAt:(null==r?void 0:r.seconds)?new Date(1e3*r.seconds):new Date}});return r.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()),r}async function m(e,t){let r=(0,a.getDb)();return(await (0,n.addDoc)((0,n.collection)(r,"users",e,"orders"),{...t,createdAt:(0,n.serverTimestamp)()})).id}async function f(e){let t=(0,a.getDb)();return(await (0,n.getDocs)((0,n.collection)(t,"users",e,"favorites"))).docs.map(e=>{let t=e.data();return{id:e.id,productId:e.id,...t}})}async function g(e,t){let r=(0,a.getDb)(),i=(0,n.doc)(r,"users",e,"favorites",t);(await (0,n.getDoc)(i)).exists()||await (0,n.setDoc)(i,{productId:t,createdAt:(0,n.serverTimestamp)()})}async function v(e,t){let r=(0,a.getDb)();await (0,n.deleteDoc)((0,n.doc)(r,"users",e,"favorites",t))}},6039:function(e,t,r){function n(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function a(e,t,r){if(null==e)return"-";let n=Number(e);if(isNaN(n)||!isFinite(n))return"-";if("TRY"===t||!r)return new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2,maximumFractionDigits:2}).format(n);let a=n*(r[t]||0);return new Intl.NumberFormat("EUR"===t?"de-DE":"en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}r.d(t,{ZM:function(){return n},uM:function(){return a}})},2199:function(e,t,r){r.d(t,{t:function(){return n.K}});var n=r(8664)},5689:function(e,t,r){r.d(t,{x:function(){return o}});var n=r(9625),a=r(6885);function i(){try{var e;let t=localStorage.getItem("auth-storage");if(!t)return!1;let r=JSON.parse(t);return(null==r?void 0:null===(e=r.state)||void 0===e?void 0:e.isAuthenticated)===!0}catch(e){return!1}}let o=(0,n.Ue)()((0,a.tJ)((e,t)=>({items:[],isLoading:!1,addItem:r=>{var n;let a=null!==(n=r.quantity)&&void 0!==n?n:1;t().items.find(e=>e.id===r.id)?e(e=>({items:e.items.map(e=>e.id===r.id?{...e,quantity:e.quantity+a}:e)})):e(e=>({items:[...e.items,{...r,quantity:a}]}))},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},updateQuantity:(r,n)=>{if(n<=0){t().removeItem(r);return}e(e=>({items:e.items.map(e=>e.id===r?{...e,quantity:n}:e)}))},clearCart:()=>e({items:[]}),getTotalPrice:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0),getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getItemQuantity:e=>{let r=t().items.find(t=>t.id===e);return r?r.quantity:0},loadCartFromServer:async e=>{},syncCartToServer:async e=>{}}),{name:"cart-storage",storage:{getItem:e=>{let t=localStorage.getItem(e);if(!t)return null;try{let r=JSON.parse(t),n=Date.now();if((null==r?void 0:r.expire)&&n>r.expire)return localStorage.removeItem(e),null;if(null==r?void 0:r.state)return JSON.stringify({state:r.state,version:r.version||0});return t}catch(t){return localStorage.removeItem(e),null}},setItem:(e,t)=>{try{let r="string"==typeof t?t:JSON.stringify(t),n=JSON.parse(r),a=i()?Date.now()+5184e6:void 0;localStorage.setItem(e,JSON.stringify({...n,...a&&{expire:a}}))}catch(n){let r="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,r)}},removeItem:e=>localStorage.removeItem(e)}}));{window.addEventListener("beforeunload",()=>{i()||localStorage.removeItem("cart-storage")});let e=()=>{i()||(localStorage.removeItem("cart-storage"),o.getState().clearCart())};"complete"===document.readyState?e():window.addEventListener("load",e)}},606:function(e,t,r){r.d(t,{u:function(){return i}});var n=r(9625),a=r(6885);let i=(0,n.Ue)()((0,a.tJ)(e=>({currency:"TRY",setCurrency:t=>e({currency:t})}),{name:"currency-storage"}))},8664:function(e,t,r){r.d(t,{K:function(){return l}});var n=r(9625),a=r(6885),i=r(3301),o=r(4257),s=r(3253);function u(e,t){var r,n,a,i;return{id:e.uid,email:e.email||"",name:null!==(n=null!==(r=null==t?void 0:t.name)&&void 0!==r?r:e.displayName)&&void 0!==n?n:"",phone:null==t?void 0:t.phone,role:null!==(a=null==t?void 0:t.role)&&void 0!==a?a:"customer",emailVerified:null!==(i=e.emailVerified)&&void 0!==i&&i}}let l=(0,n.Ue)()((0,a.tJ)(e=>({user:null,token:null,isAuthenticated:!1,rememberMe:!1,authReady:!1,login:async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!o.Wn)return{success:!1,error:"Firebase yapılandırılmamış."};try{let a=(0,o.getAuth)(),l=await (0,i.e5)(a,t,r),c=await l.user.getIdToken(),d=await (0,s.et)(l.user.uid),m=u(l.user,d);return e({user:m,token:c,isAuthenticated:!0,rememberMe:n}),{success:!0}}catch(t){let e=(null==t?void 0:t.code)||"";return{success:!1,error:"auth/user-not-found"===e||"auth/invalid-credential"===e||"auth/wrong-password"===e?"E-posta veya şifre hatalı.":"auth/invalid-email"===e?"Ge\xe7ersiz e-posta.":(null==t?void 0:t.message)||"Giriş başarısız."}}},register:async(t,r,n,a)=>{if(!o.Wn)return{success:!1,error:"Firebase yapılandırılmamış."};try{let u=(0,o.getAuth)(),l=await (0,i.Xb)(u,t,r);await (0,s.$l)(l.user.uid,{email:l.user.email||t,name:n,phone:a,role:"customer"});let c=await l.user.getIdToken(),d={id:l.user.uid,email:l.user.email||t,name:n,phone:a,role:"customer",emailVerified:!1};return e({user:d,token:c,isAuthenticated:!0,rememberMe:!0}),{success:!0,message:"Hesabınız oluşturuldu."}}catch(t){let e=(null==t?void 0:t.code)||"";return{success:!1,error:"auth/email-already-in-use"===e?"Bu e-posta adresi zaten kullanılıyor.":"auth/weak-password"===e?"Şifre en az 6 karakter olmalıdır.":(null==t?void 0:t.message)||"Kayıt başarısız."}}},logout:()=>{if(o.Wn)try{(0,i.signOut)((0,o.getAuth)())}catch(e){}e({user:null,token:null,isAuthenticated:!1,rememberMe:!1}),sessionStorage.removeItem("auth-token"),sessionStorage.removeItem("auth-user")},setUser:t=>e({user:t,isAuthenticated:!!t}),setToken:t=>e({token:t}),refreshUserProfile:async t=>{let r=await (0,s.et)(t);r&&e(e=>{var t;return{user:e.user?{...e.user,name:r.name,phone:r.phone,role:null!==(t=r.role)&&void 0!==t?t:e.user.role}:null}})}}),{name:"auth-storage"}));if(o.Wn)try{let e=(0,o.getAuth)();(0,i.Aj)(e,async e=>{if(e){let t=await e.getIdToken(),r=await (0,s.et)(e.uid),n=u(e,r);l.setState({user:n,token:t,isAuthenticated:!0,authReady:!0})}else l.setState({user:null,token:null,isAuthenticated:!1,authReady:!0})})}catch(e){l.setState({authReady:!0})}else l.setState({authReady:!0})},5316:function(e,t,r){r.d(t,{h:function(){return i}});var n=r(2265);let a={base:"TRY",rates:{TRY:1,USD:.028,EUR:.026},updatedAt:new Date().toISOString()};function i(){let[e,t]=(0,n.useState)(null),[r,i]=(0,n.useState)(!0),[o,s]=(0,n.useState)(!1),u=(0,n.useCallback)(()=>{fetch("https://api.exchangerate-api.com/v4/latest/TRY").then(e=>e.ok?e.json():Promise.reject()).then(e=>{var r,n,i,o;t({base:"TRY",rates:{TRY:1,USD:null!==(i=null===(r=e.rates)||void 0===r?void 0:r.USD)&&void 0!==i?i:a.rates.USD,EUR:null!==(o=null===(n=e.rates)||void 0===n?void 0:n.EUR)&&void 0!==o?o:a.rates.EUR},updatedAt:new Date().toISOString()}),s(!1)}).catch(()=>fetch("/data/exchange-rates.json").then(e=>e.ok?e.json():Promise.reject()).then(e=>{t(e),s(!1)}).catch(()=>{t(a),s(!1)})).finally(()=>i(!1))},[]);return(0,n.useEffect)(()=>{u();let e=setInterval(u,36e5);return()=>clearInterval(e)},[u]),{rates:e,loading:r,error:o}}},4508:function(e,t,r){r.d(t,{cn:function(){return i}});var n=r(1994),a=r(3335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}}]);