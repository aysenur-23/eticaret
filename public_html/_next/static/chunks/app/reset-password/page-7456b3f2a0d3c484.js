(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2363],{4314:function(e,s,a){Promise.resolve().then(a.bind(a,878))},878:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var r=a(7437),l=a(2265),t=a(9376),i=a(7648),n=a(6070),c=a(2869),d=a(5186),o=a(6815),h=a(6901),m=a(6337),u=a(2252),x=a(7769),f=a(2208),y=a(5863),p=a(2660),j=a(5613),b=a(7030),g=a(3301),w=a(4257);function N(){let e=(0,t.useRouter)(),s=(0,t.useSearchParams)(),a=s.get("oobCode")||s.get("token"),[N,v]=(0,l.useState)(""),[k,z]=(0,l.useState)(""),[Z,S]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1),[T,Y]=(0,l.useState)(!1),[_,L]=(0,l.useState)(!1),[G,D]=(0,l.useState)("");(0,l.useEffect)(()=>{a||D("Ge\xe7ersiz veya eksik şifre sıfırlama bağlantısı")},[a]);let E=async s=>{if(s.preventDefault(),D(""),N!==k){D("Şifreler eşleşmiyor"),window.scrollTo({top:0,behavior:"smooth"});return}if(N.length<6){D("Şifre en az 6 karakter olmalıdır"),window.scrollTo({top:0,behavior:"smooth"});return}if(!a){D("Ge\xe7ersiz şifre sıfırlama bağlantısı");return}Y(!0);try{if(!w.Wn){D("Firebase yapılandırılmamış. L\xfctfen y\xf6neticiyle iletişime ge\xe7in."),window.scrollTo({top:0,behavior:"smooth"});return}let s=(0,w.getAuth)();await (0,g.LG)(s,a,N),L(!0),setTimeout(()=>{e.push("/login")},3e3)}catch(e){console.error("Reset password error:",e),(null==e?void 0:e.code)==="auth/expired-action-code"?D("Şifre sıfırlama bağlantısının s\xfcresi dolmuş. L\xfctfen yeni bir istek g\xf6nderin."):(null==e?void 0:e.code)==="auth/invalid-action-code"?D("Ge\xe7ersiz veya kullanılmış şifre sıfırlama bağlantısı."):(null==e?void 0:e.code)==="auth/weak-password"?D("Şifre \xe7ok zayıf. Daha g\xfc\xe7l\xfc bir şifre se\xe7in."):D("Bir hata oluştu. L\xfctfen tekrar deneyin."),window.scrollTo({top:0,behavior:"smooth"})}finally{Y(!1)}};return _?(0,r.jsx)(b.ClassicPageShell,{breadcrumbs:[{label:"Şifre Sıfırla"}],noTitle:!0,children:(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsxs)(n.Zb,{className:"classic-card rounded-lg overflow-hidden",children:[(0,r.jsxs)(n.Ol,{className:"space-y-1 text-center pb-4",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"w-14 h-14 bg-red-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(h.Z,{className:"w-7 h-7 text-white"})})}),(0,r.jsx)(n.ll,{className:"text-2xl font-bold text-gray-900",children:"Şifre Başarıyla Sıfırlandı"}),(0,r.jsx)(n.SZ,{className:"text-gray-600",children:"Yeni şifrenizle giriş yapabilirsiniz"})]}),(0,r.jsxs)(n.aY,{className:"space-y-4",children:[(0,r.jsxs)(j.bZ,{className:"rounded-xl",children:[(0,r.jsx)(h.Z,{className:"h-4 w-4"}),(0,r.jsx)(j.X,{children:"Şifreniz başarıyla değiştirildi. 3 saniye sonra giriş sayfasına y\xf6nlendirileceksiniz."})]}),(0,r.jsx)(c.z,{asChild:!0,className:"w-full btn-classic-primary rounded-lg",children:(0,r.jsx)(i.default,{href:"/login",className:"flex items-center justify-center gap-2",children:"Giriş Yap"})})]})]})})})}):(0,r.jsx)(b.ClassicPageShell,{breadcrumbs:[{label:"Şifre Sıfırla"}],noTitle:!0,children:(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsxs)(n.Zb,{className:"classic-card rounded-lg overflow-hidden",children:[(0,r.jsxs)(n.Ol,{className:"space-y-1 text-center pb-4",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"w-14 h-14 bg-red-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"w-7 h-7 text-white"})})}),(0,r.jsx)(n.ll,{className:"text-2xl font-bold text-gray-900",children:"Yeni Şifre Belirle"}),(0,r.jsx)(n.SZ,{className:"text-gray-600",children:"Yeni şifrenizi girin"})]}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[G&&(0,r.jsxs)(j.bZ,{variant:"destructive",className:"rounded-xl",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4"}),(0,r.jsx)(j.X,{children:G})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o._,{htmlFor:"password",children:"Yeni Şifre"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 z-10 pointer-events-none shrink-0"}),(0,r.jsx)(d.I,{id:"password",type:Z?"text":"password",placeholder:"En az 6 karakter",value:N,onChange:e=>v(e.target.value),className:"pl-12 pr-12 rounded-xl min-w-0",required:!0,minLength:6,disabled:T,autoComplete:"new-password"}),(0,r.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),S(!Z)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10 p-1 rounded","aria-label":Z?"Şifreyi gizle":"Şifreyi g\xf6ster",children:Z?(0,r.jsx)(x.Z,{className:"w-5 h-5"}):(0,r.jsx)(f.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o._,{htmlFor:"confirmPassword",children:"Şifre Tekrar"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 z-10 pointer-events-none shrink-0"}),(0,r.jsx)(d.I,{id:"confirmPassword",type:C?"text":"password",placeholder:"Şifrenizi tekrar girin",value:k,onChange:e=>z(e.target.value),className:"pl-12 pr-12 rounded-xl min-w-0",required:!0,minLength:6,disabled:T,autoComplete:"new-password"}),(0,r.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),P(!C)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 z-10 p-1 rounded","aria-label":C?"Şifreyi gizle":"Şifreyi g\xf6ster",children:C?(0,r.jsx)(x.Z,{className:"w-5 h-5"}):(0,r.jsx)(f.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsx)(c.z,{type:"submit",className:"w-full btn-classic-primary rounded-lg",disabled:T||!a,size:"lg",children:T?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{className:"w-5 h-5 mr-2 animate-spin"})," Şifre Sıfırlanıyor..."]}):"Şifreyi Sıfırla"}),(0,r.jsx)("div",{className:"text-center text-sm text-gray-600",children:(0,r.jsxs)(i.default,{href:"/login",className:"text-red-600 hover:text-red-700 font-semibold flex items-center justify-center gap-2",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"}),"Giriş Sayfasına D\xf6n"]})})]})})]})})})})}function v(){return(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50/80 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-red-600 border-t-transparent mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Y\xfckleniyor..."})]})}),children:(0,r.jsx)(N,{})})}},2660:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});let r=(0,a(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6901:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});let r=(0,a(9763).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])}},function(e){e.O(0,[4358,139,2972,8743,9697,6370,6565,5344,733,2971,2117,1744],function(){return e(e.s=4314)}),_N_E=e.O()}]);