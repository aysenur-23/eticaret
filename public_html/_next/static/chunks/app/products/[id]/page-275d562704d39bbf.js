(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9351,4257],{806:function(e,t,s){Promise.resolve().then(s.bind(s,5987))},5987:function(e,t,s){"use strict";s.d(t,{default:function(){return V}});var a=s(7437),l=s(2265),r=s(9376),n=s(7648),i=s(2869),d=s(4794),o=s(2660),c=s(407),m=s(1047),u=s(9397),x=s(6275),h=s(1239),p=s(4743),f=s(6039),b=s(606),g=s(5316),v=s(5689),w=s(9534),j=s(8997),y=s(2199),N=s(6110),k=s(3253);function D(e){let{productId:t,className:s=""}=e,{isAuthenticated:r,user:d}=(0,y.t)(),{addToast:o}=(0,w.p)(),[c,m]=(0,l.useState)(!1),[u,x]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),f=(0,l.useCallback)(async()=>{if(null==d?void 0:d.id)try{let e=await (0,k._l)(d.id);m(e.some(e=>e.productId===t))}catch(e){console.error("Error checking favorite status:",e)}},[null==d?void 0:d.id,t]);(0,l.useEffect)(()=>{r&&(null==d?void 0:d.id)?f():m(!1)},[r,null==d?void 0:d.id,t,f]);let b=async e=>{if(e.preventDefault(),e.stopPropagation(),!r){p(!0);return}if(null==d?void 0:d.id){x(!0);try{c?(await (0,k.Ni)(d.id,t),m(!1),o({type:"success",title:"Favorilerden Kaldırıldı",description:"\xdcr\xfcn favorilerinizden kaldırıldı."})):(await (0,k.a3)(d.id,t),m(!0),o({type:"success",title:"Favorilere Eklendi",description:"\xdcr\xfcn favorilerinize eklendi."}))}catch(e){console.error("Error toggling favorite:",e),o({type:"error",title:"Hata",description:"Bir hata oluştu. L\xfctfen tekrar deneyin."})}finally{x(!1)}}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:b,disabled:u,className:"p-1.5 bg-white rounded-full shadow-sm hover:bg-brand-light transition-colors z-30 relative ".concat(s," ").concat(c?"text-brand":"text-ink-muted hover:text-brand"),title:c?"Favorilerden kaldır":"Favorilere ekle",children:(0,a.jsx)(j.Z,{className:"w-4 h-4 ".concat(c?"fill-current":"")})}),(0,a.jsx)(N.Vq,{open:h,onOpenChange:p,children:(0,a.jsxs)(N.cZ,{children:[(0,a.jsxs)(N.fK,{children:[(0,a.jsx)(N.$N,{children:"Giriş Yapmalısınız"}),(0,a.jsx)(N.Be,{children:"\xdcr\xfcnleri favorilerinize eklemek i\xe7in l\xfctfen giriş yapın."})]}),(0,a.jsxs)(N.cN,{children:[(0,a.jsx)(i.z,{variant:"outline",onClick:()=>p(!1),children:"İptal"}),(0,a.jsx)(i.z,{asChild:!0,children:(0,a.jsx)(n.default,{href:"/login",children:"Giriş Yap"})})]})]})})]})}var S=s(4712),z=s(9412),A=s(3030),E=s(8706),C=s(5417),I=s(3134),T=s(875),_=s(4508);let P=I.fC,R=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(I.ck,{ref:t,className:(0,_.cn)("border-b border-slate-200 last:border-b-0",s),...l})});R.displayName="AccordionItem";let Z=l.forwardRef((e,t)=>{let{className:s,children:l,...r}=e;return(0,a.jsx)(I.h4,{className:"flex",children:(0,a.jsxs)(I.xz,{ref:t,className:(0,_.cn)("flex flex-1 items-center justify-between py-4 font-medium text-left text-slate-900 transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...r,children:[l,(0,a.jsx)(T.Z,{className:"h-4 w-4 shrink-0 text-slate-500 transition-transform duration-200"})]})})});Z.displayName=I.xz.displayName;let F=l.forwardRef((e,t)=>{let{className:s,children:l,...r}=e;return(0,a.jsx)(I.VY,{ref:t,className:"overflow-hidden text-sm data-[state=closed]:hidden data-[state=open]:block",...r,children:(0,a.jsx)("div",{className:(0,_.cn)("pb-4 pt-0 text-slate-700 leading-relaxed",s),children:l})})});F.displayName=I.VY.displayName;let B={};function V(){var e,t;let{initialProduct:s,productId:j}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=(0,r.useParams)(),N=null!=j?j:null==y?void 0:y.id,[k,I]=(0,l.useState)(null!=s?s:null),[T,_]=(0,l.useState)(!s),V=(0,b.u)(e=>e.currency),{rates:K}=(0,g.h)(),M=e=>{var t;return(0,f.uM)(e,V,null!==(t=null==K?void 0:K.rates)&&void 0!==t?t:null)},G=(0,E.T_)("header"),{addItem:O}=(0,v.x)(),{addToast:Y}=(0,w.p)(),q=(0,r.useRouter)(),[H,L]=(0,l.useState)(1),[U,W]=(0,l.useState)(null),[J,$]=(0,l.useState)({name:"",email:"",phone:"",message:""}),[X,Q]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(!1),[es,ea]=(0,l.useState)(!1);(0,l.useEffect)(()=>{var e,t,s;if(!N)return;let a=null!==(t=B[N])&&void 0!==t?t:null;I(a),W(null!==(s=null==a?void 0:null===(e=a.variants)||void 0===e?void 0:e[0])&&void 0!==s?s:null),_(!1)},[N]);let el=k?(null!==(e=k.images)&&void 0!==e?e:[k.image]).filter(Boolean):[],[er,en]=(0,l.useState)(0);if((0,l.useEffect)(()=>{en(0)},[N]),T)return(0,a.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-3",children:[(0,a.jsx)("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-full border border-slate-200 bg-white shadow-sm",children:(0,a.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-slate-700"})}),(0,a.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Y\xfckleniyor..."})]})});if(!k)return(0,a.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"max-w-sm w-full text-center space-y-4",children:[(0,a.jsx)("div",{className:"inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-white border border-slate-200 shadow-sm mx-auto",children:(0,a.jsx)(d.Z,{className:"w-8 h-8 text-slate-400"})}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-1",children:"\xdcr\xfcn Bulunamadı"}),(0,a.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:"Aradığınız \xfcr\xfcn bulunamadı veya kaldırılmış olabilir."}),(0,a.jsx)(i.z,{asChild:!0,variant:"outline",className:"rounded-xl border-slate-200",children:(0,a.jsxs)(n.default,{href:"/products",className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"\xdcr\xfcnlere D\xf6n"]})})]})});let ei=k.category?(0,z.EQ)(k.category):void 0;k.category&&(ei?G(ei):k.category);let ed=null!==(t=el[er])&&void 0!==t?t:el[0],eo=l.useMemo(()=>{let e=k.category?S.COMPLEMENTARY_BY_CATEGORY[k.category]:void 0,t=e?e.productIds.filter(e=>e!==k.id&&B[e]):S.mockProducts.filter(e=>e.category===k.category&&e.id!==k.id).slice(0,8).map(e=>e.id);return 0===(t=t.slice(0,8)).length&&(t=S.mockProducts.filter(e=>e.id!==k.id).slice(0,8).map(e=>e.id)),t.map(e=>B[e]).filter(Boolean)},[k.id,k.category]),ec=l.useMemo(()=>(null==k?void 0:k.productFamilyKey)?S.mockProducts.filter(e=>e.productFamilyKey===k.productFamilyKey&&e.id!==k.id):[],[null==k?void 0:k.id,null==k?void 0:k.productFamilyKey]);return(0,a.jsx)(C.b,{breadcrumbs:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-500",children:[(0,a.jsx)(n.default,{href:"/",className:"hover:text-brand transition-colors",children:"Ana Sayfa"}),(0,a.jsx)(c.Z,{className:"w-3 h-3 sm:w-4 sm:h-4 text-slate-300"}),(0,a.jsx)(n.default,{href:"/products",className:"hover:text-brand transition-colors",children:"\xdcr\xfcnler"}),(0,a.jsx)(c.Z,{className:"w-3 h-3 sm:w-4 sm:h-4 text-slate-300"}),(0,a.jsx)("span",{className:"text-slate-900 font-medium line-clamp-1",children:k.name})]}),children:(0,a.jsx)("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden min-w-0 overflow-x-hidden",children:(0,a.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 lg:p-12",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-10 lg:gap-16",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"relative aspect-square overflow-hidden rounded-xl",children:ed?(0,a.jsx)("img",{src:ed,alt:k.name,className:"w-full h-full object-contain scale-110"}):(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-50",children:(0,a.jsx)(d.Z,{className:"w-20 h-20 text-slate-200"})})}),el.length>1&&(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-1",children:el.map((e,t)=>(0,a.jsx)("button",{type:"button",onClick:()=>en(t),className:"flex-shrink-0 w-14 h-14 sm:w-16 sm:h-16 rounded-lg overflow-hidden transition-all focus:outline-none focus:ring-2 focus:ring-brand/30 ".concat(er===t?"ring-2 ring-brand":"ring-1 ring-slate-200/80"),children:(0,a.jsx)("img",{src:e,alt:"".concat(k.name," ").concat(t+1),className:"w-full h-full object-cover"})},t))})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4 flex-wrap",children:[k.brand&&(0,a.jsx)("p",{className:"text-sm font-bold text-brand uppercase tracking-wider",children:k.brand}),k.sku&&(0,a.jsxs)("span",{className:"text-xs font-semibold text-slate-600 border border-slate-200 px-3 py-1 rounded-lg bg-white",children:["\xdcr\xfcn kodu: ",k.sku]}),(0,a.jsx)(D,{productId:k.id,className:"ml-auto sm:ml-0"})]}),(0,a.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-slate-900 mb-3 tracking-tight leading-snug max-w-xl",children:k.name}),k.variants&&k.variants.length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Model / Kapasite"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:k.variants.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>W(e),className:"rounded-xl border-2 px-4 py-2.5 text-left text-sm font-medium transition-colors ".concat((null==U?void 0:U.key)===e.key?"border-brand bg-brand/10 text-brand":"border-slate-200 bg-white text-slate-700 hover:border-slate-300"),children:[(0,a.jsx)("span",{className:"block",children:e.label}),(0,a.jsx)("span",{className:"text-xs text-slate-500 mt-0.5",children:M(e.price)})]},e.key))})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:M(U?U.price:k.price)}),(0,a.jsxs)("p",{className:"text-sm text-slate-500 mb-6",children:["KDV Dahil Fiyatı: ",M((U?U.price:k.price)*1.18)]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 mb-6 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center h-12 rounded-xl border border-slate-200 bg-white overflow-hidden shrink-0",children:[(0,a.jsx)("button",{type:"button",onClick:()=>L(e=>Math.max(1,e-1)),className:"flex items-center justify-center h-12 w-11 text-slate-600 hover:bg-slate-50 transition-colors","aria-label":"Miktarı azalt",children:(0,a.jsx)(m.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"flex items-center justify-center h-12 w-11 font-semibold text-slate-900 tabular-nums text-sm border-x border-slate-100 bg-white",children:H}),(0,a.jsx)("button",{type:"button",onClick:()=>L(e=>e+1),className:"flex items-center justify-center h-12 w-11 text-slate-600 hover:bg-slate-50 transition-colors","aria-label":"Miktarı artır",children:(0,a.jsx)(u.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)(i.z,{onClick:()=>{let e=U?"".concat(k.id,"-").concat(U.key):k.id,t=U?"".concat(k.name," (").concat(U.label,")"):k.name,s=U?U.price:k.price;O({id:e,name:t,description:k.description,price:s,image:k.image,category:k.category,quantity:H}),Y({type:"success",title:"Sepete Eklendi",description:"".concat(t," sepete eklendi.")})},className:"rounded-xl min-h-12 h-auto py-3 px-4 sm:px-5 flex-1 min-w-0 sm:min-w-[140px] bg-brand hover:bg-brand-hover text-white font-semibold text-sm sm:text-base text-center",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2 shrink-0"}),(0,a.jsx)("span",{className:"break-words",children:"Sepete Ekle"})]}),(0,a.jsxs)(i.z,{onClick:()=>{let e=U?"".concat(k.id,"-").concat(U.key):k.id,t=U?"".concat(k.name," (").concat(U.label,")"):k.name,s=U?U.price:k.price;O({id:e,name:t,description:k.description,price:s,image:k.image,category:k.category,quantity:H}),Y({type:"success",title:"Sepete Eklendi",description:"\xd6demeye y\xf6nlendiriliyorsunuz."}),setTimeout(()=>q.replace("/checkout"),50)},variant:"destructive",className:"rounded-xl min-h-12 h-auto py-3 px-4 sm:px-5 flex-1 min-w-0 sm:min-w-[160px] font-semibold text-sm sm:text-base text-center",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2 shrink-0"}),(0,a.jsx)("span",{className:"break-words",children:"\xdcr\xfcn\xfc Hemen Satın Al"})]})]}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>ea(e=>!e),className:"text-sm font-semibold text-brand hover:text-brand/80 transition-colors text-left flex items-center gap-2",children:["Bu \xfcr\xfcn size uygun mu?",(0,a.jsx)(c.Z,{className:"w-4 h-4 transition-transform ".concat(es?"rotate-90":"")})]}),(0,a.jsx)("p",{className:"text-slate-600 text-sm mt-1.5",children:"Sizi arayıp \xfcr\xfcn\xfcn uygunluğu hakkında bilgi verelim."}),es&&(0,a.jsx)("div",{className:"mt-4",children:ee?(0,a.jsx)("p",{className:"text-sm text-green-600 font-medium py-2",children:"Mesajınız iletildi. En kısa s\xfcrede size d\xf6n\xfcş yapacağız."}):(0,a.jsxs)("form",{className:"space-y-2.5",onSubmit:async e=>{if(e.preventDefault(),!X&&J.name.trim()&&J.email.trim()&&J.phone.trim()&&J.message.trim()){Q(!0);try{let e=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:J.name.trim(),email:J.email.trim(),phone:J.phone.trim(),subject:"Bu \xfcr\xfcn bana uygun mu?",message:"[\xdcr\xfcn: ".concat(k.name,"]\n\n").concat(J.message.trim())})}),t=await e.json();t.success?(et(!0),Y({type:"success",title:"G\xf6nderildi",description:t.message})):Y({type:"error",title:"Hata",description:t.error||"G\xf6nderilemedi."})}catch(e){Y({type:"error",title:"Hata",description:"G\xf6nderilemedi. L\xfctfen tekrar deneyin."})}finally{Q(!1)}}},children:[(0,a.jsx)("input",{type:"text",placeholder:"Ad Soyad *",value:J.name,onChange:e=>$(t=>({...t,name:e.target.value})),className:"w-full h-9 rounded-lg border border-slate-200 px-3 text-sm",required:!0}),(0,a.jsx)("input",{type:"email",placeholder:"E-posta *",value:J.email,onChange:e=>$(t=>({...t,email:e.target.value})),className:"w-full h-9 rounded-lg border border-slate-200 px-3 text-sm",required:!0}),(0,a.jsx)("input",{type:"tel",placeholder:"Telefon *",value:J.phone,onChange:e=>$(t=>({...t,phone:e.target.value})),className:"w-full h-9 rounded-lg border border-slate-200 px-3 text-sm",required:!0}),(0,a.jsx)("textarea",{placeholder:"Mesajınız *",value:J.message,onChange:e=>$(t=>({...t,message:e.target.value})),className:"w-full min-h-[60px] rounded-lg border border-slate-200 px-3 py-2 text-sm resize-y",rows:2,required:!0}),(0,a.jsx)(i.z,{type:"submit",disabled:X,size:"sm",className:"w-full rounded-lg h-9 text-sm font-semibold",children:X?"G\xf6nderiliyor...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{className:"w-3.5 h-3.5 mr-1.5"}),"G\xf6nder"]})})]})})]}),ec.length>0&&(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-3",children:"Bu \xfcr\xfcn\xfcn diğer se\xe7enekleri"}),(0,a.jsx)("ul",{className:"flex flex-wrap gap-2",children:ec.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:"/products/".concat(e.id),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 hover:border-brand hover:text-brand transition-colors",children:e.name})},e.id))})]})]})]}),(()=>{var e;let t=null!==(e=null==U?void 0:U.specifications)&&void 0!==e?e:k.specifications,s=t&&Object.keys(t).length>0;return s||k.fullDescription||k.description||k.features&&k.features.length>0||k.descriptionSections&&k.descriptionSections.length>0?(0,a.jsxs)("div",{className:"mt-10 pt-8 border-t border-slate-200",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-6",children:"\xdcr\xfcn A\xe7ıklamaları"}),(0,a.jsxs)("div",{className:"grid gap-8 md:gap-10 ".concat(s?"grid-cols-1 md:grid-cols-2":"grid-cols-1"),children:[s&&(0,a.jsxs)("div",{className:"md:max-w-sm min-w-0",children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-3",children:"\xdcr\xfcn \xd6zellikleri"}),(0,a.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-visible",children:(0,a.jsx)("dl",{className:"divide-y divide-slate-100",children:Object.entries(t).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-start gap-x-3 gap-y-1 py-3 px-4 text-sm min-h-[44px] hover:bg-slate-50/80 transition-colors first:rounded-t-xl last:rounded-b-xl",children:[(0,a.jsx)("dt",{className:"text-slate-500 font-medium shrink-0 w-full sm:max-w-[45%] break-words",title:t,children:t}),(0,a.jsx)("dd",{className:"text-slate-900 font-semibold sm:text-right w-full min-w-0 flex-1 break-all break-words",title:String(s),children:s})]},t)})})})]}),(0,a.jsxs)("div",{className:"min-w-0 flex-1 space-y-6",children:[(k.fullDescription||k.description)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-2",children:"Ana A\xe7ıklama"}),(0,a.jsx)("p",{className:"text-slate-600 text-sm leading-relaxed whitespace-pre-line",children:k.fullDescription||k.description})]}),k.features&&k.features.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-slate-900 mb-2",children:"\xdcr\xfcn İ\xe7eriği"}),(0,a.jsx)("ul",{className:"list-disc list-inside text-slate-600 text-sm leading-relaxed space-y-1",children:k.features.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]}),k.descriptionSections&&k.descriptionSections.length>0&&(0,a.jsx)(P,{type:"multiple",className:"w-full",children:k.descriptionSections.map((e,t)=>(0,a.jsxs)(R,{value:"section-".concat(t),children:[(0,a.jsx)(Z,{children:e.title}),(0,a.jsx)(F,{children:(0,a.jsx)("p",{className:"text-slate-600 text-sm leading-relaxed whitespace-pre-line",children:e.content})})]},t))})]})]})]}):null})(),(0,a.jsxs)("div",{className:"mt-10 pt-8 border-t border-slate-200 min-w-0",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-6",children:"\xd6nerilen \xdcr\xfcnler"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 sm:gap-4 min-w-0",children:eo.map(e=>{var t,s;return(0,a.jsx)(A.I,{product:{id:e.id,name:e.name,description:e.description,price:e.price,image:null!==(s=null===(t=e.images)||void 0===t?void 0:t[0])&&void 0!==s?s:e.image,category:e.category,brand:e.brand},oldPrice:e.oldPrice,discount:e.discount,badges:e.tags,sku:e.sku,isVariantProduct:e.isVariantProduct,variant:"compact"},e.id)})})]})]})})})}S.mockProducts.forEach(e=>{B[e.id]=e})},3030:function(e,t,s){"use strict";s.d(t,{I:function(){return h}});var a=s(7437),l=s(2265),r=s(7648),n=s(3145),i=s(6070),d=s(5974),o=s(4794),c=s(6039),m=s(606),u=s(5316),x=s(1651);function h(e){let{product:t,oldPrice:s,discount:h,sku:p,badges:f=[],stock:b,isVariantProduct:g,selectedVariant:v,variant:w="full",className:j=""}=e,y=(0,m.u)(e=>e.currency),{rates:N}=(0,u.h)(),k="compact"===w,[D,S]=(0,l.useState)(!1);(0,l.useEffect)(()=>{S(!1)},[t.id,t.image]);let z=!!(t.image&&!D&&!t.image.includes("placeholder")),A=v?v.price:t.price,E=0===A,C=e=>{var t;return(0,c.uM)(e,y,null!==(t=null==N?void 0:N.rates)&&void 0!==t?t:null)},I=null!=h&&h>0,T=f.slice(0,I?1:2);return(0,a.jsxs)(i.Zb,{className:"group bg-surface-elevated rounded-lg border border-palette shadow-sm hover:shadow-md hover:border-brand/30 transition-all duration-200 overflow-hidden flex flex-col min-w-0 touch-manipulation ".concat(j),children:[(0,a.jsxs)("div",{className:"relative aspect-square overflow-hidden border-b border-palette/50 bg-white ".concat(k?"p-1 sm:p-2":"p-1.5 sm:p-2.5"),children:[(0,a.jsx)(r.default,{href:"/products/".concat(t.id),className:"block h-full w-full relative",children:(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center ".concat(z?"bg-white":"bg-slate-100"," ").concat(k?"p-1 sm:p-2":"p-1.5 sm:p-2.5"),children:z?(0,a.jsx)(n.default,{src:t.image,alt:t.name,fill:!0,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"object-contain group-hover:scale-105 transition-transform duration-300",onError:()=>S(!0)}):(0,a.jsx)(o.Z,{className:"w-20 h-20 sm:w-24 sm:h-24 text-slate-300 group-hover:scale-105 transition-transform duration-300"})})}),(0,a.jsxs)("div",{className:"absolute top-1.5 left-1.5 sm:top-2 sm:left-2 z-10 flex flex-wrap gap-1 max-w-[85%] min-w-0",children:[I&&(0,a.jsx)(d.C,{className:"bg-brand text-brand-foreground border-none text-[9px] sm:text-[10px] font-semibold px-1.5 py-0.5 rounded shadow-sm shrink-0 max-w-full overflow-hidden",children:(0,a.jsxs)("span",{className:"truncate block",children:["%",h]})}),T.map(e=>(0,a.jsx)(d.C,{className:"bg-brand text-brand-foreground border-none text-[9px] sm:text-[10px] font-semibold px-1.5 py-0.5 rounded shadow-sm max-w-full min-w-0 overflow-hidden",children:(0,a.jsx)("span",{className:"truncate block",children:e})},e))]})]}),(0,a.jsxs)("div",{className:"flex flex-col flex-1 min-h-0 justify-end ".concat(k?"p-1.5 sm:p-2":"p-2 sm:p-2.5"),children:[t.brand&&(0,a.jsx)("p",{className:"text-[10px] sm:text-xs text-ink-muted mb-0.5 line-clamp-1",children:t.brand}),(0,a.jsx)(r.default,{href:"/products/".concat(t.id),className:"block group/title mb-1 min-h-[2.5em]",children:(0,a.jsx)("h3",{className:"font-medium text-ink line-clamp-2 group-hover/title:text-brand transition-colors leading-tight ".concat(k?"text-[11px] sm:text-xs":"text-xs sm:text-sm"),children:t.name})}),p&&(0,a.jsx)("p",{className:"text-[10px] text-ink-muted/70 font-medium mb-1.5 px-1 bg-slate-50 w-fit rounded border border-slate-100 uppercase tracking-tighter",children:p}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 mb-1.5 flex-wrap",children:[!E&&null!=s&&s>t.price&&(0,a.jsx)("span",{className:"text-[10px] sm:text-xs text-ink-muted line-through",children:C(s)}),(0,a.jsx)("span",{className:"font-semibold text-ink ".concat(k?"text-xs sm:text-sm":"text-sm"),children:E?"Teklif al":C(A)}),!E&&g&&(0,a.jsx)("span",{className:"text-[10px] text-ink-muted",children:"'den itibaren"})]}),(0,a.jsx)("div",{className:"w-full min-w-0",children:E?(0,a.jsx)(r.default,{href:"/contact",className:"flex w-full items-center justify-center rounded-md font-medium bg-brand hover:bg-brand-hover text-brand-foreground touch-manipulation ".concat(k?"py-2 text-[10px] sm:text-[11px] min-h-[38px]":"py-2.5 text-[11px] sm:text-xs min-h-[44px]"),children:"Teklif al"}):(0,a.jsx)(x.a,{product:t,selectedVariant:v,className:"w-full rounded-md font-medium bg-brand hover:bg-brand-hover text-brand-foreground justify-center touch-manipulation max-w-full ".concat(k?"py-2 text-[10px] sm:text-[11px] min-h-[38px]":"py-2.5 text-[11px] sm:text-xs min-h-[44px]")})})]})]})}},5417:function(e,t,s){"use strict";s.d(t,{b:function(){return n}});var a=s(7437),l=s(2265),r=s(7476);function n(e){let{children:t,hero:s,breadcrumbs:n,showSidebar:i=!0}=e;return(0,a.jsxs)("div",{className:"min-h-screen min-h-[100dvh] bg-slate-50 flex flex-col w-full max-w-full min-w-0 overflow-x-hidden",children:[s&&(0,a.jsx)("section",{className:"w-full shrink-0 min-w-0",children:s}),n&&(0,a.jsx)("section",{className:"bg-white border-b border-slate-200 sticky top-14 md:top-16 z-10 py-3 shadow-sm shrink-0 px-safe",children:(0,a.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-[1440px] min-w-0",children:n})}),(0,a.jsx)("div",{className:"flex-1 w-full max-w-full min-w-0 overflow-x-hidden pb-safe",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6 lg:gap-8 max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8 ".concat(n||s?"py-4 sm:py-6 md:py-10":"py-6 sm:py-8 md:py-12"," min-w-0"),children:[i&&(0,a.jsx)("div",{className:"w-full lg:w-60 xl:w-64 shrink-0 overflow-visible",children:(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{className:"w-full lg:w-60 xl:w-64 shrink-0 bg-white/50 animate-pulse rounded-xl h-[400px]"}),children:(0,a.jsx)(r.A,{})})}),(0,a.jsx)("main",{className:"flex-1 min-w-0 max-w-full overflow-x-hidden",children:t})]})})]})}},6110:function(e,t,s){"use strict";s.d(t,{$N:function(){return p},Be:function(){return f},Vq:function(){return d},cN:function(){return h},cZ:function(){return u},fK:function(){return x},hg:function(){return o}});var a=s(7437),l=s(2265),r=s(9027),n=s(2489),i=s(4508);let d=r.fC,o=r.xz,c=r.h_;r.x8;let m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});m.displayName=r.aV.displayName;let u=l.forwardRef((e,t)=>{let{className:s,children:l,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[95vw] sm:max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 sm:p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg sm:rounded-lg max-h-[90vh] overflow-y-auto",s),...d,children:[l,(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.VY.displayName;let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};x.displayName="DialogHeader";let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};h.displayName="DialogFooter";let p=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});p.displayName=r.Dx.displayName;let f=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...l})});f.displayName=r.dk.displayName},4257:function(e,t,s){"use strict";s.d(t,{IH:function(){return p},Wn:function(){return o},getAuth:function(){return m},getDb:function(){return u},getStorage:function(){return x}});var a=s(738),l=s(3301),r=s(5978),n=s(62),i=s(6834);let d={apiKey:"AIzaSyDbWLUtJ2axRohxe2JHwhLTQNG8SGgfe3k",authDomain:"eticaret-54bdc.firebaseapp.com",projectId:"eticaret-54bdc",storageBucket:"eticaret-54bdc.firebasestorage.app",messagingSenderId:"827577534163",appId:"1:827577534163:web:8dee1cce254e07bb78b626",measurementId:"G-5D2R7SZCPP"},o=!0;function c(){if(!o)throw Error("Firebase yapılandırılmamış. .env.local dosyasında NEXT_PUBLIC_FIREBASE_API_KEY ve NEXT_PUBLIC_FIREBASE_PROJECT_ID tanımlayın. Detay i\xe7in FIREBASE_SETUP.md dosyasına bakın.");return(0,a.C6)().length?(0,a.C6)()[0]:(0,a.ZF)(d)}function m(){return(0,l.v0)(c())}function u(){return(0,r.ad)(c())}function x(){return(0,n.cF)(c())}let h=null;async function p(){return h||(await (0,i.Gb)()?h=(0,i.IH)(c()):null)}},3253:function(e,t,s){"use strict";s.d(t,{$l:function(){return n},AU:function(){return m},LV:function(){return u},Ni:function(){return p},ZK:function(){return i},_N:function(){return c},_l:function(){return x},a3:function(){return h},et:function(){return r},y$:function(){return d},y3:function(){return o}});var a=s(5978),l=s(4257);async function r(e){let t=(0,l.getDb)(),s=(0,a.doc)(t,"users",e),r=await (0,a.getDoc)(s);return r.exists()?r.data():null}async function n(e,t){let s=(0,l.getDb)(),r=(0,a.doc)(s,"users",e);if((await (0,a.getDoc)(r)).exists())await (0,a.updateDoc)(r,{...null!=t.name&&{name:t.name},...null!=t.phone&&{phone:t.phone},...null!=t.email&&{email:t.email},...null!=t.role&&{role:t.role},...null!=t.customerNo&&{customerNo:t.customerNo}});else{var n,i,d,o;await (0,a.setDoc)(r,{email:null!==(n=t.email)&&void 0!==n?n:"",name:null!==(i=t.name)&&void 0!==i?i:"",phone:null!==(d=t.phone)&&void 0!==d?d:"",role:null!==(o=t.role)&&void 0!==o?o:"customer",...null!=t.customerNo&&{customerNo:t.customerNo},createdAt:(0,a.serverTimestamp)()})}}async function i(e){let t=(0,l.getDb)(),s=(await (0,a.getDocs)((0,a.collection)(t,"users",e,"addresses"))).docs.map(e=>({id:e.id,...e.data()}));return s.sort((e,t)=>(t.isDefault?1:0)-(e.isDefault?1:0)),s}async function d(e,t){let s=(0,l.getDb)(),r=(0,a.collection)(s,"users",e,"addresses");if(t.isDefault){let e=(0,a.qs)(s);(await (0,a.getDocs)(r)).docs.forEach(t=>e.update(t.ref,{isDefault:!1}));let l=(0,a.doc)(r);return e.set(l,{...t,isDefault:!0}),await e.commit(),l.id}return(await (0,a.addDoc)(r,t)).id}async function o(e,t,s){let r=(0,l.getDb)(),n=(0,a.doc)(r,"users",e,"addresses",t);if(!0===s.isDefault){let t=(0,a.qs)(r);(await (0,a.getDocs)((0,a.collection)(r,"users",e,"addresses"))).docs.forEach(e=>t.update(e.ref,{isDefault:!1})),t.update(n,s),await t.commit()}else await (0,a.updateDoc)(n,s)}async function c(e,t){let s=(0,l.getDb)();await (0,a.deleteDoc)((0,a.doc)(s,"users",e,"addresses",t))}async function m(e){let t=(0,l.getDb)(),s=(await (0,a.getDocs)((0,a.collection)(t,"users",e,"orders"))).docs.map(e=>{let t=e.data(),s=t.createdAt;return{id:e.id,...t,createdAt:(null==s?void 0:s.seconds)?new Date(1e3*s.seconds):new Date}});return s.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()),s}async function u(e,t){let s=(0,l.getDb)();return(await (0,a.addDoc)((0,a.collection)(s,"users",e,"orders"),{...t,createdAt:(0,a.serverTimestamp)()})).id}async function x(e){let t=(0,l.getDb)();return(await (0,a.getDocs)((0,a.collection)(t,"users",e,"favorites"))).docs.map(e=>{let t=e.data();return{id:e.id,productId:e.id,...t}})}async function h(e,t){let s=(0,l.getDb)(),r=(0,a.doc)(s,"users",e,"favorites",t);(await (0,a.getDoc)(r)).exists()||await (0,a.setDoc)(r,{productId:t,createdAt:(0,a.serverTimestamp)()})}async function p(e,t){let s=(0,l.getDb)();await (0,a.deleteDoc)((0,a.doc)(s,"users",e,"favorites",t))}},2199:function(e,t,s){"use strict";s.d(t,{t:function(){return a.K}});var a=s(8664)},8664:function(e,t,s){"use strict";s.d(t,{K:function(){return o}});var a=s(9625),l=s(6885),r=s(3301),n=s(4257),i=s(3253);function d(e,t){var s,a,l,r;return{id:e.uid,email:e.email||"",name:null!==(a=null!==(s=null==t?void 0:t.name)&&void 0!==s?s:e.displayName)&&void 0!==a?a:"",phone:null==t?void 0:t.phone,role:null!==(l=null==t?void 0:t.role)&&void 0!==l?l:"customer",emailVerified:null!==(r=e.emailVerified)&&void 0!==r&&r}}let o=(0,a.Ue)()((0,l.tJ)(e=>({user:null,token:null,isAuthenticated:!1,rememberMe:!1,authReady:!1,login:async function(t,s){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n.Wn)return{success:!1,error:"Firebase yapılandırılmamış."};try{let l=(0,n.getAuth)(),o=await (0,r.e5)(l,t,s),c=await o.user.getIdToken(),m=await (0,i.et)(o.user.uid),u=d(o.user,m);return e({user:u,token:c,isAuthenticated:!0,rememberMe:a}),{success:!0}}catch(t){let e=(null==t?void 0:t.code)||"";return{success:!1,error:"auth/user-not-found"===e||"auth/invalid-credential"===e||"auth/wrong-password"===e?"E-posta veya şifre hatalı.":"auth/invalid-email"===e?"Ge\xe7ersiz e-posta.":(null==t?void 0:t.message)||"Giriş başarısız."}}},register:async(t,s,a,l)=>{if(!n.Wn)return{success:!1,error:"Firebase yapılandırılmamış."};try{let d=(0,n.getAuth)(),o=await (0,r.Xb)(d,t,s);await (0,i.$l)(o.user.uid,{email:o.user.email||t,name:a,phone:l,role:"customer"});let c=await o.user.getIdToken(),m={id:o.user.uid,email:o.user.email||t,name:a,phone:l,role:"customer",emailVerified:!1};return e({user:m,token:c,isAuthenticated:!0,rememberMe:!0}),{success:!0,message:"Hesabınız oluşturuldu."}}catch(t){let e=(null==t?void 0:t.code)||"";return{success:!1,error:"auth/email-already-in-use"===e?"Bu e-posta adresi zaten kullanılıyor.":"auth/weak-password"===e?"Şifre en az 6 karakter olmalıdır.":(null==t?void 0:t.message)||"Kayıt başarısız."}}},logout:()=>{if(n.Wn)try{(0,r.signOut)((0,n.getAuth)())}catch(e){}e({user:null,token:null,isAuthenticated:!1,rememberMe:!1}),sessionStorage.removeItem("auth-token"),sessionStorage.removeItem("auth-user")},setUser:t=>e({user:t,isAuthenticated:!!t}),setToken:t=>e({token:t}),refreshUserProfile:async t=>{let s=await (0,i.et)(t);s&&e(e=>{var t;return{user:e.user?{...e.user,name:s.name,phone:s.phone,role:null!==(t=s.role)&&void 0!==t?t:e.user.role}:null}})}}),{name:"auth-storage"}));if(n.Wn)try{let e=(0,n.getAuth)();(0,r.Aj)(e,async e=>{if(e){let t=await e.getIdToken(),s=await (0,i.et)(e.uid),a=d(e,s);o.setState({user:a,token:t,isAuthenticated:!0,authReady:!0})}else o.setState({user:null,token:null,isAuthenticated:!1,authReady:!0})})}catch(e){o.setState({authReady:!0})}else o.setState({authReady:!0})}},function(e){e.O(0,[4358,139,2972,8743,9697,6370,6565,5344,8706,5883,2249,3347,3145,4116,9357,4712,760,7476,2971,2117,1744],function(){return e(e.s=806)}),_N_E=e.O()}]);