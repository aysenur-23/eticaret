(()=>{var e={};e.id=57,e.ids=[57],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},69141:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>o});var s=r(50482),a=r(69108),i=r(62563),l=r.n(i),n=r(68300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(t,c);let o=["",{children:["favorites",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,71818)),"C:\\Users\\aslan\\Desktop\\masa\xfcst\xfc-10.25\\DIY_battery\\app\\favorites\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9756)),"C:\\Users\\aslan\\Desktop\\masa\xfcst\xfc-10.25\\DIY_battery\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\aslan\\Desktop\\masa\xfcst\xfc-10.25\\DIY_battery\\app\\favorites\\page.tsx"],m="/favorites/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/favorites/page",pathname:"/favorites",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},33955:(e,t,r)=>{Promise.resolve().then(r.bind(r,21958))},21958:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(95344),a=r(3729),i=r(20783),l=r.n(i),n=r(41223),c=r.n(n),o=r(61351),d=r(16212),m=r(69436),u=r(42739),x=r(63024),p=r(51354),h=r(91917);r(51182);var f=r(78279),g=r(45791),v=r(49462),y=r(22254),N=r(90901);function j(){let e=(0,y.useRouter)(),{isAuthenticated:t,user:r}=(0,f.t)(),{addToast:i}=(0,g.useToast)(),[n,j]=(0,a.useState)([]),[b,k]=(0,a.useState)(!0),[w,z]=(0,a.useState)(null);(0,a.useEffect)(()=>{let s=setTimeout(()=>{if(!t||!r){e.push("/login?redirect=/favorites");return}Z()},100);return()=>clearTimeout(s)},[t,r,e]);let Z=async()=>{try{k(!0);let r=f.t.getState().token;if(!r||!t){e.push("/login?redirect=/favorites");return}let s=await fetch("/api/favorites",{headers:{Authorization:`Bearer ${r}`}});if(401===s.status){e.push("/login?redirect=/favorites");return}if(!s.ok)throw Error("Favoriler y\xfcklenemedi");let a=await s.json();if(a.favorites&&a.favorites.length>0){let e=a.favorites.map(e=>{let t=e.product;return{id:e.productId,favoriteId:e.id,name:t?.name||`\xdcr\xfcn #${e.productId}`,description:t?.description,price:t?.price||0,image:t?.image,category:t?.category,stock:t?.stock,slug:t?.slug,createdAt:e.createdAt}});j(e)}else j([])}catch(e){console.error("Favoriler y\xfcklenirken hata:",e),i({type:"error",title:"Hata",description:"Favoriler y\xfcklenirken bir hata oluştu."})}finally{k(!1)}},$=async(r,s)=>{try{z(r);let a=f.t.getState().token;if(!a||!t){e.push("/login");return}if(!(await fetch(`/api/favorites?productId=${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})).ok)throw Error("Favoriden \xe7ıkarılamadı");j(e=>e.filter(e=>e.favoriteId!==r)),i({type:"success",title:"Favoriden \xc7ıkarıldı",description:"\xdcr\xfcn favorilerinizden \xe7ıkarıldı."})}catch(e){console.error("Favoriden \xe7ıkarma hatası:",e),i({type:"error",title:"Hata",description:"\xdcr\xfcn favorilerden \xe7ıkarılırken bir hata oluştu."})}finally{z(null)}};return t||b?b?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(u.Z,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Favoriler y\xfckleniyor..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(d.z,{asChild:!0,variant:"ghost",size:"sm",children:(0,s.jsxs)(l(),{href:"/products",className:"flex items-center gap-2",children:[s.jsx(x.Z,{className:"w-4 h-4"}),"\xdcr\xfcnlere D\xf6n"]})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Favorilerim"}),s.jsx("p",{className:"text-gray-600",children:0===n.length?"Hen\xfcz favori \xfcr\xfcn\xfcn\xfcz yok":`${n.length} favori \xfcr\xfcn`})]}),0===n.length?s.jsx(o.Zb,{children:(0,s.jsxs)(o.aY,{className:"py-16 text-center",children:[s.jsx(p.Z,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Hen\xfcz favori yok"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Beğendiğiniz \xfcr\xfcnleri favorilerinize ekleyin ve daha sonra kolayca bulun."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(d.z,{asChild:!0,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:(0,s.jsxs)(l(),{href:"/products",className:"flex items-center gap-2",children:[s.jsx(h.Z,{className:"w-5 h-5"}),"\xdcr\xfcnlere G\xf6z At"]})}),s.jsx(d.z,{asChild:!0,size:"lg",variant:"outline",children:(0,s.jsxs)(l(),{href:"/",className:"flex items-center gap-2",children:[s.jsx(x.Z,{className:"w-5 h-5"}),"Ana Sayfaya D\xf6n"]})})]})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(e=>(0,s.jsxs)(o.Zb,{className:"hover:shadow-lg transition-shadow flex flex-col",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx(l(),{href:`/products/${e.id}`,children:s.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-t-lg overflow-hidden flex items-center justify-center",children:e.image?s.jsx(c(),{src:e.image,alt:e.name,width:300,height:200,className:"object-cover w-full h-full",onError:e=>{e.currentTarget.style.display="none"}}):s.jsx(h.Z,{className:"w-16 h-16 text-gray-400"})})}),s.jsx(d.z,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-white/90 hover:bg-white shadow-md",onClick:()=>$(e.favoriteId,e.id),disabled:w===e.favoriteId,children:w===e.favoriteId?s.jsx(u.Z,{className:"w-4 h-4 animate-spin text-red-600"}):s.jsx(p.Z,{className:"w-4 h-4 text-red-600 fill-red-600"})})]}),(0,s.jsxs)(o.Ol,{className:"flex-1",children:[s.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:s.jsx(o.ll,{className:"text-lg line-clamp-2 flex-1",children:s.jsx(l(),{href:e.slug?`/products/${e.slug}`:`/products/${e.id}`,className:"hover:text-blue-600",children:e.name})})}),e.description&&s.jsx(o.SZ,{className:"line-clamp-2 text-sm",children:e.description}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.category&&s.jsx(m.C,{variant:"secondary",className:"text-xs",children:e.category}),void 0!==e.stock&&s.jsx(m.C,{variant:e.stock>0?"default":"destructive",className:"text-xs",children:e.stock>0?`Stokta: ${e.stock}`:"Stokta Yok"})]})]}),(0,s.jsxs)(o.aY,{className:"pt-0 pb-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{children:s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.price>0?(0,v.ZM)(e.price):"Fiyat bilgisi yok"})})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(d.z,{asChild:!0,variant:"outline",className:"flex-1",children:s.jsx(l(),{href:e.slug?`/products/${e.slug}`:`/products/${e.id}`,children:"Detaylar"})}),s.jsx("div",{className:"flex-1",children:s.jsx(N.a,{product:{id:e.id,name:e.name,description:e.description,price:e.price,image:e.image,category:e.category},className:"w-full",disabled:!e.price||0===e.stock})})]})]})]},e.favoriteId))})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Favoriler sayfası i\xe7in giriş yapmanız gerekiyor."}),s.jsx(d.z,{asChild:!0,children:s.jsx(l(),{href:"/login?redirect=/favorites",children:"Giriş Yap"})})]})})}},90901:(e,t,r)=>{"use strict";r.d(t,{a:()=>m});var s=r(95344),a=r(3729),i=r(16212),l=r(18452),n=r(51838),c=r(12401),o=r(51182),d=r(45791);function m({product:e,className:t="",variant:r="default",size:m="default",disabled:u=!1}){let{items:x,addItem:p,updateQuantity:h,getItemQuantity:f}=(0,o.x)(),{addToast:g}=(0,d.useToast)(),[v,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{y(!0)},[]);let N=v?f(e.id):0;return v&&N>0?(0,s.jsxs)("div",{className:`flex items-center gap-2 ${t}`,children:[s.jsx(i.z,{variant:"outline",size:m,onClick:t=>{t.preventDefault(),t.stopPropagation(),N>1?(h(e.id,N-1),g({type:"success",title:"Miktar Azaltıldı",description:`${e.name} miktarı azaltıldı.`})):(h(e.id,0),g({type:"success",title:"Sepetten Kaldırıldı",description:`${e.name} sepetten kaldırıldı.`}))},className:"h-9 w-9 p-0",disabled:u,children:s.jsx(l.Z,{className:"w-4 h-4"})}),s.jsx("span",{className:"min-w-[2rem] text-center font-semibold text-gray-900",children:N}),s.jsx(i.z,{variant:r,size:m,onClick:t=>{t.preventDefault(),t.stopPropagation(),h(e.id,N+1),g({type:"success",title:"Miktar Artırıldı",description:`${e.name} miktarı artırıldı.`})},className:"h-9 w-9 p-0 bg-blue-600 hover:bg-blue-700",disabled:u,children:s.jsx(n.Z,{className:"w-4 h-4"})})]}):(0,s.jsxs)(i.z,{onClick:t=>{if(t.preventDefault(),t.stopPropagation(),!u)try{p({id:e.id,name:e.name,description:e.description,price:e.price,image:e.image,category:e.category}),g({type:"success",title:"Sepete Eklendi",description:`${e.name} sepete başarıyla eklendi.`})}catch(e){console.error("Sepete ekleme hatası:",e),g({type:"error",title:"Hata",description:"\xdcr\xfcn sepete eklenirken bir hata oluştu."})}},variant:r,size:m,className:`${"default"===r?"bg-blue-600 hover:bg-blue-700":""} ${t}`,disabled:u,children:[s.jsx(c.Z,{className:"w-4 h-4 mr-2"}),"Sepete Ekle"]})}},61351:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>n,SZ:()=>o,Zb:()=>l,aY:()=>d,ll:()=>c});var s=r(95344),a=r(3729),i=r(91626);let l=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow-md hover:shadow-lg transition-shadow",e),...t}));l.displayName="Card";let n=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));o.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},49462:(e,t,r)=>{"use strict";function s(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":`${t.toFixed(1)} V`}function a(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":`${t.toFixed(1)} A`}function i(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":`${t.toFixed(1)} Ah`}function l(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":`${Math.round(t)} Wh`}function n(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":`${Math.round(t).toLocaleString("tr-TR")} g`}function c(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}r.d(t,{Bb:()=>l,Wm:()=>i,ZM:()=>c,cr:()=>n,gz:()=>a,x0:()=>s})},63024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},42739:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},18452:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},51838:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},71818:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let s=(0,r(86843).createProxy)(String.raw`C:\Users\aslan\Desktop\masaüstü-10.25\DIY_battery\app\favorites\page.tsx`),{__esModule:a,$$typeof:i}=s,l=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,515,4478],()=>r(69141));module.exports=s})();