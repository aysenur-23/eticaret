(()=>{var e={};e.id=6931,e.ids=[6931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},41705:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=s(50482),t=s(69108),i=s(62563),l=s.n(i),n=s(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(a,d);let o=["",{children:["verify-email",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,23806)),"C:\\Users\\aslan\\Desktop\\masa\xfcst\xfc-10.25\\DIY_battery\\app\\verify-email\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9756)),"C:\\Users\\aslan\\Desktop\\masa\xfcst\xfc-10.25\\DIY_battery\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\aslan\\Desktop\\masa\xfcst\xfc-10.25\\DIY_battery\\app\\verify-email\\page.tsx"],u="/verify-email/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/verify-email/page",pathname:"/verify-email",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},46328:(e,a,s)=>{Promise.resolve().then(s.bind(s,53829))},53829:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>g});var r=s(95344),t=s(3729),i=s(22254),l=s(61351),n=s(16212),d=s(92549),o=s(1586),c=s(5062),u=s(7060),m=s(73229),x=s(71206),p=s(42739),f=s(20783),h=s.n(f);function g(){let e=(0,i.useSearchParams)(),a=(0,i.useRouter)(),[s,f]=(0,t.useState)("loading"),[g,y]=(0,t.useState)(""),[v,j]=(0,t.useState)(""),[b,N]=(0,t.useState)(""),[w,k]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let a=e.get("token"),s=e.get("verified"),r=e.get("email"),t=e.get("code");if("true"===s){f("success"),y("E-posta adresiniz başarıyla doğrulandı! Giriş yapabilirsiniz.");return}a?_(a):(r&&(N(r),t&&j(t)),f("code"))},[e]);let _=async e=>{try{let s=await fetch(`/api/auth/verify-email?token=${e}`);if(s.redirected){window.location.href=s.url;return}let r=await s.json();r.success?(f("success"),y("E-posta adresiniz başarıyla doğrulandı!"),setTimeout(()=>{a.push("/login?verified=true")},2e3)):(f("error"),y(r.error||"Doğrulama başarısız oldu"))}catch(e){f("error"),y("Bir hata oluştu. L\xfctfen tekrar deneyin.")}},D=async e=>{if(e.preventDefault(),!v||!b){y("L\xfctfen e-posta ve doğrulama kodunu girin");return}k(!0),y("");try{let e=await fetch(`/api/auth/verify-email?code=${v}&email=${encodeURIComponent(b)}`),s=await e.json();s.success?(f("success"),y("E-posta adresiniz başarıyla doğrulandı!"),setTimeout(()=>{a.push("/login?verified=true")},2e3)):(f("error"),y(s.error||"Doğrulama başarısız oldu"))}catch(e){f("error"),y("Bir hata oluştu. L\xfctfen tekrar deneyin.")}finally{k(!1)}};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 flex items-center justify-center p-4",children:r.jsx("div",{className:"w-full max-w-md",children:(0,r.jsxs)(l.Zb,{className:"shadow-2xl border-0",children:[(0,r.jsxs)(l.Ol,{className:"space-y-1 text-center pb-4",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center ${"success"===s?"bg-green-100":"error"===s?"bg-red-100":"bg-blue-100"}`,children:"success"===s?r.jsx(u.Z,{className:"w-8 h-8 text-green-600"}):"error"===s?r.jsx(m.Z,{className:"w-8 h-8 text-red-600"}):r.jsx(x.Z,{className:"w-8 h-8 text-blue-600"})})}),r.jsx(l.ll,{className:"text-2xl font-bold text-gray-900",children:"success"===s?"E-posta Doğrulandı":"error"===s?"Doğrulama Başarısız":"E-posta Doğrulama"}),r.jsx(l.SZ,{className:"text-gray-600",children:"success"===s?"Hesabınız aktifleştirildi":"error"===s?"L\xfctfen tekrar deneyin":"E-posta adresinizi doğrulayın"})]}),(0,r.jsxs)(l.aY,{children:["loading"===s&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[r.jsx(p.Z,{className:"w-8 h-8 text-blue-600 animate-spin mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Doğrulanıyor..."})]}),"success"===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(c.bZ,{children:[r.jsx(u.Z,{className:"h-4 w-4"}),r.jsx(c.X,{children:g})]}),r.jsx(n.z,{asChild:!0,className:"w-full",children:r.jsx(h(),{href:"/login",children:"Giriş Yap"})})]}),"error"===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(c.bZ,{variant:"destructive",children:[r.jsx(m.Z,{className:"h-4 w-4"}),r.jsx(c.X,{children:g})]}),r.jsx(n.z,{asChild:!0,variant:"outline",className:"w-full",children:r.jsx(h(),{href:"/register",children:"Yeniden Kayıt Ol"})})]}),"code"===s&&(0,r.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[b&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{htmlFor:"email",children:"E-posta Adresi"}),r.jsx(d.I,{id:"email",type:"email",placeholder:"ornek@email.com",value:b,onChange:e=>N(e.target.value),required:!0,disabled:!0,className:"bg-gray-50"}),r.jsx("p",{className:"text-xs text-gray-500",children:"E-posta adresiniz kayıt sırasında verdiğiniz adres"})]}),!b&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{htmlFor:"email",children:"E-posta Adresi"}),r.jsx(d.I,{id:"email",type:"email",placeholder:"ornek@email.com",value:b,onChange:e=>N(e.target.value),required:!0,disabled:w})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(o._,{htmlFor:"code",children:"Doğrulama Kodu"}),r.jsx(d.I,{id:"code",type:"text",placeholder:"6 haneli kod",value:v,onChange:e=>j(e.target.value.toUpperCase()),maxLength:6,required:!0,disabled:w,className:"text-center text-2xl font-mono tracking-widest"}),r.jsx("p",{className:"text-xs text-gray-500",children:"E-posta adresinize g\xf6nderilen 6 haneli kodu girin"})]}),g&&r.jsx(c.bZ,{variant:g.includes("başarı")?"default":"destructive",children:r.jsx(c.X,{children:g})}),r.jsx(n.z,{type:"submit",className:"w-full",disabled:w,children:w?(0,r.jsxs)(r.Fragment,{children:[r.jsx(p.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Doğrulanıyor..."]}):"Doğrula"}),r.jsx("div",{className:"text-center text-sm text-gray-600",children:r.jsx(h(),{href:"/login",className:"text-blue-600 hover:underline",children:"Giriş sayfasına d\xf6n"})})]})]})]})})})}},5062:(e,a,s)=>{"use strict";s.d(a,{X:()=>o,bZ:()=>d});var r=s(95344),t=s(3729),i=s(49247),l=s(91626);let n=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=t.forwardRef(({className:e,variant:a,...s},t)=>r.jsx("div",{ref:t,role:"alert",className:(0,l.cn)(n({variant:a}),e),...s}));d.displayName="Alert",t.forwardRef(({className:e,...a},s)=>r.jsx("h5",{ref:s,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...a})).displayName="AlertTitle";let o=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...a}));o.displayName="AlertDescription"},61351:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>n,SZ:()=>o,Zb:()=>l,aY:()=>c,ll:()=>d});var r=s(95344),t=s(3729),i=s(91626);let l=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow-md hover:shadow-lg transition-shadow",e),...a}));l.displayName="Card";let n=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...a}));n.displayName="CardHeader";let d=t.forwardRef(({className:e,...a},s)=>r.jsx("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle";let o=t.forwardRef(({className:e,...a},s)=>r.jsx("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",t.forwardRef(({className:e,...a},s)=>r.jsx("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},1586:(e,a,s)=>{"use strict";s.d(a,{_:()=>o});var r=s(95344),t=s(3729),i=s(14217),l=s(49247),n=s(91626);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef(({className:e,...a},s)=>r.jsx(i.f,{ref:s,className:(0,n.cn)(d(),e),...a}));o.displayName=i.f.displayName},7060:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},42739:(e,a,s)=>{"use strict";s.d(a,{Z:()=>r});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},23806:(e,a,s)=>{"use strict";s.r(a),s.d(a,{$$typeof:()=>i,__esModule:()=>t,default:()=>l});let r=(0,s(86843).createProxy)(String.raw`C:\Users\aslan\Desktop\masaüstü-10.25\DIY_battery\app\verify-email\page.tsx`),{__esModule:t,$$typeof:i}=r,l=r.default},14217:(e,a,s)=>{"use strict";s.d(a,{f:()=>n});var r=s(3729),t=s(62409),i=s(95344),l=r.forwardRef((e,a)=>(0,i.jsx)(t.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));l.displayName="Label";var n=l}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[1638,515,4478],()=>s(41705));module.exports=r})();