(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285,1733,1058],{1981:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3067:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1738:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},6142:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4322:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},3505:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1961:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},7972:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(2898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1977:function(e,t,r){Promise.resolve().then(r.bind(r,3522))},3522:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var s=r(7437),a=r(2265),n=r(4033),i=r(8641),l=r(1733),o=r(2719),c=r(7815),d=r(5754),u=r(1478),m=r(5321),h=r(5179),x=r(9842),f=r(3444),g=r(8160),v=r(1981),p=r(3067),y=r(3505),b=r(4322),j=r(7972),N=r(6142),w=r(1738),S=r(1961),k=r(3457);function C(){let e=(0,n.useRouter)(),t=(0,l.useCartStore)(e=>e.items),r=(0,l.useCartStore)(e=>e.getTotalPrice()),C=(0,l.useCartStore)(e=>e.clearCart),{user:I,isAuthenticated:Z}=(0,o.t)(),{cell:A,ns:z,np:T,bms:O,charger:M,connectorLoad:L,tools:F,targetV:q,targetWh:P,targetA:J,customerInfo:_,setCurrentStep:V}=(0,i.F)(),R=t.length>0,D=A&&z&&T,[E,B]=(0,a.useState)({name:(null==_?void 0:_.name)||(null==I?void 0:I.name)||"",email:(null==_?void 0:_.email)||(null==I?void 0:I.email)||"",phone:(null==_?void 0:_.phone)||(null==I?void 0:I.phone)||"",addressLine:(null==_?void 0:_.addressLine)||"",city:(null==_?void 0:_.city)||"",district:(null==_?void 0:_.district)||"",postalCode:(null==_?void 0:_.postalCode)||"",country:"T\xfcrkiye",billingType:(null==_?void 0:_.billingType)||"individual",idNumber:(null==_?void 0:_.idNumber)||"",companyName:(null==_?void 0:_.companyName)||"",taxId:(null==_?void 0:_.taxId)||"",taxOffice:(null==_?void 0:_.taxOffice)||"",notes:"",createAccount:!1,password:"",confirmPassword:""}),[H,K]=(0,a.useState)([]),[Y,U]=(0,a.useState)(null);a.useEffect(()=>{Z&&I&&fetch("/api/addresses",{headers:{Authorization:"Bearer ".concat(o.t.getState().token)}}).then(e=>e.json()).then(e=>{if(e.success){var t;K(e.addresses||[]);let r=null===(t=e.addresses)||void 0===t?void 0:t.find(e=>e.isDefault);r&&(U(r.id),B(e=>({...e,name:r.name,phone:r.phone,addressLine:r.addressLine,city:r.city,district:r.district,postalCode:r.postalCode,country:r.country})))}}).catch(e=>console.error("Error loading addresses:",e))},[Z,I]);let W=a.useMemo(()=>{if(!D||!A||!z||!T)return null;let e={usageType:"UAV",cellType:A.id,cellBrand:"Samsung",s:z,p:T,voltageClass:q?"".concat(q,"V"):"24V",targetCapacity:P?P/(q||24):20},t={bms:(null==O?void 0:O.id)?[O.id]:void 0,connector:(null==L?void 0:L.id)?[L.id]:void 0,tools:F,safetyEquipment:[]};try{return(0,g.m)(e,t)}catch(e){return console.error("Pricing calculation error:",e),null}},[D,A,z,T,q,P,O,L,F]),G=R?r:(null==W?void 0:W.subtotal)||0,Q=.2*G,$=G>3e3?0:50,X=G+Q+$;a.useEffect(()=>{R||D||e.push("/cart")},[R,D,e]);let ee=e=>{let{name:t,value:r}=e.target;B(e=>({...e,[t]:r}))},et=async r=>{r.preventDefault();let s=()=>{window.scrollTo({top:0,behavior:"smooth"})};if(!E.name||!E.email||!E.phone){alert("L\xfctfen t\xfcm zorunlu alanları doldurun"),s();return}if(E.createAccount){if(!E.password||E.password.length<6){alert("Şifre en az 6 karakter olmalıdır"),s();return}if(E.password!==E.confirmPassword){alert("Şifreler eşleşmiyor"),s();return}}try{let r={userId:(null==I?void 0:I.id)||null,customer:{...E,password:E.createAccount?E.password:void 0,confirmPassword:void 0},createAccount:E.createAccount,items:R?t:[],config:D?{cellType:null==A?void 0:A.id,s:z,p:T,usageType:"UAV",voltageClass:q?"".concat(q,"V"):"24V"}:null,choices:D?{bms:null==O?void 0:O.id,connector:null==L?void 0:L.id,tools:F}:null,pricing:{subtotal:G,tax:Q,shipping:$,total:X,items:R?t:[]}},a=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),n=await a.json();n.success?(R&&C(),alert("Siparişiniz alındı! Sipariş No: ".concat(n.orderId)),e.push("/orders/".concat(n.orderId))):(alert("Sipariş oluşturulurken bir hata oluştu: "+n.error),s())}catch(e){console.error("Order creation error:",e),alert("Sipariş oluşturulurken bir hata oluştu. L\xfctfen tekrar deneyin."),s()}};return R||D?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)(d.z,{variant:"ghost",onClick:()=>e.back(),className:"mb-6",children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"Geri D\xf6n"]}),(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6 sm:mb-8",children:"\xd6deme"}),(0,s.jsx)("form",{onSubmit:et,children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[R&&(0,s.jsxs)(c.Zb,{children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(y.Z,{className:"w-5 h-5"}),"Sipariş \xd6zeti"]})}),(0,s.jsx)(c.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 pb-4 border-b last:border-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(b.Z,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Adet: ",e.quantity]})]})]}),(0,s.jsx)("div",{className:"text-left sm:text-right w-full sm:w-auto",children:(0,s.jsx)("div",{className:"font-bold text-base sm:text-lg",children:(0,k.ZM)(e.price*e.quantity)})})]},e.id))})})]}),D&&(0,s.jsxs)(c.Zb,{children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(b.Z,{className:"w-5 h-5"}),"Konfig\xfcrasyon \xd6zeti"]})}),(0,s.jsx)(c.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"H\xfccre"}),(0,s.jsx)("div",{className:"font-bold text-blue-900",children:(null==A?void 0:A.name)||"N/A"})]}),(0,s.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Konfig\xfcrasyon"}),(0,s.jsxs)("div",{className:"font-bold text-blue-900",children:[z||0,"S",T||0,"P"]})]}),(0,s.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Toplam H\xfccre"}),(0,s.jsx)("div",{className:"font-bold text-blue-900",children:(z||0)*(T||0)})]}),(0,s.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Voltaj"}),(0,s.jsxs)("div",{className:"font-bold text-blue-900",children:[A&&z?(A.nominalV*z).toFixed(1):"0","V"]})]})]})})})]}),(0,s.jsxs)(c.Zb,{children:[(0,s.jsx)(c.Ol,{children:(0,s.jsxs)(c.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(j.Z,{className:"w-5 h-5"}),"M\xfcşteri Bilgileri"]})}),(0,s.jsxs)(c.aY,{className:"space-y-4",children:[Z&&H.length>0&&(0,s.jsxs)("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,s.jsx)(x._,{className:"text-sm font-semibold mb-2 block",children:"Kayıtlı Adreslerim"}),(0,s.jsx)("div",{className:"space-y-2",children:H.map(e=>(0,s.jsxs)("label",{className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer transition-colors ".concat(Y===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,s.jsx)("input",{type:"radio",name:"address",checked:Y===e.id,onChange:()=>{U(e.id),B(t=>({...t,name:e.name,phone:e.phone,addressLine:e.addressLine,city:e.city,district:e.district,postalCode:e.postalCode,country:e.country}))},className:"mt-1"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"font-medium text-sm",children:e.title}),e.isDefault&&(0,s.jsx)(u.C,{variant:"outline",className:"text-xs",children:"Varsayılan"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.addressLine}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[e.district," / ",e.city," ",e.postalCode]})]})]},e.id))}),(0,s.jsxs)(d.z,{variant:"ghost",size:"sm",className:"mt-2 text-blue-600",onClick:()=>e.push("/profile?tab=addresses"),children:[(0,s.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Adres Y\xf6netimi"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"name",children:"Ad Soyad *"}),(0,s.jsx)(h.I,{id:"name",name:"name",value:E.name,onChange:ee,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"email",children:"E-posta *"}),(0,s.jsx)(h.I,{id:"email",name:"email",type:"email",value:E.email,onChange:ee,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"phone",children:"Telefon *"}),(0,s.jsx)(h.I,{id:"phone",name:"phone",value:E.phone,onChange:ee,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"city",children:"Şehir *"}),(0,s.jsx)(h.I,{id:"city",name:"city",value:E.city,onChange:ee,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"district",children:"İl\xe7e *"}),(0,s.jsx)(h.I,{id:"district",name:"district",value:E.district,onChange:ee,required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"postalCode",children:"Posta Kodu"}),(0,s.jsx)(h.I,{id:"postalCode",name:"postalCode",value:E.postalCode,onChange:ee})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"addressLine",children:"Adres *"}),(0,s.jsx)(f.g,{id:"addressLine",name:"addressLine",value:E.addressLine,onChange:ee,required:!0,rows:3})]}),!Z&&(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:E.createAccount,onChange:e=>B(t=>({...t,createAccount:e.target.checked})),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Hesap Oluştur"}),(0,s.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Siparişlerinizi takip edin ve gelecekteki alışverişlerinizde hızlıca \xf6deme yapın."})]})]}),E.createAccount&&(0,s.jsxs)("div",{className:"mt-4 space-y-3 pl-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"password",children:"Şifre *"}),(0,s.jsx)(h.I,{id:"password",name:"password",type:"password",value:E.password,onChange:ee,required:E.createAccount,minLength:6,autoComplete:"new-password"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x._,{htmlFor:"confirmPassword",children:"Şifre Tekrar *"}),(0,s.jsx)(h.I,{id:"confirmPassword",name:"confirmPassword",type:"password",value:E.confirmPassword,onChange:ee,required:E.createAccount,minLength:6,autoComplete:"new-password"})]})]})]})]})]})]}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)(c.Zb,{className:"lg:sticky lg:top-4",children:[(0,s.jsx)(c.Ol,{children:(0,s.jsx)(c.ll,{children:"Sipariş \xd6zeti"})}),(0,s.jsxs)(c.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Ara Toplam"}),(0,s.jsx)("span",{className:"font-medium",children:(0,k.ZM)(G)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"KDV (%20)"}),(0,s.jsx)("span",{className:"font-medium",children:(0,k.ZM)(Q)})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Kargo"}),(0,s.jsx)("span",{className:"font-medium",children:0===$?(0,s.jsx)("span",{className:"text-green-600",children:"\xdccretsiz"}):(0,k.ZM)($)})]}),G<3e3&&(0,s.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:[(0,k.ZM)(3e3-G)," daha alışveriş yapın, kargo \xfccretsiz olsun!"]})]}),(0,s.jsx)(m.Z,{}),(0,s.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,s.jsx)("span",{children:"Toplam"}),(0,s.jsx)("span",{className:"text-blue-600",children:(0,k.ZM)(X)})]}),(0,s.jsxs)(d.z,{type:"submit",size:"lg",className:"w-full bg-blue-600 hover:bg-blue-700",children:[(0,s.jsx)(w.Z,{className:"w-5 h-5 mr-2"}),"Siparişi Onayla"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 text-center space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,s.jsx)(S.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"G\xfcvenli \xd6deme"})]}),(0,s.jsx)("div",{children:"7/24 M\xfcşteri Desteği"})]})]})]})})]})})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)(c.Zb,{className:"p-8 max-w-md",children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)(v.Z,{className:"w-16 h-16 text-orange-500 mx-auto"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Sepetiniz Boş"}),(0,s.jsx)("p",{className:"text-gray-600",children:"L\xfctfen \xf6nce \xfcr\xfcn ekleyin veya konfig\xfcrasyon yapın."}),(0,s.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,s.jsx)(d.z,{onClick:()=>e.push("/products"),variant:"outline",children:"\xdcr\xfcnlere Git"}),(0,s.jsx)(d.z,{onClick:()=>e.push("/configurator"),children:"Konfig\xfcrat\xf6re Git"})]})]})})})}},1478:function(e,t,r){"use strict";r.d(t,{C:function(){return n}});var s=r(7437);r(2265);var a=r(1657);function n(e){let{className:t,variant:r,children:n,...i}=e;return(0,s.jsx)("div",{className:(0,a.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",function(e){switch(e){case"secondary":return"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80";case"destructive":return"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80";case"outline":return"text-foreground";case"success":return"border-transparent bg-green-100 text-green-800 hover:bg-green-200";case"warning":return"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200";default:return"border-transparent bg-primary text-primary-foreground hover:bg-primary/80"}}(r),t),...i,children:n})}},5754:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),a=r(2265),n=r(7256),i=r(6061),l=r(1657);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-md hover:from-blue-700 hover:to-blue-800 hover:shadow-lg hover:scale-105 active:scale-100",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-md hover:from-red-700 hover:to-red-800 hover:shadow-lg hover:scale-105 active:scale-100",outline:"border-2 border-gray-300 bg-background shadow-sm hover:bg-gray-50 hover:border-gray-400 hover:scale-105 active:scale-100",secondary:"bg-gradient-to-r from-gray-100 to-gray-200 text-gray-900 shadow-sm hover:from-gray-200 hover:to-gray-300 hover:shadow-md hover:scale-105 active:scale-100",ghost:"hover:bg-gray-100 hover:scale-105 active:scale-100",link:"text-blue-600 underline-offset-4 hover:text-blue-700 hover:underline"},size:{default:"h-11 md:h-9 px-4 py-2.5 md:py-2 text-base md:text-sm",sm:"h-10 md:h-8 rounded-md px-3.5 md:px-3 text-sm md:text-xs",lg:"h-12 md:h-10 rounded-md px-8 text-lg md:text-base",icon:"h-11 w-11 md:h-9 md:w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},7815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var s=r(7437),a=r(2265),n=r(1657);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow-md hover:shadow-lg transition-shadow",r),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},5321:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(7437),a=r(2265),n=r(9381),i="horizontal",l=["horizontal","vertical"],o=a.forwardRef((e,t)=>{let{decorative:r,orientation:a=i,...o}=e,c=l.includes(a)?a:i;return(0,s.jsx)(n.WV.div,{"data-orientation":c,...r?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:t})});o.displayName="Separator";var c=r(1657);let d=a.forwardRef((e,t)=>{let{className:r,orientation:a="horizontal",decorative:n=!0,...i}=e;return(0,s.jsx)(o,{ref:t,decorative:n,orientation:a,className:(0,c.cn)("shrink-0 bg-gray-200","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",r),...i})});d.displayName=o.displayName},3457:function(e,t,r){"use strict";function s(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":"".concat(t.toFixed(1)," V")}function a(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":"".concat(t.toFixed(1)," A")}function n(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":"".concat(t.toFixed(1)," Ah")}function i(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":"".concat(Math.round(t)," Wh")}function l(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":"".concat(Math.round(t).toLocaleString("tr-TR")," g")}function o(e){if(null==e)return"-";let t=Number(e);return isNaN(t)||!isFinite(t)?"-":new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}r.d(t,{Bb:function(){return i},Wm:function(){return n},ZM:function(){return o},cr:function(){return l},gz:function(){return a},x0:function(){return s}})},2719:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});var s=r(4660),a=r(4810);let n=(0,s.Ue)()((0,a.tJ)((e,t)=>({user:null,token:null,isAuthenticated:!1,rememberMe:!1,login:async function(t,s){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:s,rememberMe:a})}),i=await n.json();if(!i.success)return{success:!1,error:i.error||"Giriş başarısız"};return e({user:i.user,token:i.token,isAuthenticated:!0,rememberMe:a}),a||setTimeout(()=>{let e=localStorage.getItem("auth-storage");if(e)try{var t;let r=JSON.parse(e);(null==r?void 0:null===(t=r.state)||void 0===t?void 0:t.rememberMe)===!1&&localStorage.removeItem("auth-storage")}catch(e){}},100),setTimeout(async()=>{try{let{useCartStore:t}=await r.e(1733).then(r.bind(r,1733)),s=t.getState(),a=localStorage.getItem("cart-storage"),n=[];if(a)try{var e;let t=JSON.parse(a);n=(null==t?void 0:null===(e=t.state)||void 0===e?void 0:e.items)||[]}catch(e){}if(await s.loadCartFromServer(i.token),n.length>0){let e=s.items,t=[...e];for(let r of n)e.find(e=>e.id===r.id)||t.push(r);s.items=t,await s.syncCartToServer(i.token)}}catch(e){console.error("Sepet senkronizasyon hatası:",e)}},200),{success:!0}}catch(e){return console.error("Login error:",e),{success:!1,error:"Bir hata oluştu"}}},register:async(t,r,s,a)=>{try{let n=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:r,name:s,phone:a})}),i=await n.json();if(i.success)return e({user:i.user,token:i.token,isAuthenticated:!0}),{success:!0};return{success:!1,error:i.error||"Kayıt başarısız"}}catch(e){return console.error("Register error:",e),{success:!1,error:"Bir hata oluştu"}}},logout:()=>{e({user:null,token:null,isAuthenticated:!1,rememberMe:!1}),sessionStorage.removeItem("auth-token"),sessionStorage.removeItem("auth-user")},setUser:t=>{e({user:t,isAuthenticated:!!t})},setToken:t=>{e({token:t})}}),{name:"auth-storage"}));{window.addEventListener("beforeunload",()=>{let e=n.getState();!e.rememberMe&&e.isAuthenticated&&localStorage.removeItem("auth-storage")});let e=()=>{try{let r=localStorage.getItem("auth-storage");if(r){var e,t;let s=JSON.parse(r);(null==s?void 0:null===(e=s.state)||void 0===e?void 0:e.rememberMe)===!1&&(null==s?void 0:null===(t=s.state)||void 0===t?void 0:t.isAuthenticated)&&(localStorage.removeItem("auth-storage"),n.setState({user:null,token:null,isAuthenticated:!1,rememberMe:!1}))}}catch(e){}};"complete"===document.readyState?e():window.addEventListener("load",e)}},1733:function(e,t,r){"use strict";r.d(t,{useCartStore:function(){return i}});var s=r(4660),a=r(4810);function n(){try{var e;let t=localStorage.getItem("auth-storage");if(!t)return!1;let r=JSON.parse(t);return(null==r?void 0:null===(e=r.state)||void 0===e?void 0:e.isAuthenticated)===!0}catch(e){return!1}}let i=(0,s.Ue)()((0,a.tJ)((e,t)=>({items:[],isLoading:!1,addItem:async r=>{try{let a=t().items.find(e=>e.id===r.id);if(a?t().updateQuantity(r.id,a.quantity+1):e(e=>({items:[...e.items,{...r,quantity:1}]})),n()){let e=localStorage.getItem("auth-storage");if(e)try{var s;let r=JSON.parse(e),a=null==r?void 0:null===(s=r.state)||void 0===s?void 0:s.token;a&&await t().syncCartToServer(a)}catch(e){}}}catch(e){throw console.error("addItem hatası:",e),e}},removeItem:async r=>{if(e(e=>({items:e.items.filter(e=>e.id!==r)})),n()){let e=localStorage.getItem("auth-storage");if(e)try{var s;let r=JSON.parse(e),a=null==r?void 0:null===(s=r.state)||void 0===s?void 0:s.token;a&&await t().syncCartToServer(a)}catch(e){}}},updateQuantity:async(r,s)=>{if(s<=0){t().removeItem(r);return}if(e(e=>({items:e.items.map(e=>e.id===r?{...e,quantity:s}:e)})),n()){let e=localStorage.getItem("auth-storage");if(e)try{var a;let r=JSON.parse(e),s=null==r?void 0:null===(a=r.state)||void 0===a?void 0:a.token;s&&await t().syncCartToServer(s)}catch(e){}}},clearCart:()=>{e({items:[]})},getTotalPrice:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0),getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getItemQuantity:e=>{let r=t().items.find(t=>t.id===e);return r?r.quantity:0},loadCartFromServer:async t=>{try{e({isLoading:!0});let r=await fetch("/api/cart",{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){let t=await r.json();e({items:t.items||[]})}else 401===r.status&&e({items:[]})}catch(e){console.error("Sepet y\xfckleme hatası:",e)}finally{e({isLoading:!1})}},syncCartToServer:async e=>{try{let r=t().items;await fetch("/api/cart",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({items:r})})}catch(e){console.error("Sepet senkronizasyon hatası:",e)}}}),{name:"cart-storage",storage:{getItem:e=>{if(!n())return localStorage.removeItem(e),null;let t=localStorage.getItem(e);if(!t)return null;try{var r;let s=JSON.parse(t),a=Date.now();if((null==s?void 0:s.expire)&&a>s.expire)return localStorage.removeItem(e),null;if((null==s?void 0:null===(r=s.state)||void 0===r?void 0:r.items)&&Array.isArray(s.state.items)&&0===s.state.items.length)return null;if(null==s?void 0:s.state)return JSON.stringify({state:s.state,version:s.version||0});return t}catch(t){return localStorage.removeItem(e),null}},setItem:(e,t)=>{try{let r;let s="string"==typeof t?t:JSON.stringify(t),a=JSON.parse(s);n()&&(r=Date.now()+5184e6);let i={...a,...r&&{expire:r}};localStorage.setItem(e,JSON.stringify(i))}catch(s){let r="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,r)}},removeItem:e=>{localStorage.removeItem(e)}}}));{window.addEventListener("beforeunload",()=>{n()||localStorage.removeItem("cart-storage")});let e=()=>{if(n())try{let t=localStorage.getItem("auth-storage");if(t){var e;let r=JSON.parse(t),s=null==r?void 0:null===(e=r.state)||void 0===e?void 0:e.token;s&&i.getState().loadCartFromServer(s)}}catch(e){}else localStorage.removeItem("cart-storage"),i.getState().clearCart()};"complete"===document.readyState?e():(window.addEventListener("load",e),"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",e))}},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(7042),a=r(4769);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},4033:function(e,t,r){e.exports=r(5313)},6743:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var s=r(2265),a=r(9381),n=r(7437),i=s.forwardRef((e,t)=>(0,n.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},9381:function(e,t,r){"use strict";r.d(t,{WV:function(){return l},jH:function(){return o}});var s=r(2265),a=r(4887),n=r(7256),i=r(7437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,n.Z8)(`Primitive.${t}`),a=s.forwardRef((e,s)=>{let{asChild:a,...n}=e,l=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...n,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function o(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[6723,5166,8641,4728,2971,4938,1744],function(){return e(e.s=1977)}),_N_E=e.O()}]);