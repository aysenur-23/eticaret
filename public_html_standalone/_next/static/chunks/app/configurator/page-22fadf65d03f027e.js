(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9207],{4247:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]])},3008:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1291:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9224:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},4891:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},9036:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},2245:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},2369:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(2898).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},3896:function(e,t,a){Promise.resolve().then(a.bind(a,9033))},9033:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ef}});var s=a(7437),r=a(2265),i=a(4033),l=a(7815),n=a(5754),o=a(8641),c=a(1865),d=a(8110),m=a(5179),g=a(9842),u=a(3444),h=a(2160),x=a(3020);let p=h.Km(["Li-ion","NMC","NCA","LCO","LTO"],{errorMap:()=>({message:"Ge\xe7erli bir kimya t\xfcr\xfc se\xe7in"})}),y=h.Km(["18650","21700","26650"],{errorMap:()=>({message:"Ge\xe7erli bir h\xfccre formatı se\xe7in"})}),v=h.Km(["12V","24V","5V","Custom"],{errorMap:()=>({message:"Ge\xe7erli bir voltaj sınıfı se\xe7in"})}),b=h.Km(["rawPack","regulatedExact"],{errorMap:()=>({message:"Reg\xfclasyon t\xfcr\xfc se\xe7in"})}),f=h.Ry({mode:h.Km(["beginner","pro"]).optional(),chemistry:p.optional(),cellFormat:y.optional(),voltageClass:v.optional(),regulation:b.optional(),targetV:h.Rx().positive("Hedef voltaj pozitif olmalı").optional(),targetWh:h.Rx().positive("Hedef enerji pozitif olmalı").optional(),targetEnergyWh:h.Rx().positive("Hedef enerji pozitif olmalı").optional(),targetAh:h.Rx().positive("Hedef kapasite pozitif olmalı").optional(),targetCapacityAh:h.Rx().positive("Hedef kapasite pozitif olmalı").optional(),targetA:h.Rx().positive("Hedef akım pozitif olmalı").optional(),maxCurrentA:h.Rx().positive("Maksimum akım pozitif olmalı").optional(),peakA:h.Rx().positive("Tepe akım pozitif olmalı").optional(),peakCurrentA:h.Rx().positive("Tepe akım pozitif olmalı").optional(),cellCapacityAh:h.Rx().positive("H\xfccre kapasitesi pozitif olmalı").optional(),cellContCurrentA:h.Rx().positive("H\xfccre s\xfcrekli akımı pozitif olmalı").optional(),weightMaxG:h.Rx().positive("Maksimum ağırlık pozitif olmalı").optional(),sizeLimit:h.Ry({L:h.Rx().positive().optional(),W:h.Rx().positive().optional(),H:h.Rx().positive().optional()}).optional(),chargerHave:h.O7().optional(),chargerPower:h.Rx().positive().optional(),chargerConnector:h.Z_().optional(),tempMinC:h.Rx().optional(),tempMaxC:h.Rx().optional(),notes:h.Z_().optional()});h.Ry({cellId:h.Z_().min(1,"H\xfccre se\xe7in"),ns:h.Rx().int().positive("Seri sayısı pozitif olmalı"),np:h.Rx().int().positive("Paralel sayısı pozitif olmalı"),cellCapacityAh:h.Rx().positive(),cellContCurrentA:h.Rx().positive(),cellPeakCurrentA:h.Rx().positive(),chemistry:p,voltageClass:v}).refine(e=>{let t=(0,x.suggestS)(e.voltageClass,e.chemistry),a="Custom"===e.voltageClass?2:1;return Math.abs(e.ns-t)<=a},{message:"Seri sayısı voltaj sınıfına uygun değil",path:["ns"]}).refine(e=>(0,x.checkCurrentSafety)(e.np,e.cellContCurrentA,e.cellPeakCurrentA,e.cellContCurrentA*e.np*.8,void 0,1.2).contOK,{message:"Paralel sayısı akım gereksinimlerini karşılamıyor",path:["np"]}),h.Ry({bmsId:h.Z_().min(1,"BMS se\xe7in"),chargerId:h.Z_().min(1,"Şarj cihazı se\xe7in"),connectorLoadId:h.Z_().min(1,"Y\xfck konekt\xf6r\xfc se\xe7in"),connectorChargeId:h.Z_().min(1,"Şarj konekt\xf6r\xfc se\xe7in"),dcdcId:h.Z_().optional(),caseId:h.Z_().optional(),accessories:h.IX(h.Z_()).optional(),regulation:b,voltageClass:v}).refine(e=>"regulatedExact"!==e.regulation||"5V"===e.voltageClass||!!e.dcdcId,{message:"Sabit voltaj i\xe7in DC-DC mod\xfcl se\xe7in",path:["dcdcId"]}),h.Ry({chemistry:p,ns:h.Rx().int().positive(),targetA:h.Rx().positive(),peakA:h.Rx().positive().optional(),bmsSeriesMin:h.Rx().int().positive(),bmsSeriesMax:h.Rx().int().positive(),bmsContA:h.Rx().int().positive(),bmsPeakA:h.Rx().int().positive(),bmsOvPerCell:h.Rx().positive(),bmsUvPerCell:h.Rx().positive()}).refine(e=>e.ns>=e.bmsSeriesMin&&e.ns<=e.bmsSeriesMax,{message:"Seri sayısı BMS aralığında değil",path:["ns"]}).refine(e=>e.bmsContA>=1.2*e.targetA,{message:"BMS akım kapasitesi yetersiz",path:["bmsContA"]}),h.Ry({chemistry:p,ns:h.Rx().int().positive(),chargerOutV:h.Rx().positive(),chargerOutA:h.Rx().positive(),cellCapacityAh:h.Rx().positive(),np:h.Rx().int().positive()}).refine(e=>{let t=4.2*e.ns;return .1>=Math.abs(e.chargerOutV-t)},{message:"Şarj voltajı uyumsuz",path:["chargerOutV"]}).refine(e=>{let t=e.np*e.cellCapacityAh*.5;return e.chargerOutA<=t},{message:"Şarj akımı \xe7ok y\xfcksek",path:["chargerOutA"]}),h.Ry({connectorContA:h.Rx().int().positive(),connectorPeakA:h.Rx().int().positive().optional(),targetA:h.Rx().positive(),peakA:h.Rx().positive().optional()}).refine(e=>e.connectorContA>=1.2*e.targetA,{message:"Konekt\xf6r akım kapasitesi yetersiz",path:["connectorContA"]}).refine(e=>!e.peakA||!e.connectorPeakA||e.connectorPeakA>=e.peakA,{message:"Konekt\xf6r tepe akım kapasitesi yetersiz",path:["connectorPeakA"]}),h.Ry({ns:h.Rx().int().positive(),np:h.Rx().int().positive(),chemistry:p,voltageClass:v,regulation:b,cellCapacityAh:h.Rx().positive(),cellContCurrentA:h.Rx().positive(),cellPeakCurrentA:h.Rx().positive(),targetV:h.Rx().positive().optional(),targetWh:h.Rx().positive().optional(),targetA:h.Rx().positive().optional(),peakA:h.Rx().positive().optional(),weightMaxG:h.Rx().positive().optional(),sizeLimit:h.Ry({L:h.Rx().positive().optional(),W:h.Rx().positive().optional(),H:h.Rx().positive().optional()}).optional()}).refine(e=>{if(e.targetV){let t=3.6*e.ns,a="Custom"===e.voltageClass?.1:.05;return Math.abs(t-e.targetV)/e.targetV<=a}return!0},{message:"Hesaplanan voltaj hedef voltajdan farklı",path:["targetV"]}).refine(e=>!e.targetWh||Math.abs(3.6*e.ns*e.np*e.cellCapacityAh-e.targetWh)/e.targetWh<=.05,{message:"Hesaplanan enerji hedef enerjiden farklı",path:["targetWh"]}),h.Ry({s:h.Rx().positive().optional(),p:h.Rx().positive().optional(),chemistry:h.Z_().optional(),cellType:h.Z_().optional(),cellFamily:h.Z_().optional(),voltageClass:h.Z_().optional(),regulation:h.Z_().optional(),targetV:h.Rx().positive().optional(),targetWh:h.Rx().positive().optional(),targetA:h.Rx().positive().optional(),targetCapacityAh:h.Rx().positive().optional(),targetEnergyWh:h.Rx().positive().optional(),maxCurrentA:h.Rx().positive().optional(),peakCurrentA:h.Rx().positive().optional(),customVoltage:h.Rx().positive().optional(),weightMaxG:h.Rx().positive().optional()}),h.Ry({bms:h.G0([h.Z_(),h.IX(h.Z_())]).optional(),charger:h.Z_().optional(),chargers:h.IX(h.Z_()).optional(),connector:h.G0([h.Z_(),h.IX(h.Z_())]).optional(),connectorLoad:h.Z_().optional(),connectorCharge:h.Z_().optional(),strip:h.G0([h.Z_(),h.IX(h.Z_())]).optional(),dcdc:h.G0([h.Z_(),h.IX(h.Z_())]).optional(),case:h.Z_().optional(),accessories:h.IX(h.Z_()).optional(),tools:h.IX(h.Z_()).optional(),toolQuantities:h.IM(h.Rx()).optional(),bmsQuantities:h.IM(h.Rx()).optional(),connectorQuantities:h.IM(h.Rx()).optional(),chargerQuantities:h.IM(h.Rx()).optional(),dcdcQuantities:h.IM(h.Rx()).optional()});var j=a(9409);let N=[{id:"uav",name:"İnsansız Hava Aracı/Drone",description:"Havacılık bataryası",icon:"\uD83D\uDE81"},{id:"ugv",name:"İnsansız Kara Aracı",description:"Kara robotu bataryası",icon:"\uD83D\uDE97"},{id:"usv",name:"İnsansız Deniz Aracı",description:"Deniz robotu bataryası",icon:"\uD83D\uDEA4"},{id:"underwater",name:"İnsansız Su Altı Aracı",description:"Su altı robotu bataryası",icon:"\uD83E\uDD3F"},{id:"electric-vehicle",name:"Elektrikli Ara\xe7",description:"Elektrikli ara\xe7 bataryası",icon:"\uD83D\uDE99"},{id:"rocket",name:"Roket",description:"Roket ve uzay ara\xe7ları bataryası",icon:"\uD83D\uDE80"},{id:"robot",name:"Robotik",description:"End\xfcstriyel robot bataryası",icon:"\uD83E\uDDBE"},{id:"industrial",name:"End\xfcstriyel \xc7\xf6z\xfcmler",description:"End\xfcstriyel uygulamalar",icon:"\uD83C\uDFED"},{id:"research",name:"Araştırma",description:"Prototip ve araştırma",icon:"\uD83D\uDD2C"},{id:"general",name:"Diğer Projeler",description:"\xd6zel m\xfchendislik projesi",icon:"⚙️"}];function k(){let{currentStep:e,scenario:t,setScenario:l,setTargets:n,setBatteryConfig:h,voltageClass:x,maxCurrentA:p,chemistry:y,regulation:v,targetEnergyWh:b,targetCapacityAh:k,peakCurrentA:C,cellFormat:A,cellCapacityAh:w,cellContCurrentA:V,weightLimit_g:D,sizeLimit:S,tempMinC:M,tempMaxC:z,notes:T,targetV:_,targetWh:L,targetA:R,weightMaxG:Z}=(0,o.F)(),[E,W]=r.useState(!0),F=(0,i.useSearchParams)(),H=null==F?void 0:F.get("preset");r.useEffect(()=>{if(H){W(!1);return}n({voltageClass:void 0,chemistry:void 0,regulation:void 0,cellFormat:void 0}),t&&l("");let e=setTimeout(()=>{W(!1)},100);return()=>clearTimeout(e)},[H]);let P=(0,c.cI)({resolver:(0,d.F)(f),mode:"onChange",defaultValues:{voltageClass:void 0,chemistry:void 0,regulation:void 0,cellFormat:void 0,maxCurrentA:void 0,targetEnergyWh:void 0,targetCapacityAh:void 0,peakCurrentA:void 0,cellCapacityAh:void 0,cellContCurrentA:void 0,weightLimit_g:void 0,sizeLimit:{L:void 0,W:void 0,H:void 0},tempMinC:void 0,tempMaxC:void 0,notes:"",scenario:"",targetV:void 0,targetWh:void 0,targetA:void 0,weightMaxG:void 0}});if(P.formState.errors,r.useEffect(()=>{let e=P.watch((e,t)=>{let{name:s,type:r}=t,i=void 0!==e.targetEnergyWh?e.targetEnergyWh:void 0!==e.targetWh?e.targetWh:void 0,l=void 0!==e.targetV?e.targetV:"12V"===e.voltageClass?12:"24V"===e.voltageClass?24:"5V"===e.voltageClass?5:void 0,o={};if(void 0!==e.voltageClass&&(o.voltageClass=e.voltageClass),void 0!==e.maxCurrentA&&(o.maxCurrentA=e.maxCurrentA),void 0!==e.chemistry&&(o.chemistry=e.chemistry),void 0!==e.regulation&&(o.regulation=e.regulation),void 0!==e.targetEnergyWh&&(o.targetEnergyWh=e.targetEnergyWh),void 0!==e.targetCapacityAh&&(o.targetCapacityAh=e.targetCapacityAh),void 0!==e.peakCurrentA&&(o.peakCurrentA=e.peakCurrentA),void 0!==e.cellFormat&&(o.cellFormat=e.cellFormat),void 0!==e.cellCapacityAh&&(o.cellCapacityAh=e.cellCapacityAh),void 0!==e.cellContCurrentA&&(o.cellContCurrentA=e.cellContCurrentA),void 0!==e.weightLimit_g&&(o.weightLimit_g=e.weightLimit_g),void 0!==e.sizeLimit&&(o.sizeLimit=e.sizeLimit),void 0!==e.tempMinC&&(o.tempMinC=e.tempMinC),void 0!==e.tempMaxC&&(o.tempMaxC=e.tempMaxC),void 0!==e.notes&&(o.notes=e.notes),void 0!==l&&(o.targetV=l),void 0!==i&&(o.targetWh=i),void 0!==e.targetA?o.targetA=e.targetA:void 0!==e.maxCurrentA&&(o.targetA=e.maxCurrentA),void 0!==e.weightMaxG?o.weightMaxG=e.weightMaxG:void 0!==e.weightLimit_g&&(o.weightMaxG=e.weightLimit_g),e.voltageClass&&e.maxCurrentA&&e.maxCurrentA>0){let{suggestS:t}=a(3020),s=e.chemistry&&"string"==typeof e.chemistry?String(e.chemistry):"Li-ion",r=t(e.voltageClass,"NMC"===s||"NCA"===s||"LCO"===s||"LTO"===s||"Li-ion"===s?s:"Li-ion",l),i=e.cellContCurrentA||2.8;h({ns:r,np:Math.max(1,Math.ceil(1.2*e.maxCurrentA/i))})}Object.keys(o).length>0&&n(o),e.notes&&localStorage.setItem("customer_notes",e.notes)});return()=>e.unsubscribe()},[P,n,h]),r.useCallback((e,t)=>{n({...P.getValues(),[e]:t})},[P,n]),r.useEffect(()=>{let e=P.getValues("scenario")||"";if(t&&t!==e){let e=setTimeout(()=>{P.setValue("scenario",t,{shouldDirty:!1,shouldTouch:!1,shouldValidate:!1})},10);return()=>clearTimeout(e)}if(!t&&e){let e=setTimeout(()=>{P.setValue("scenario","",{shouldDirty:!1,shouldTouch:!1,shouldValidate:!1})},10);return()=>clearTimeout(e)}},[t,P]),r.useEffect(()=>{if(E&&!H||!(x||y||v||A||p||b||k||_||L||R)&&!H)return;let e={},a=null!=x&&"string"==typeof x&&""!==x&&""!==x.trim()?x:void 0,s=null!=y&&"string"==typeof y&&""!==y&&""!==y.trim()?y:void 0,r=null!=v&&"string"==typeof v&&""!==v&&""!==v.trim()?v:void 0;a&&(e.voltageClass=a),null!=p&&p>0&&(e.maxCurrentA=p),s&&(e.chemistry=s),r&&(e.regulation=r),null!=b&&b>0&&(e.targetEnergyWh=b),null!=k&&k>0&&(e.targetCapacityAh=k),null!=C&&C>0&&(e.peakCurrentA=C),null!=A&&""!==A&&(e.cellFormat=A),null!=w&&w>0&&(e.cellCapacityAh=w),null!=V&&V>0&&(e.cellContCurrentA=V),null!=D&&D>0&&(e.weightLimit_g=D),S&&(e.sizeLimit=S),null!=M&&(e.tempMinC=M),null!=z&&(e.tempMaxC=z),null!=T&&""!==T&&(e.notes=T),null!=_&&_>0&&(e.targetV=_),null!=L&&L>0&&(e.targetWh=L),null!=R&&R>0&&(e.targetA=R),null!=Z&&Z>0&&(e.weightMaxG=Z),t&&(e.scenario=t),Object.keys(e).length>0&&(Object.keys(e).forEach(t=>{P.setValue(t,e[t],{shouldDirty:!1,shouldTouch:!1,shouldValidate:!1})}),setTimeout(()=>{P.trigger()},100))},[E,H,t,x,p,y,v,b,k,C,A,w,V,D,null==S?void 0:S.L,null==S?void 0:S.W,null==S?void 0:S.H,M,z,T,_,L,R,Z,P]),1===e){var O,K,I,G;return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(g._,{className:"text-sm font-medium text-gray-700",children:["Kullanım Senaryosu ",(0,s.jsx)("span",{className:"text-gray-400 font-normal",children:"(opsiyonel)"})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2",children:N.map(e=>(0,s.jsxs)("button",{type:"button",className:"group p-2 rounded-md border transition-all duration-200 hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 ".concat(P.watch("scenario")===e.id||t===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"),onMouseDown:e=>{e.preventDefault()},onClick:a=>{a.preventDefault(),a.stopPropagation();let s=(t||"")===e.id?"":e.id;l(s),setTimeout(()=>{P.setValue("scenario",s,{shouldDirty:!1,shouldTouch:!1,shouldValidate:!1})},0)},"aria-pressed":P.watch("scenario")===e.id||t===e.id,"aria-describedby":"scenario-".concat(e.id,"-desc"),children:[(0,s.jsxs)("div",{className:"flex flex-col items-center text-center space-y-1",children:[(0,s.jsx)("div",{className:"text-base group-hover:scale-110 transition-transform duration-200",children:e.icon}),(0,s.jsx)("div",{className:"text-xs font-medium text-gray-700 leading-tight",children:e.name})]}),(0,s.jsx)("div",{id:"scenario-".concat(e.id,"-desc"),className:"sr-only",children:e.description})]},e.id))})]}),(0,s.jsxs)("div",{className:"space-y-3 border-t pt-3",children:[(0,s.jsxs)(g._,{className:"text-sm font-semibold text-gray-900",children:["Temel Konfig\xfcrasyon ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2.5",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)(g._,{htmlFor:"voltageClass",className:"text-xs font-medium text-gray-700",children:["Voltaj Sınıfı ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("select",{id:"voltageClass",className:"h-9 w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",value:null!==(O=P.watch("voltageClass"))&&void 0!==O?O:"",...P.register("voltageClass",{onChange:e=>{let t=""===e.target.value?void 0:e.target.value;if(n({voltageClass:t}),"\xd6zel"===t)n({targetV:void 0});else{let e=P.watch("targetEnergyWh"),a=P.watch("targetCapacityAh"),s="12V"===t?12:"24V"===t?24:"5V"===t?5:void 0;if(s&&s>0){if(e&&e>0){let t=e/s;P.setValue("targetCapacityAh",t,{shouldDirty:!1,shouldTouch:!1}),n({targetCapacityAh:t})}else if(a&&a>0){let e=a*s;P.setValue("targetEnergyWh",e,{shouldDirty:!1,shouldTouch:!1}),n({targetEnergyWh:e})}}}}}),"aria-describedby":"voltageClass-help",children:[(0,s.jsx)("option",{value:"",className:"text-gray-400",children:"Se\xe7iniz"}),(0,s.jsx)("option",{value:"12V",children:"12V"}),(0,s.jsx)("option",{value:"24V",children:"24V"}),(0,s.jsx)("option",{value:"5V",children:"5V"}),(0,s.jsx)("option",{value:"\xd6zel",children:"\xd6zel Voltaj"})]}),"\xd6zel"===P.watch("voltageClass")&&(0,s.jsxs)("div",{className:"mt-2 space-y-1.5",children:[(0,s.jsxs)(g._,{htmlFor:"targetV",className:"text-xs font-medium text-gray-700",children:["\xd6zel Voltaj (V) ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.I,{id:"targetV",type:"number",step:"0.1",placeholder:"36.0",className:"h-9 text-sm pr-8 placeholder:text-gray-300",...P.register("targetV",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t},onChange:e=>{let t=Number(e.target.value),a=isNaN(t)?void 0:t;if(P.setValue("targetV",a,{shouldDirty:!0}),n({targetV:a}),a&&a>0){let e=P.watch("targetEnergyWh"),t=P.watch("targetCapacityAh");if(e&&e>0){let t=e/a;P.setValue("targetCapacityAh",t,{shouldDirty:!1,shouldTouch:!1}),n({targetCapacityAh:t})}else if(t&&t>0){let e=t*a;P.setValue("targetEnergyWh",e,{shouldDirty:!1,shouldTouch:!1}),n({targetEnergyWh:e})}}}}),"aria-describedby":"targetV-help"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"V"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)(g._,{htmlFor:"maxCurrentA",className:"text-xs font-medium text-gray-700",children:["Maksimum Akım (A) ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.I,{id:"maxCurrentA",type:"number",step:"0.1",placeholder:"20.0",className:"h-9 text-sm pr-8 placeholder:text-gray-300",...P.register("maxCurrentA",{valueAsNumber:!0,onChange:e=>{let t=e.target.value;if(""===t||null==t){P.setValue("maxCurrentA",void 0,{shouldDirty:!0}),n({maxCurrentA:void 0});return}let a=Number(t),s=isNaN(a)||!isFinite(a)?void 0:a;P.setValue("maxCurrentA",s,{shouldDirty:!0}),n({maxCurrentA:s})},setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t}}),"aria-describedby":"maxCurrentA-help"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"A"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)(g._,{htmlFor:"chemistry",className:"text-xs font-medium text-gray-700",children:["Kimya ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("select",{id:"chemistry",className:"h-9 w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:null!==(K=P.watch("chemistry"))&&void 0!==K?K:"",...P.register("chemistry",{onChange:e=>{n({chemistry:""===e.target.value?void 0:e.target.value})}}),"aria-describedby":"chemistry-help",children:[(0,s.jsx)("option",{value:"",className:"text-gray-400",children:"Se\xe7iniz"}),(0,s.jsx)("option",{value:"Li-ion",children:"Li-ion"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)(g._,{htmlFor:"regulation",className:"text-xs font-medium text-gray-700",children:["Reg\xfclasyon ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("select",{id:"regulation",className:"h-9 w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:null!==(I=P.watch("regulation"))&&void 0!==I?I:"",...P.register("regulation",{onChange:e=>{n({regulation:""===e.target.value?void 0:e.target.value})}}),"aria-describedby":"regulation-help",children:[(0,s.jsx)("option",{value:"",className:"text-gray-400",children:"Se\xe7iniz"}),(0,s.jsx)("option",{value:"rawPack",children:"Ham Paket (Voltaj aralığı)"}),(0,s.jsx)("option",{value:"regulatedExact",children:"Sabit Voltaj (DC-DC gerekli)"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)(g._,{htmlFor:"targetEnergyWh",className:"text-xs font-medium text-gray-700",children:["Hedef Enerji (Wh) ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.I,{id:"targetEnergyWh",type:"number",step:"1",placeholder:(()=>{let e=P.watch("voltageClass");return"12V"===e?"600":"24V"===e?"1200":"1000"})(),className:"h-9 text-sm pr-8 placeholder:text-gray-300",...P.register("targetEnergyWh",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t},onChange:e=>{let t=e.target.value;if(""===t||null==t){P.setValue("targetEnergyWh",void 0,{shouldDirty:!0}),n({targetEnergyWh:void 0});return}let a=Number(t),s=isNaN(a)||!isFinite(a)?void 0:a;P.setValue("targetEnergyWh",s,{shouldDirty:!0}),n({targetEnergyWh:s});let r=P.watch("voltageClass"),i=P.watch("targetV")||("12V"===r?12:"24V"===r?24:"5V"===r?5:void 0);if(s&&i&&i>0){let e=s/i;P.setValue("targetCapacityAh",e,{shouldDirty:!1,shouldTouch:!1}),n({targetCapacityAh:e})}}}),"aria-describedby":"targetEnergyWh-help"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"Wh"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsxs)(g._,{htmlFor:"targetCapacityAh",className:"text-xs font-medium text-gray-700",children:["Hedef Kapasite (Ah) ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.I,{id:"targetCapacityAh",type:"number",step:"0.1",placeholder:(P.watch("voltageClass"),"50.0"),className:"h-9 text-sm pr-8 placeholder:text-gray-300",...P.register("targetCapacityAh",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t},onChange:e=>{let t=e.target.value;if(""===t||null==t){P.setValue("targetCapacityAh",void 0,{shouldDirty:!0}),n({targetCapacityAh:void 0});return}let a=Number(t),s=isNaN(a)||!isFinite(a)?void 0:a;P.setValue("targetCapacityAh",s,{shouldDirty:!0}),n({targetCapacityAh:s});let r=P.watch("voltageClass"),i=P.watch("targetV")||("12V"===r?12:"24V"===r?24:"5V"===r?5:void 0);if(s&&i&&i>0){let e=s*i;P.setValue("targetEnergyWh",e,{shouldDirty:!1,shouldTouch:!1}),n({targetEnergyWh:e})}}}),"aria-describedby":"targetCapacityAh-help"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"Ah"})]})]})]})]}),(0,s.jsxs)("details",{className:"border-t pt-4 mt-4",children:[(0,s.jsxs)("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,s.jsx)(j.Z,{className:"h-4 w-4"}),"Gelişmiş Ayarlar ",(0,s.jsx)("span",{className:"text-gray-400 font-normal",children:"(opsiyonel)"})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(g._,{htmlFor:"peakCurrentA",className:"text-xs font-medium text-gray-700",children:"Peak Akım (A)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.I,{id:"peakCurrentA",type:"number",step:"0.1",placeholder:"40.0",className:"h-9 text-sm pr-8 placeholder:text-gray-300",...P.register("peakCurrentA",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t},onChange:e=>{let t=e.target.value;if(""===t||null==t){P.setValue("peakCurrentA",void 0,{shouldDirty:!0}),n({peakCurrentA:void 0});return}let a=Number(t),s=isNaN(a)||!isFinite(a)?void 0:a;P.setValue("peakCurrentA",s,{shouldDirty:!0}),n({peakCurrentA:s})}}),"aria-describedby":"peakCurrentA-help"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"A"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(g._,{htmlFor:"cellFormat",className:"text-xs font-medium text-gray-700",children:"H\xfccre Formatı"}),(0,s.jsxs)("select",{id:"cellFormat",className:"h-9 w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:null!==(G=P.watch("cellFormat"))&&void 0!==G?G:"",...P.register("cellFormat",{onChange:e=>{n({cellFormat:""===e.target.value?void 0:e.target.value})}}),"aria-describedby":"cellFormat-help",children:[(0,s.jsx)("option",{value:"",className:"text-gray-400",children:"Se\xe7iniz"}),(0,s.jsx)("option",{value:"18650",children:"18650"}),(0,s.jsx)("option",{value:"21700",children:"21700"}),(0,s.jsx)("option",{value:"26650",children:"26650"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(g._,{htmlFor:"cellContCurrentA",className:"text-xs font-medium text-gray-700",children:"H\xfccre S\xfcrekli Akım (A)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.I,{id:"cellContCurrentA",type:"number",step:"0.1",placeholder:"2.0",className:"h-9 text-sm pr-8 placeholder:text-gray-300",...P.register("cellContCurrentA",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t},onChange:e=>{let t=e.target.value;if(""===t||null==t){P.setValue("cellContCurrentA",void 0,{shouldDirty:!0}),n({cellContCurrentA:void 0});return}let a=Number(t),s=isNaN(a)||!isFinite(a)?void 0:a;P.setValue("cellContCurrentA",s,{shouldDirty:!0}),n({cellContCurrentA:s})}}),"aria-describedby":"cellContCurrentA-help"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"A"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(g._,{htmlFor:"weightLimit_g",className:"text-xs font-medium text-gray-700",children:"Ağırlık Limiti (g)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.I,{id:"weightLimit_g",type:"number",step:"10",placeholder:"5000",className:"h-9 text-sm pr-8 placeholder:text-gray-300",...P.register("weightLimit_g",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t},onChange:e=>{let t=e.target.value;if(""===t||null==t){P.setValue("weightLimit_g",void 0,{shouldDirty:!0}),n({weightLimit_g:void 0});return}let a=Number(t),s=isNaN(a)||!isFinite(a)?void 0:a;P.setValue("weightLimit_g",s,{shouldDirty:!0}),n({weightLimit_g:s})}}),"aria-describedby":"weightLimit_g-help"}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-500",children:"g"})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(g._,{className:"text-xs font-medium text-gray-700",children:"Boyut Limiti (mm)"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(m.I,{type:"number",placeholder:"L",className:"h-9 text-sm placeholder:text-gray-300",...P.register("sizeLimit.L",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t}}),"aria-describedby":"sizeLimit-help"})}),(0,s.jsx)("div",{children:(0,s.jsx)(m.I,{type:"number",placeholder:"W",className:"h-9 text-sm placeholder:text-gray-300",...P.register("sizeLimit.W",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t}})})}),(0,s.jsx)("div",{children:(0,s.jsx)(m.I,{type:"number",placeholder:"H",className:"h-9 text-sm placeholder:text-gray-300",...P.register("sizeLimit.H",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t}})})})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)(g._,{className:"text-xs font-medium text-gray-700",children:"Sıcaklık Aralığı (\xb0C)"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(m.I,{type:"number",placeholder:"Min",className:"h-9 text-sm placeholder:text-gray-300",...P.register("tempMinC",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t},onChange:e=>{let t=e.target.value;if(""===t||null==t){P.setValue("tempMinC",void 0,{shouldDirty:!0}),n({tempMinC:void 0});return}let a=Number(t),s=isNaN(a)||!isFinite(a)?void 0:a;P.setValue("tempMinC",s,{shouldDirty:!0}),n({tempMinC:s})}}),"aria-describedby":"tempRange-help"})}),(0,s.jsx)("div",{children:(0,s.jsx)(m.I,{type:"number",placeholder:"Max",className:"h-9 text-sm placeholder:text-gray-300",...P.register("tempMaxC",{valueAsNumber:!0,setValueAs:e=>{if(""===e||null==e)return;let t=Number(e);return isNaN(t)?void 0:t},onChange:e=>{let t=e.target.value;if(""===t||null==t){P.setValue("tempMaxC",void 0,{shouldDirty:!0}),n({tempMaxC:void 0});return}let a=Number(t),s=isNaN(a)||!isFinite(a)?void 0:a;P.setValue("tempMaxC",s,{shouldDirty:!0}),n({tempMaxC:s})}})})})]})]}),(0,s.jsxs)("div",{className:"space-y-1.5 sm:col-span-2",children:[(0,s.jsx)(g._,{htmlFor:"notes",className:"text-xs font-medium text-gray-700",children:"Notlar"}),(0,s.jsx)(u.g,{id:"notes",placeholder:"\xd6zel gereksinimler, notlar...",className:"h-16 text-sm resize-none placeholder:text-gray-300",...P.register("notes"),"aria-describedby":"notes-help"})]})]})]})]})}return null}var C=a(1478),A=a(4247),w=a(2369),V=a(4322),D=a(3008),S=a(2894),M=a(1981),z=a(4056),T=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let _=(0,T.Z)("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);var L=a(3457),R=a(9224),Z=a(3523);function E(e){let{price:t}=e,[a,i]=r.useState(!0);if(!t)return null;let l=t.items||[],o="totals"in t?t.totals.subtotal:t.subtotal,c="totals"in t?t.totals.tax:t.tax,d="totals"in t?t.totals.shipping:t.shipping;return"totals"in t?t.totals.total:t.total,(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"Detay"}),(0,s.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>i(!a),className:"h-5 px-2 text-[10px]",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(R.Z,{className:"w-3 h-3 mr-1"}),"Gizle"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{className:"w-3 h-3 mr-1"}),"G\xf6ster"]})})]}),a&&(0,s.jsxs)("div",{className:"space-y-1.5 text-[10px]",children:[l.length>0&&(0,s.jsx)("div",{className:"space-y-1",children:l.map((e,t)=>{let a="total"in e?e.total:e.subtotal;return(0,s.jsxs)("div",{className:"flex justify-between items-center py-0.5 border-b border-gray-100",children:[(0,s.jsx)("span",{className:"text-gray-700 truncate flex-1",children:e.title}),(0,s.jsxs)("span",{className:"text-gray-500 ml-2",children:[e.qty,"x"]}),(0,s.jsx)("span",{className:"text-gray-900 font-medium ml-2",children:(0,L.ZM)(a)})]},t)})}),(0,s.jsxs)("div",{className:"space-y-0.5 pt-1 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Ara Toplam:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:(0,L.ZM)(o)})]}),c>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"KDV:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:(0,L.ZM)(c)})]}),d>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Kargo:"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:(0,L.ZM)(d)})]})]})]})]})}var W=a(1657);function F(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,W.cn)("animate-pulse rounded-md bg-muted",t),...a})}function H(e){var t,a,s,r;if(!e.chemistry&&!(null===(t=e.cell)||void 0===t?void 0:t.chemistry))return null;let i=e.chemistry||(null===(a=e.cell)||void 0===a?void 0:a.chemistry)||"Li-ion",l=e.cellFormat||(null===(s=e.cell)||void 0===s?void 0:s.format)||"18650",n=e.ns,o=e.np;if(!n||!o){let t=e.targetV||("12V"===e.voltageClass?12:"24V"===e.voltageClass?24:"5V"===e.voltageClass?5:void 0);n=t&&e.voltageClass?(0,x.suggestS)(e.voltageClass,"NMC"===i||"NCA"===i||"LCO"===i||"LTO"===i||"Li-ion"===i?i:"Li-ion",t):"12V"===e.voltageClass?4:"24V"===e.voltageClass?6:1;let a=e.cellCapacityAh||(null===(r=e.cell)||void 0===r?void 0:r.capacityAh)||2.8,s=e.targetEnergyWh||e.targetWh,l=e.targetCapacityAh;o=s&&t?Math.max(1,Math.ceil(s/t/a)):l?Math.max(1,Math.ceil(l/a)):2}let c=e.cell||{id:l,format:l,chemistry:i,capacityAh:e.cellCapacityAh||2.8,nominalVoltage:3.6,contDischargeA:e.cellContCurrentA||2.8,peakDischargeA:1.5*(e.cellContCurrentA||2.8),weightG:45,diameterMM:18,heightMM:65},d=c.nominalVoltage||x.NOMINAL_VOLTAGES[i]||3.6,m=c.capacityAh||e.cellCapacityAh||2.8,g=c.contDischargeA||e.cellContCurrentA||2.8,u=c.peakDischargeA||1.5*g,h=c.weightG||45,p=c.diameterMM||18,y=c.heightMM||65,v=n*d,b=o*m,f=n*o,j=o*g,N=o*u,k=(0,x.estimateWeight)(n,o,h,l),C=(0,x.packOuterSize)(n,o,p,y),A={config:{s:n,p:o,chemistry:i,cellFamily:l},electrical:{vNom:v,ah:b,wh:v*b,iContAvail:j,iPeakAvail:N},mechanical:{cells:f,weightG:k,holder:C}},w=e.maxCurrentA||e.targetA||.8*j,V=e.peakCurrentA||void 0,D=e.targetEnergyWh||e.targetWh,S=e.targetCapacityAh||e.targetAh,M=e.targetV||("12V"===e.voltageClass?12:"24V"===e.voltageClass?24:"5V"===e.voltageClass?5:void 0),z=(0,x.checkCurrentSafety)(o,g,u,w,V,1.2),T={valid:!0};D&&S&&M&&Math.abs(D-M*S)/D>.01&&(T=(0,x.checkWhAhConsistency)(D,S,M,.1));let _={contOK:z.contOK,peakOK:z.peakOK,energyConsistencyOK:T.valid,weightOK:!e.weightLimit_g||k<=e.weightLimit_g,hasBMS:!!e.bms,hasConnector:!!e.connectorLoad,hasCharger:!!e.charger};z.warnings.length>0&&(_.contMessage=z.warnings.find(e=>e.includes("S\xfcrekli")),_.peakMessage=z.warnings.find(e=>e.includes("Tepe"))),!T.valid&&T.error&&(_.energyConsistencyMessage=T.error);let L="18650"===l?130:"21700"===l?35:130,R=f*L,Z=e.bms?100:0,E=e.connectorLoad?10:0,W=e.charger?50:0,F=Math.max(600,.8*k),H=R+Z+E+W+F,P=.2*H;return{summary:A,evaluation:_,price:{items:[{sku:"CELL",title:"H\xfccreler",qty:f,unitPrice:L,subtotal:R},...e.bms?[{sku:"BMS",title:"BMS",qty:1,unitPrice:Z,subtotal:Z}]:[],...e.connectorLoad?[{sku:"CONN",title:"Konekt\xf6r",qty:1,unitPrice:E,subtotal:E}]:[],...e.charger?[{sku:"CHARGER",title:"Şarj Cihazı",qty:1,unitPrice:W,subtotal:W}]:[],{sku:"HARDWARE",title:"Donanım",qty:1,unitPrice:F,subtotal:F}],totals:{subtotal:H,tax:P,shipping:150,total:H+P+150,currency:"TRY"}}}}function P(){var e;let t=(0,o.F)(),[a,i]=r.useState(null),[n,c]=r.useState(!1),d=r.useRef(null);if(r.useEffect(()=>{if(!(t.voltageClass&&t.chemistry&&(t.targetEnergyWh||t.targetWh||t.targetCapacityAh))){i(null),c(!1);return}return d.current&&clearTimeout(d.current),c(!0),d.current=setTimeout(()=>{try{let e=H(t);i(e),c(!1)}catch(e){console.error("Summary computation error:",e),i(null),c(!1)}},300),()=>{d.current&&clearTimeout(d.current)}},[t.voltageClass,t.chemistry,t.regulation,t.targetV,t.targetWh,t.targetEnergyWh,t.targetCapacityAh,t.targetA,t.maxCurrentA,t.peakCurrentA,t.cellFormat,t.cellCapacityAh,t.cellContCurrentA,t.weightMaxG,t.weightLimit_g,t.ns,t.np,t.cell,t.bms,t.charger,t.connectorLoad,t.connectorCharge,t.case,t.accessories,t.tools]),!a&&!n){let e=t.voltageClass&&t.chemistry&&t.ns&&t.ns>0&&t.np&&t.np>0&&t.cell;return(0,s.jsxs)(l.Zb,{className:"shadow-md border border-gray-200 bg-white rounded-lg sticky top-4",children:[(0,s.jsx)(l.Ol,{className:"pb-2",children:(0,s.jsxs)(l.ll,{className:"flex items-center gap-2 text-sm font-semibold text-gray-800",children:[(0,s.jsx)(A.Z,{className:"w-4 h-4 text-green-600"}),"Teknik \xd6zet"]})}),(0,s.jsx)(l.aY,{children:(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500 text-sm",children:[(0,s.jsx)(A.Z,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e?(0,s.jsx)("p",{className:"text-gray-600",children:"Hesaplama yapılıyor..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"font-medium text-gray-600 mb-2",children:"Temel konfig\xfcrasyonu tamamladığınızda \xf6zetiniz burada g\xf6r\xfcnecek"}),(0,s.jsx)("p",{className:"text-xs mt-2 text-gray-500",children:"L\xfctfen temel konfig\xfcrasyon alanlarını doldurun"})]})]})})]})}if(n)return(0,s.jsxs)(l.Zb,{className:"shadow-md border border-gray-200 bg-white rounded-lg sticky top-4",children:[(0,s.jsx)(l.Ol,{className:"pb-2",children:(0,s.jsxs)(l.ll,{className:"flex items-center gap-2 text-sm font-semibold text-gray-800",children:[(0,s.jsx)(A.Z,{className:"w-4 h-4 text-green-600"}),"Teknik \xd6zet"]})}),(0,s.jsxs)(l.aY,{className:"space-y-3",children:[(0,s.jsx)(F,{className:"h-4 w-full"}),(0,s.jsx)(F,{className:"h-4 w-3/4"}),(0,s.jsx)(F,{className:"h-4 w-1/2"})]})]});if(!a)return null;let m=a.summary,g=a.evaluation,u=a.price;return(0,s.jsxs)(l.Zb,{className:"shadow-md border border-gray-200 bg-white rounded-lg",children:[(0,s.jsx)(l.Ol,{className:"pb-2",children:(0,s.jsxs)(l.ll,{className:"flex items-center gap-2 text-sm font-semibold text-gray-800",children:[(0,s.jsx)(A.Z,{className:"w-4 h-4 text-green-600"}),"Teknik \xd6zet"]})}),(0,s.jsxs)(l.aY,{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[m.config&&Object.keys(m.config).length>0&&(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-2.5 border border-blue-200",children:[(0,s.jsxs)("h3",{className:"text-xs font-semibold text-gray-800 mb-1.5 flex items-center gap-1",children:[(0,s.jsx)(j.Z,{className:"w-3 h-3"}),"Konfig\xfcrasyon"]}),(0,s.jsxs)("dl",{className:"space-y-1 text-xs",children:[void 0!==m.config.s&&void 0!==m.config.p&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-600",children:"S/P:"}),(0,s.jsxs)("dd",{className:"font-semibold text-gray-900",children:[m.config.s,"S",m.config.p,"P"]})]}),m.config.chemistry&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-600",children:"Kimya:"}),(0,s.jsx)("dd",{className:"font-medium text-gray-900 text-xs",children:m.config.chemistry})]})]})]}),m.electrical&&Object.keys(m.electrical).length>0&&(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-2 border border-green-200",children:[(0,s.jsxs)("h3",{className:"text-[10px] font-semibold text-gray-800 mb-1.5 flex items-center gap-1",children:[(0,s.jsx)(w.Z,{className:"w-3 h-3"}),"Elektriksel"]}),(0,s.jsxs)("dl",{className:"space-y-0.5 text-[10px]",children:[void 0!==m.electrical.vNom&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-600",children:"Voltaj:"}),(0,s.jsx)("dd",{className:"font-semibold text-gray-900",children:(0,L.x0)(m.electrical.vNom)})]}),void 0!==m.electrical.ah&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-600",children:"Kapasite:"}),(0,s.jsx)("dd",{className:"font-semibold text-gray-900 text-xs",children:(0,L.Wm)(m.electrical.ah)})]}),void 0!==m.electrical.wh&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-600",children:"Enerji:"}),(0,s.jsx)("dd",{className:"font-semibold text-gray-900 text-xs",children:(0,L.Bb)(m.electrical.wh)})]})]})]}),m.mechanical&&Object.keys(m.mechanical).length>0&&(0,s.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg p-2 border border-purple-200",children:[(0,s.jsxs)("h3",{className:"text-[10px] font-semibold text-gray-800 mb-1.5 flex items-center gap-1",children:[(0,s.jsx)(V.Z,{className:"w-3 h-3"}),"Mekanik"]}),(0,s.jsxs)("dl",{className:"space-y-0.5 text-[10px]",children:[void 0!==m.mechanical.cells&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-600",children:"H\xfccre:"}),(0,s.jsx)("dd",{className:"font-semibold text-gray-900",children:m.mechanical.cells})]}),void 0!==m.mechanical.weightG&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-600",children:"Ağırlık:"}),(0,s.jsx)("dd",{className:"font-semibold text-gray-900 text-xs",children:(0,L.cr)(m.mechanical.weightG)})]})]})]}),m.electrical&&(void 0!==m.electrical.iContAvail||void 0!==m.electrical.iPeakAvail)&&(0,s.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg p-2 border border-amber-200",children:[(0,s.jsxs)("h3",{className:"text-[10px] font-semibold text-gray-800 mb-1.5 flex items-center gap-1",children:[(0,s.jsx)(w.Z,{className:"w-3 h-3"}),"Akım"]}),(0,s.jsxs)("dl",{className:"space-y-0.5 text-[10px]",children:[void 0!==m.electrical.iContAvail&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-600",children:"S\xfcrekli:"}),(0,s.jsx)("dd",{className:"font-semibold text-gray-900 text-[9px]",children:(0,L.gz)(m.electrical.iContAvail)})]}),void 0!==m.electrical.iPeakAvail&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("dt",{className:"text-gray-600",children:"Tepe:"}),(0,s.jsx)("dd",{className:"font-semibold text-gray-900 text-[9px]",children:(0,L.gz)(m.electrical.iPeakAvail)})]})]})]})]}),g&&Object.keys(g).length>0&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2 border border-gray-200",children:[(0,s.jsxs)("h3",{className:"text-[10px] font-semibold text-gray-800 mb-1.5 flex items-center gap-1",children:[(0,s.jsx)(D.Z,{className:"w-2.5 h-2.5"}),"Değerlendirme"]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[void 0!==g.contOK&&(0,s.jsxs)(C.C,{variant:g.contOK?"default":"destructive",className:"text-[9px] px-1.5 py-0.5",children:[g.contOK?(0,s.jsx)(D.Z,{className:"w-2.5 h-2.5 mr-0.5"}):(0,s.jsx)(S.Z,{className:"w-2.5 h-2.5 mr-0.5"}),"S\xfcrekli ",g.contOK?"✓":"✗"]}),void 0!==g.peakOK&&(0,s.jsxs)(C.C,{variant:g.peakOK?"default":"destructive",className:"text-[9px] px-1.5 py-0.5",children:[g.peakOK?(0,s.jsx)(D.Z,{className:"w-2.5 h-2.5 mr-0.5"}):(0,s.jsx)(S.Z,{className:"w-2.5 h-2.5 mr-0.5"}),"Tepe ",g.peakOK?"✓":"✗"]}),void 0!==g.energyConsistencyOK&&(0,s.jsxs)(C.C,{variant:g.energyConsistencyOK?"default":"secondary",className:"text-[9px] px-1.5 py-0.5",children:[g.energyConsistencyOK?(0,s.jsx)(D.Z,{className:"w-2.5 h-2.5 mr-0.5"}):(0,s.jsx)(M.Z,{className:"w-2.5 h-2.5 mr-0.5"}),"Enerji ",g.energyConsistencyOK?"✓":"⚠"]}),void 0!==g.weightOK&&(0,s.jsxs)(C.C,{variant:g.weightOK?"default":"destructive",className:"text-[9px] px-1.5 py-0.5",children:[g.weightOK?(0,s.jsx)(D.Z,{className:"w-2.5 h-2.5 mr-0.5"}):(0,s.jsx)(S.Z,{className:"w-2.5 h-2.5 mr-0.5"}),"Ağırlık ",g.weightOK?"✓":"✗"]}),!0===g.hasBMS&&(0,s.jsxs)(C.C,{variant:"default",className:"text-[9px] px-1.5 py-0.5",children:[(0,s.jsx)(D.Z,{className:"w-2.5 h-2.5 mr-0.5"}),"BMS ✓"]}),!0===g.hasConnector&&(0,s.jsxs)(C.C,{variant:"default",className:"text-[9px] px-1.5 py-0.5",children:[(0,s.jsx)(D.Z,{className:"w-2.5 h-2.5 mr-0.5"}),"Konekt\xf6r ✓"]}),!0===g.hasCharger&&(0,s.jsxs)(C.C,{variant:"default",className:"text-[9px] px-1.5 py-0.5",children:[(0,s.jsx)(D.Z,{className:"w-2.5 h-2.5 mr-0.5"}),"Şarj ✓"]}),g.regulationNote&&(0,s.jsxs)(C.C,{variant:g.regulationRequired?"destructive":"secondary",className:"text-[9px] px-1.5 py-0.5",children:[(0,s.jsx)(z.Z,{className:"w-2.5 h-2.5 mr-0.5"}),g.regulationNote.length>15?g.regulationNote.substring(0,15)+"...":g.regulationNote]})]}),(g.contMessage||g.peakMessage||g.energyConsistencyMessage||g.weightMessage||g.regulationMessage)&&(0,s.jsxs)("div",{className:"space-y-0.5 mt-1.5 pt-1.5 border-t border-gray-300",children:[g.contMessage&&(0,s.jsxs)("div",{className:"text-[10px] text-red-700 flex items-start gap-1",children:[(0,s.jsx)(S.Z,{className:"w-2.5 h-2.5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("span",{className:"line-clamp-1",children:g.contMessage})]}),g.peakMessage&&(0,s.jsxs)("div",{className:"text-[10px] text-yellow-700 flex items-start gap-1",children:[(0,s.jsx)(M.Z,{className:"w-2.5 h-2.5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("span",{className:"line-clamp-1",children:g.peakMessage})]}),g.energyConsistencyMessage&&(0,s.jsxs)("div",{className:"text-[10px] text-yellow-700 flex items-start gap-1",children:[(0,s.jsx)(M.Z,{className:"w-2.5 h-2.5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("span",{className:"line-clamp-1",children:g.energyConsistencyMessage})]}),g.weightMessage&&(0,s.jsxs)("div",{className:"text-[10px] text-yellow-700 flex items-start gap-1",children:[(0,s.jsx)(M.Z,{className:"w-2.5 h-2.5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("span",{className:"line-clamp-1",children:g.weightMessage})]}),g.regulationMessage&&(0,s.jsxs)("div",{className:"text-[10px] text-red-700 flex items-start gap-1",children:[(0,s.jsx)(S.Z,{className:"w-2.5 h-2.5 flex-shrink-0 mt-0.5"}),(0,s.jsx)("span",{className:"line-clamp-1",children:g.regulationMessage})]})]})]}),u&&(0,s.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg p-3 border border-green-200",children:[(0,s.jsxs)("h3",{className:"text-xs font-semibold text-gray-800 mb-2 flex items-center gap-1.5",children:[(0,s.jsx)(_,{className:"w-3 h-3"}),"Maliyet \xd6zeti"]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-xs text-gray-600",children:"Toplam:"}),(0,s.jsx)("span",{className:"text-lg font-bold text-green-600",children:(0,L.ZM)((null==u?void 0:null===(e=u.totals)||void 0===e?void 0:e.total)||0)})]}),(0,s.jsx)(E,{price:u})]})]})]})}var O=a(2442);let K=(e,t,a)=>{if(!e||!t||!a)return[];let s={18650:3.7,21700:3.7,26650:3.7}[a]||3.7,r={18650:3,21700:4.5,26650:5.5}[a]||3,i={18650:130,21700:35,26650:45}[a]||25,l=Math.ceil(e/s),n=Math.ceil(t/(e*r)),o={18650:45,21700:65,26650:85}[a]||45;return[{id:"optimal",title:"Optimal Konfig\xfcrasyon",description:"Hedef değerlere en yakın konfig\xfcrasyon",icon:"\uD83C\uDFAF",s:l,p:n,voltage:l*s,capacity:n*r,energy:l*n*s*r,totalCells:l*n,weight:l*n*o,estimatedCost:l*n*i+500,features:["Hedef voltaja yakın","Hedef enerjiye yakın","Dengeli performans"],recommended:!0,ariaLabel:"Optimal konfig\xfcrasyon se\xe7in"},{id:"compact",title:"Kompakt & Hafif",description:"Minimum boyut ve ağırlık",icon:"\uD83D\uDCE6",s:Math.max(1,l-1),p:Math.max(1,n-1),voltage:Math.max(1,l-1)*s,capacity:Math.max(1,n-1)*r,energy:Math.max(1,l-1)*Math.max(1,n-1)*s*r,totalCells:Math.max(1,l-1)*Math.max(1,n-1),weight:Math.max(1,l-1)*Math.max(1,n-1)*o,estimatedCost:Math.max(1,l-1)*Math.max(1,n-1)*i+500,features:["D\xfcş\xfck h\xfccre sayısı","Hafif","Kompakt"],recommended:!1,ariaLabel:"Kompakt konfig\xfcrasyon se\xe7in"},{id:"high-capacity",title:"Y\xfcksek Kapasite",description:"Maksimum enerji depolama",icon:"⚡",s:l,p:n+2,voltage:l*s,capacity:(n+2)*r,energy:l*(n+2)*s*r,totalCells:l*(n+2),weight:l*(n+2)*o,estimatedCost:l*(n+2)*i+500,features:["Y\xfcksek kapasite","Uzun kullanım","G\xfc\xe7l\xfc"],recommended:!1,ariaLabel:"Y\xfcksek kapasite konfig\xfcrasyon se\xe7in"},{id:"high-voltage",title:"Y\xfcksek Voltaj",description:"Maksimum voltaj \xe7ıkışı",icon:"\uD83D\uDD0B",s:l+2,p:n,voltage:(l+2)*s,capacity:n*r,energy:(l+2)*n*s*r,totalCells:(l+2)*n,weight:(l+2)*n*o,estimatedCost:(l+2)*n*i+500,features:["Y\xfcksek voltaj","G\xfc\xe7l\xfc \xe7ıkış","Hızlı şarj"],recommended:!1,ariaLabel:"Y\xfcksek voltaj konfig\xfcrasyon se\xe7in"},{id:"balanced",title:"Dengeli Performans",description:"Voltaj ve kapasite dengesi",icon:"⚖️",s:l+1,p:n+1,voltage:(l+1)*s,capacity:(n+1)*r,energy:(l+1)*(n+1)*s*r,totalCells:(l+1)*(n+1),weight:(l+1)*(n+1)*o,estimatedCost:(l+1)*(n+1)*i+500,features:["Dengeli voltaj","Dengeli kapasite","\xc7ok y\xf6nl\xfc"],recommended:!1,ariaLabel:"Dengeli performans konfig\xfcrasyon se\xe7in"}]};function I(e){let{config:t,onConfigChange:a}=e,[i,c]=(0,r.useState)(t),[d,u]=(0,r.useState)({}),[h,x]=(0,r.useState)(!1),[p,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(!1),{targetV:f,targetWh:N,targetEnergyWh:k,voltageClass:A,cellFormat:V,weightMaxG:D,weightLimit_g:S,setBatteryConfig:M,cell:T,ns:_,np:L}=(0,o.F)(),R=k||N,Z=f||("12V"===A?12:"24V"===A?24:"5V"===A?5:void 0),E=V||(null==T?void 0:T.id)||i.cellType||"18650",W=(0,r.useMemo)(()=>K(Z,R,E),[Z,R,E]);(0,r.useEffect)(()=>{let e={...t,s:_||t.s,p:L||t.p,cellType:V||(null==T?void 0:T.id)||t.cellType||"18650",targetV:Z||t.targetV,targetWh:R||t.targetWh};JSON.stringify(e)!==JSON.stringify(i)&&c(e),t.cellType||V||(null==T?void 0:T.id)||a({cellType:"18650"})},[t,_,L,T,V,Z,R,a]),(0,r.useEffect)(()=>{let e=A||i.voltageClass,t=R||i.targetWh,s=E||i.cellType;if(e&&t&&s){let r={"12V":12,"24V":24,"36V":36,"48V":48}[e]||24,l=Math.ceil(r/(({18650:3.7,21700:3.7,26650:3.7})[s]||3.7)),n=Math.ceil((t||1e3)/(r*(({18650:3,21700:4.5,26650:5.5})[s]||3)));(l!==i.s||n!==i.p)&&(c({...i,s:l,p:n}),a({s:l,p:n}),M({s:l,p:n}))}},[A,R,E,i.voltageClass,i.targetWh,i.cellType,M]);let F=(e,t)=>{if(console.log("Config change:",e,t),c({...i,[e]:t}),a({[e]:t}),"s"===e||"p"===e)M({[e]:t});else if("cellType"===e){let e={18650:{id:"18650",name:"ASPİLSAN INR18650A28",chemistry:"NMC",nominalV:3.65,capacityAh:2.8,contDischargeA:2.8,peakDischargeA:4,maxChargeA:1.4,internalRmOhm:45,maxChargeV:4.2,cutOffV:3,weight_g:45,width_mm:18,height_mm:65,length_mm:18,grade:"A",manufacturer:"ASPİLSAN",dateCode:"2024",datasheetUrl:"",msdsUrl:"",testReportUrl:""},21700:{id:"21700",name:"21700 Li-ion",chemistry:"NMC",nominalV:3.7,capacityAh:4.5,contDischargeA:3,peakDischargeA:5,maxChargeA:2,internalRmOhm:35,maxChargeV:4.2,cutOffV:3,weight_g:65,width_mm:21,height_mm:70,length_mm:21,grade:"A",manufacturer:"Samsung",dateCode:"2024",datasheetUrl:"",msdsUrl:"",testReportUrl:""},26650:{id:"26650",name:"26650 Li-ion",chemistry:"NMC",nominalV:3.7,capacityAh:5.5,contDischargeA:2.5,peakDischargeA:4,maxChargeA:2,internalRmOhm:30,maxChargeV:4.2,cutOffV:3,weight_g:85,width_mm:26,height_mm:65,length_mm:26,grade:"A",manufacturer:"LG",dateCode:"2024",datasheetUrl:"",msdsUrl:"",testReportUrl:""}}[t];e&&M({cell:e})}d[e]&&u(t=>({...t,[e]:""}))},H=e=>{var t,s;console.log("Config selected:",e,"S/P:",null===(t=W.find(t=>t.id===e))||void 0===t?void 0:t.s,null===(s=W.find(t=>t.id===e))||void 0===s?void 0:s.p),y(e),b(!1);let r=W.find(t=>t.id===e);r&&(M({s:r.s,p:r.p}),c({...i,s:r.s,p:r.p}),a({s:r.s,p:r.p}),console.log("Store updated with S/P:",r.s,r.p,"SummaryPanel should update immediately"))},P=()=>{let e={};return(!i.s||i.s<1)&&(e.s="Seri h\xfccre sayısı en az 1 olmalıdır"),(!i.p||i.p<1)&&(e.p="Paralel h\xfccre sayısı en az 1 olmalıdır"),i.s&&i.s>50&&(e.s="Seri h\xfccre sayısı 50'den fazla olamaz"),i.p&&i.p>50&&(e.p="Paralel h\xfccre sayısı 50'den fazla olamaz"),u(e),0===Object.keys(e).length};(0,r.useEffect)(()=>{P()},[i]);let I=(i.s||0)*(i.p||0),G=3.65*(i.s||0),B=2.8*(i.p||0),U=I*(({18650:130,21700:35,26650:45})[i.cellType||"18650"]||130)+500;return(0,s.jsxs)("div",{className:"space-y-8",children:[W.length>0&&!v&&(0,s.jsxs)(l.Zb,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("h3",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(w.Z,{className:"w-4 h-4"}),"S/P Konfig\xfcrasyon Se\xe7enekleri"]}),(0,s.jsx)(n.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{y(null),b(!0)},className:"text-xs h-7 px-2 hover:bg-blue-50",children:"➕ \xd6zel"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2.5",children:W.map(e=>(0,s.jsxs)("button",{type:"button",className:"relative p-3 rounded-lg border-2 text-left transition-all duration-200 hover:shadow-md ".concat(p===e.id?"border-blue-500 bg-blue-50 shadow-md":e.recommended?"border-green-400 bg-green-50/50 hover:border-green-500":"border-gray-200 bg-white hover:border-gray-300"),onClick:()=>H(e.id),"aria-label":e.ariaLabel,children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[(0,s.jsx)("span",{className:"text-base flex-shrink-0",children:e.icon}),(0,s.jsx)("div",{className:"min-w-0 flex-1",children:(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:e.title})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[e.recommended&&(0,s.jsx)(C.C,{className:"bg-green-600 text-white text-[10px] px-1.5 py-0 h-4",children:"\xd6nerilen"}),p===e.id&&(0,s.jsx)("div",{className:"w-5 h-5 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(O.Z,{className:"w-3 h-3 text-white"})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-1.5 mb-2",children:[(0,s.jsxs)("div",{className:"bg-white/80 p-1.5 rounded text-center",children:[(0,s.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"S/P"}),(0,s.jsxs)("div",{className:"text-xs font-bold text-gray-900 leading-tight",children:[e.s,"S",e.p,"P"]})]}),(0,s.jsxs)("div",{className:"bg-white/80 p-1.5 rounded text-center",children:[(0,s.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"V"}),(0,s.jsxs)("div",{className:"text-xs font-bold text-gray-900 leading-tight",children:[e.voltage.toFixed(1),"V"]})]}),(0,s.jsxs)("div",{className:"bg-white/80 p-1.5 rounded text-center",children:[(0,s.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Ah"}),(0,s.jsx)("div",{className:"text-xs font-bold text-gray-900 leading-tight",children:e.capacity.toFixed(1)})]}),(0,s.jsxs)("div",{className:"bg-white/80 p-1.5 rounded text-center",children:[(0,s.jsx)("div",{className:"text-[10px] text-gray-500 mb-0.5",children:"Wh"}),(0,s.jsx)("div",{className:"text-xs font-bold text-blue-600 leading-tight",children:e.energy.toFixed(0)})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-1.5 border-t border-gray-200",children:[(0,s.jsxs)("span",{className:"text-[10px] text-gray-500",children:["Ağırlık: ",e.weight.toFixed(0),"g"]}),(0,s.jsxs)("span",{className:"text-sm font-bold text-green-600",children:["₺",e.estimatedCost.toFixed(0)]})]})]},e.id))})]}),v&&(0,s.jsxs)(l.Zb,{className:"p-4 border-2 border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(j.Z,{className:"w-5 h-5 text-blue-600"}),"\xd6zel S/P Konfig\xfcrasyonu"]}),(0,s.jsx)(n.z,{type:"button",variant:"ghost",onClick:()=>{b(!1),y(null)},className:"text-sm hover:bg-blue-100",children:"← \xd6nerilere D\xf6n"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,s.jsxs)(l.Zb,{className:"p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Seri H\xfccre Sayısı (S)"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(g._,{htmlFor:"s",className:"text-sm font-medium",children:"S Değeri"}),(0,s.jsx)(m.I,{id:"s",type:"number",min:"1",max:"50",value:i.s||"",onChange:e=>{F("s",Number(e.target.value)||1)},className:"text-center text-base py-2 mt-1","aria-describedby":"sHelp"}),(0,s.jsx)("p",{id:"sHelp",className:"text-xs text-gray-500 mt-1",children:"Toplam voltaj = S \xd7 H\xfccre Voltajı"}),d.s&&(0,s.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1 mt-1",children:[(0,s.jsx)(z.Z,{className:"w-4 h-4"}),d.s]})]}),(0,s.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Tahmini Toplam Voltaj:"})," ",G.toFixed(1),"V"]})})]})]}),(0,s.jsxs)(l.Zb,{className:"p-4",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Paralel H\xfccre Sayısı (P)"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(g._,{htmlFor:"p",className:"text-sm font-medium",children:"P Değeri"}),(0,s.jsx)(m.I,{id:"p",type:"number",min:"1",max:"50",value:i.p||"",onChange:e=>{F("p",Number(e.target.value)||1)},className:"text-center text-base py-2 mt-1","aria-describedby":"pHelp"}),(0,s.jsx)("p",{id:"pHelp",className:"text-xs text-gray-500 mt-1",children:"Toplam kapasite = P \xd7 H\xfccre Kapasitesi"}),d.p&&(0,s.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1 mt-1",children:[(0,s.jsx)(z.Z,{className:"w-4 h-4"}),d.p]})]}),(0,s.jsx)("div",{className:"bg-gray-50 p-3 rounded-lg",children:(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Tahmini Toplam Kapasite:"})," ",B.toFixed(1),"Ah"]})})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-white rounded-xl border-2 border-blue-300 shadow-md",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-2 text-center",children:"Konfig\xfcrasyon \xd6zeti"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"S/P"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-blue-600",children:[i.s||0,"S",i.p||0,"P"]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Toplam H\xfccre"}),(0,s.jsx)("div",{className:"text-lg font-bold text-gray-900",children:I})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Voltaj"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[G.toFixed(1),"V"]})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Kapasite"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-orange-600",children:[B.toFixed(1),"Ah"]})]})]}),(0,s.jsx)("div",{className:"mt-3 p-2.5 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tahmini Maliyet:"}),(0,s.jsxs)("span",{className:"text-base font-bold text-green-600",children:["₺",U.toFixed(0)]})]})})]})]})]})}var G=a(8567);let B=G.Provider,U=G.Root,Q=G.Trigger,Y=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...i}=e;return(0,s.jsx)(G.Content,{ref:t,sideOffset:r,className:(0,W.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})});Y.displayName=G.Content.displayName;var X=a(2245),q=a(4891),J=a(9883),$=a(9036),ee=a(9031);let et=[{id:"Standard 20–40A",title:"Standard 20–40A",description:"Temel koruma ve dengeleme",current:"20-40A",features:["Temel koruma","Dengeleme","G\xfcvenilir"],price:"₺299",image:"\uD83D\uDD0B",ariaLabel:"Standard BMS se\xe7in"},{id:"High 40–60A",title:"High 40–60A",description:"Y\xfcksek akım kapasitesi",current:"40-60A",features:["Y\xfcksek akım","Gelişmiş koruma","Hızlı şarj"],price:"₺499",image:"⚡",ariaLabel:"High BMS se\xe7in"},{id:"Smart-BT",title:"Smart-BT",description:"Bluetooth ile akıllı kontrol",current:"50-80A",features:["Bluetooth","Mobil uygulama","Veri kaydı"],price:"₺799",image:"\uD83D\uDCF1",ariaLabel:"Smart-BT BMS se\xe7in"}],ea=[{id:"XT60",title:"XT60",description:"Standart konekt\xf6r, yaygın kullanım",current:"60A",features:["60A kapasite","Kolay bağlantı","Yaygın"],price:"₺25",image:"\uD83D\uDD0C",ariaLabel:"XT60 konekt\xf6r se\xe7in"},{id:"XT90",title:"XT90",description:"Y\xfcksek akım konekt\xf6r\xfc",current:"90A",features:["90A kapasite","G\xfc\xe7l\xfc bağlantı","Profesyonel"],price:"₺45",image:"\uD83D\uDD0C",ariaLabel:"XT90 konekt\xf6r se\xe7in"},{id:"Anderson",title:"Anderson",description:"End\xfcstriyel konekt\xf6r",current:"100A+",features:["100A+ kapasite","End\xfcstriyel","Dayanıklı"],price:"₺85",image:"⚡",ariaLabel:"Anderson konekt\xf6r se\xe7in"}],es=[{id:"charger-146v",title:"14.6V 3A Şarj Cihazı",description:"4S Li-ion i\xe7in ideal",voltage:"14.6V",current:"3A",chemistry:"Li-ion",series:"4S",features:["CC/CV şarj","LED g\xf6stergeler","Kompakt"],price:"₺145",image:"\uD83D\uDD0C",ariaLabel:"14.6V şarj cihazı se\xe7in"},{id:"charger-168v",title:"16.8V 5A Şarj Cihazı",description:"4S Li-ion i\xe7in hızlı şarj",voltage:"16.8V",current:"5A",chemistry:"Li-ion",series:"4S",features:["Hızlı şarj","Termal koruma","G\xfcvenilir"],price:"₺199",image:"⚡",ariaLabel:"16.8V şarj cihazı se\xe7in"},{id:"charger-252v",title:"25.2V 5A Şarj Cihazı",description:"6S Li-ion i\xe7in ideal",voltage:"25.2V",current:"5A",chemistry:"Li-ion",series:"6S",features:["6S uyumlu","Y\xfcksek g\xfc\xe7","Profesyonel"],price:"₺249",image:"\uD83D\uDD0B",ariaLabel:"25.2V şarj cihazı se\xe7in"},{id:"charger-292v",title:"29.2V 5A Şarj Cihazı",description:"7S Li-ion i\xe7in ideal",voltage:"29.2V",current:"5A",chemistry:"Li-ion",series:"7S",features:["7S uyumlu","Y\xfcksek voltaj","End\xfcstriyel"],price:"₺299",image:"⚡",ariaLabel:"29.2V şarj cihazı se\xe7in"}],er=[{id:"dcdc-usb-c",title:"USB-C DC-DC D\xf6n\xfcşt\xfcr\xfcc\xfc",description:"USB-C \xe7ıkışlı d\xf6n\xfcşt\xfcr\xfcc\xfc",input:"12-24V",output:"5V 3A",features:["USB-C \xe7ıkış","Kompakt","Mobil cihazlar"],price:"₺85",image:"\uD83D\uDD0C",ariaLabel:"USB-C DC-DC d\xf6n\xfcşt\xfcr\xfcc\xfc se\xe7in"},{id:"dcdc-12-24v",title:"12V↔24V DC-DC D\xf6n\xfcşt\xfcr\xfcc\xfc",description:"\xc7ift y\xf6nl\xfc d\xf6n\xfcşt\xfcr\xfcc\xfc",input:"12V/24V",output:"24V/12V",features:["\xc7ift y\xf6nl\xfc","Y\xfcksek verim","End\xfcstriyel"],price:"₺125",image:"⚡",ariaLabel:"12V-24V DC-DC d\xf6n\xfcşt\xfcr\xfcc\xfc se\xe7in"},{id:"dcdc-48-12v",title:"48V→12V DC-DC D\xf6n\xfcşt\xfcr\xfcc\xfc",description:"Y\xfcksek voltaj d\xf6n\xfcşt\xfcr\xfcc\xfc",input:"48V",output:"12V 10A",features:["Y\xfcksek akım","Termal koruma","G\xfcvenilir"],price:"₺195",image:"\uD83D\uDD0B",ariaLabel:"48V-12V DC-DC d\xf6n\xfcşt\xfcr\xfcc\xfc se\xe7in"},{id:"dcdc-24-5v",title:"24V→5V DC-DC D\xf6n\xfcşt\xfcr\xfcc\xfc",description:"D\xfcş\xfck voltaj d\xf6n\xfcşt\xfcr\xfcc\xfc",input:"24V",output:"5V 5A",features:["USB \xe7ıkış","\xc7oklu port","Kompakt"],price:"₺75",image:"\uD83D\uDD0C",ariaLabel:"24V-5V DC-DC d\xf6n\xfcşt\xfcr\xfcc\xfc se\xe7in"}],ei=[{id:"spot_welder",name:"Nokta Kaynak Makinesi",description:"Profesyonel nokta kaynak makinesi",category:"essential",features:["0.1-0.3mm nikel şerit","LCD ekran","Pulse kontrol\xfc"],price:"₺2,500",image:"⚡",essential:!0},{id:"multimeter",name:"Multimetre",description:"Voltaj ve akım \xf6l\xe7\xfcm\xfc",category:"essential",features:["DC/AC voltaj","Akım \xf6l\xe7\xfcm\xfc","Diren\xe7 \xf6l\xe7\xfcm\xfc"],price:"₺200",image:"\uD83D\uDCCA",essential:!0},{id:"wire_cutter",name:"Tel Kesici",description:"Profesyonel tel kesici",category:"essential",features:["Karbon \xe7elik","Ergonomik sap","Keskin bı\xe7aklar"],price:"₺80",image:"✂️",essential:!0},{id:"soldering_iron",name:"Lehim Havyası",description:"Elektronik lehimleme",category:"specialized",features:["Sıcaklık kontrol\xfc","\xc7eşitli u\xe7lar","Hızlı ısınma"],price:"₺300",image:"\uD83D\uDD25",essential:!1},{id:"heat_gun",name:"Sıcak Hava Tabancası",description:"Termal işlemler i\xe7in",category:"specialized",features:["Ayarlanabilir sıcaklık","\xc7eşitli nozullar","G\xfcvenlik kilidi"],price:"₺400",image:"\uD83C\uDF21️",essential:!1},{id:"battery_tester",name:"Batarya Test Cihazı",description:"H\xfccre kapasitesi testi",category:"specialized",features:["Kapasite \xf6l\xe7\xfcm\xfc","İ\xe7 diren\xe7","Grafik ekran"],price:"₺800",image:"\uD83D\uDD2C",essential:!1},{id:"safety_glasses",name:"G\xfcvenlik G\xf6zl\xfcğ\xfc",description:"G\xf6z koruması",category:"safety",features:["UV koruması","\xc7izilmez cam","Rahat kullanım"],price:"₺30",image:"\uD83D\uDC53",essential:!1},{id:"work_gloves",name:"İş Eldiveni",description:"El koruması",category:"safety",features:["Kesilmez malzeme","Nefes alabilir","Esnek"],price:"₺25",image:"\uD83E\uDDE4",essential:!1}],el=[{id:"nickel_strips",name:"Nikel Şeritler",description:"Y\xfcksek kaliteli nikel şeritler",category:"essential",features:["0.2mm kalınlık","Saf nikel","\xc7eşitli boyutlar"],price:"₺150",image:"\uD83D\uDD0B",essential:!0},{id:"cell_holder",name:"H\xfccre Tutucu",description:"H\xfccreleri sabitlemek i\xe7in tutucu",category:"essential",features:["Plastik malzeme","\xc7eşitli boyutlar","Kolay montaj"],price:"₺50",image:"\uD83D\uDCE6",essential:!0}];function en(e){let t,{config:a,choices:i,onChoicesChange:o}=e,[c,d]=(0,r.useState)(()=>{let e={};if(i.bms&&(e.bms=Array.isArray(i.bms)?i.bms:[i.bms]),i.connector||i.connectorLoad){let t=i.connector||i.connectorLoad;i.connector?e.connector=Array.isArray(t)?t:t?[t]:void 0:i.connectorLoad&&(e.connector=Array.isArray(t)?t:t?[t]:void 0)}if(i.charger||i.chargers){let t=i.charger||i.chargers;e.chargers=Array.isArray(t)?t:t?[t]:void 0}return i.dcdc&&(e.dcdc=Array.isArray(i.dcdc)?i.dcdc:i.dcdc?[i.dcdc]:void 0),i.tools&&(e.tools=Array.isArray(i.tools)?i.tools:[i.tools]),i.toolQuantities&&(e.toolQuantities=i.toolQuantities),e}),[m,g]=(0,r.useState)(i.toolQuantities||{}),[u,h]=(0,r.useState)({}),[x,p]=(0,r.useState)(i.bmsQuantities||{}),[y,v]=(0,r.useState)(i.connectorQuantities||{}),[b,f]=(0,r.useState)(i.chargerQuantities||{}),[N,k]=(0,r.useState)(i.dcdcQuantities||{});(0,r.useEffect)(()=>{let e={};if(i.bms&&(e.bms=Array.isArray(i.bms)?i.bms:[i.bms]),i.connector||i.connectorLoad){let t=i.connector||i.connectorLoad;e.connector=Array.isArray(t)?t:t?[t]:void 0}if(i.charger||i.chargers){let t=i.charger||i.chargers;e.chargers=Array.isArray(t)?t:t?[t]:void 0}i.dcdc&&(e.dcdc=Array.isArray(i.dcdc)?i.dcdc:i.dcdc?[i.dcdc]:void 0),i.tools&&(e.tools=Array.isArray(i.tools)?i.tools:[i.tools]),i.toolQuantities&&(e.toolQuantities=i.toolQuantities,g(i.toolQuantities)),d(t=>({...t,...e}))},[i]);let C=(e,t)=>{let a={...c,[e]:t};d(a),o(a)},A=e=>{let t=Array.isArray(c.bms)?c.bms:c.bms?[c.bms]:[];if(t.includes(e)){let a={...x};delete a[e],p(a);let s=t.filter(t=>t!==e);C("bms",s.length>0?s:void 0),C("bmsQuantities",a)}else{let a={...x,[e]:1};p(a),C("bms",[...t,e]),C("bmsQuantities",a)}},D=(e,t)=>{if(t<=0)A(e);else{let a={...x,[e]:t};p(a),C("bmsQuantities",a)}},S=e=>{let t=Array.isArray(c.connector)?c.connector:c.connector?[c.connector]:[];if(t.includes(e)){let a={...y};delete a[e],v(a);let s=t.filter(t=>t!==e);C("connector",s.length>0?s:void 0),C("connectorQuantities",a)}else{let a={...y,[e]:1};v(a),C("connector",[...t,e]),C("connectorQuantities",a)}},M=(e,t)=>{if(t<=0)S(e);else{let a={...y,[e]:t};v(a),C("connectorQuantities",a)}},T=e=>{let t=Array.isArray(c.chargers)?c.chargers:c.chargers?[c.chargers]:[];if(t.includes(e)){let a={...b};delete a[e],f(a);let s=t.filter(t=>t!==e);C("chargers",s.length>0?s:void 0),C("chargerQuantities",a)}else{let a={...b,[e]:1};f(a),C("chargers",[...t,e]),C("chargerQuantities",a)}},_=(e,t)=>{if(t<=0)T(e);else{let a={...b,[e]:t};f(a),C("chargerQuantities",a)}},L=e=>{let t=Array.isArray(c.dcdc)?c.dcdc:c.dcdc?[c.dcdc]:[];if(t.includes(e)){let a={...N};delete a[e],k(a);let s=t.filter(t=>t!==e);C("dcdc",s.length>0?s:void 0),C("dcdcQuantities",a)}else{let a={...N,[e]:1};k(a),C("dcdc",[...t,e]),C("dcdcQuantities",a)}},R=(e,t)=>{if(t<=0)L(e);else{let a={...N,[e]:t};k(a),C("dcdcQuantities",a)}},E=e=>{let t=Array.isArray(c.tools)?c.tools:c.tools?[c.tools]:[];if(t.includes(e)){let a={...m};delete a[e],g(a);let s=t.filter(t=>t!==e);C("tools",s.length>0?s:void 0),C("toolQuantities",a)}else{let a={...m,[e]:1};g(a),C("tools",[...t,e]),C("toolQuantities",a)}},W=(e,t)=>{if(t<=0)E(e);else{let a={...m,[e]:t};g(a),C("toolQuantities",a)}},F=e=>{let t=Array.isArray(c.tools)?c.tools:c.tools?[c.tools]:[];if(t.includes(e)){let a={...u};delete a[e],h(a);let s=t.filter(t=>t!==e);C("tools",s.length>0?s:void 0)}else h({...u,[e]:1}),C("tools",[...t,e])},H=(e,t)=>{t<=0?F(e):h({...u,[e]:t})},P=()=>{if(!a.s||!a.cellType)return[];let e=3.7*a.s;return es.filter(t=>2>Math.abs(parseFloat(t.voltage.replace("V",""))-e))},K=e=>{if("materials"===e)return c.tools?(Array.isArray(c.tools)?c.tools:[c.tools]).filter(e=>el.some(t=>t.id===e)).length:0;if("tools"===e)return c.tools?(Array.isArray(c.tools)?c.tools:[c.tools]).filter(e=>ei.some(t=>t.id===e)).length:0;let t=c[e];return t?Array.isArray(t)?t.length:1:0},I=(e,t,a,r)=>{let i="charger"===r?[{label:"Voltaj",value:e.voltage},{label:"Akım",value:e.current}]:"dcdc"===r?[{label:"Giriş",value:e.input},{label:"\xc7ıkış",value:e.output}]:"tool"===r?[]:[{label:"Akım",value:e.current}],n="tool"===r,o="material"===r,c=n&&t?m[e.id]||1:o&&t?u[e.id]||1:"bms"===r&&t?x[e.id]||1:"connector"===r&&t?y[e.id]||1:"charger"===r&&t?b[e.id]||1:"dcdc"===r&&t?N[e.id]||1:null;return(0,s.jsx)("div",{onClick:a,className:"group relative w-full text-left transition-all duration-200 cursor-pointer ".concat(t?"ring-2 ring-blue-600 ring-offset-2":"hover:ring-1 hover:ring-gray-300"),children:(0,s.jsxs)(l.Zb,{className:"h-full overflow-hidden border-2 transition-all duration-200 ".concat(t?"border-blue-600 bg-blue-50/50 shadow-lg":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-md"),children:[t&&(0,s.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,s.jsx)("div",{className:"flex items-center justify-center w-6 h-6 bg-blue-600 rounded-full shadow-md",children:(0,s.jsx)(O.Z,{className:"w-4 h-4 text-white"})})}),e.essential&&(0,s.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-xs font-semibold bg-orange-100 text-orange-700 border border-orange-200",children:"\xd6nerilen"})}),(0,s.jsxs)("div",{className:"relative h-24 bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center border-b border-gray-100",children:[(0,s.jsx)("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:e.image}),"bms"===r&&(0,s.jsx)("div",{className:"absolute bottom-2 right-2",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-xs font-semibold ".concat(t?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"),children:e.current})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-gray-900 mb-1 group-hover:text-blue-600 transition-colors",children:e.title||e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed line-clamp-2",children:e.description})]}),i.length>0&&(0,s.jsx)("div",{className:"space-y-1.5 pt-2 border-t border-gray-100",children:i.map((e,t)=>(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:[e.label,":"]}),(0,s.jsx)("span",{className:"text-xs font-semibold text-gray-900",children:e.value})]},t))}),e.features&&e.features.length>0&&(0,s.jsx)("div",{className:"space-y-1 pt-2 border-t border-gray-100",children:e.features.slice(0,2).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[(0,s.jsx)(X.Z,{className:"w-3 h-3 text-green-500 fill-green-500 flex-shrink-0"}),(0,s.jsx)("span",{className:"line-clamp-1",children:e})]},t))}),(0,s.jsx)("div",{className:"pt-2 border-t border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"Fiyat"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[t&&c&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),n?W(e.id,c-1):o?H(e.id,c-1):"bms"===r?D(e.id,c-1):"connector"===r?M(e.id,c-1):"charger"===r?_(e.id,c-1):"dcdc"===r&&R(e.id,c-1)},className:"h-6 w-6 p-0 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:(0,s.jsx)(q.Z,{className:"h-3 w-3"})}),(0,s.jsx)("span",{className:"text-xs font-medium min-w-[1.5rem] text-center",children:c}),(0,s.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),n?W(e.id,c+1):o?H(e.id,c+1):"bms"===r?D(e.id,c+1):"connector"===r?M(e.id,c+1):"charger"===r?_(e.id,c+1):"dcdc"===r&&R(e.id,c+1)},className:"h-6 w-6 p-0 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:(0,s.jsx)(J.Z,{className:"h-3 w-3"})})]}),(0,s.jsx)("span",{className:"text-base font-bold text-green-600",children:e.price})]})]})})]})]})})},G=(e,t,a,r,i,o,c)=>(0,s.jsxs)("details",{className:"group",children:[(0,s.jsx)("summary",{className:"cursor-pointer list-none",children:(0,s.jsx)(l.Zb,{className:"border-2 border-gray-200 hover:border-blue-300 transition-all duration-200",children:(0,s.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg ".concat(r),children:a}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"text-base font-bold text-gray-900",children:e}),i>0&&(0,s.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-600 text-white",children:[i," se\xe7ili"]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:t})]}),c&&(0,s.jsx)(B,{children:(0,s.jsxs)(U,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)(n.z,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(z.Z,{className:"h-3.5 w-3.5 text-gray-400"})})}),(0,s.jsx)(Y,{className:"max-w-sm",children:(0,s.jsx)("p",{className:"text-sm",children:c})})]})})]}),(0,s.jsx)(Z.Z,{className:"w-5 h-5 text-gray-400 group-open:rotate-180 transition-transform duration-200 flex-shrink-0"})]})})}),(0,s.jsx)("div",{className:"mt-3 pl-2",children:o})]});return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"text-center space-y-1.5 pb-2",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"Donanım Bileşenleri"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 max-w-2xl mx-auto",children:"Batarya paketiniz i\xe7in gerekli elektronik bileşenler ve montaj aletlerini se\xe7in. T\xfcm se\xe7imler opsiyoneldir."})]}),G("BMS (Batarya Y\xf6netim Sistemi)","H\xfccre voltajını dengeler ve g\xfcvenlik sağlar",(0,s.jsx)(w.Z,{className:"w-5 h-5 text-blue-600"}),"bg-blue-100",K("bms"),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:et.map(e=>{let t=Array.isArray(c.bms)?c.bms.includes(e.id):c.bms===e.id;return(0,s.jsx)(r.Fragment,{children:I(e,t,()=>A(e.id),"bms")},e.id)})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Birden fazla BMS se\xe7ebilirsiniz. \xd6rneğin: ana BMS + yedek BMS."})]}),"BMS, h\xfccrelerin voltajını dengeler, aşırı şarj/deşarj koruması sağlar ve batarya sağlığını izler."),G("Konekt\xf6r","Batarya paketini harici cihazlara bağlar",(0,s.jsx)($.Z,{className:"w-5 h-5 text-purple-600"}),"bg-purple-100",K("connector"),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ea.map(e=>{let t=Array.isArray(c.connector)?c.connector.includes(e.id):c.connector===e.id;return(0,s.jsx)(r.Fragment,{children:I(e,t,()=>S(e.id),"connector")},e.id)})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Birden fazla konekt\xf6r se\xe7ebilirsiniz. \xd6rneğin: y\xfck konekt\xf6r\xfc + şarj konekt\xf6r\xfc."})]}),"Y\xfck konekt\xf6r\xfc, şarj konekt\xf6r\xfc gibi farklı ama\xe7lar i\xe7in birden fazla se\xe7ebilirsiniz."),G("Şarj Cihazı","Batarya paketinizi g\xfcvenli şekilde şarj eder",(0,s.jsx)(w.Z,{className:"w-5 h-5 text-green-600"}),"bg-green-100",K("chargers"),(0,s.jsxs)("div",{className:"space-y-3",children:[P().length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg",children:[(0,s.jsx)(O.Z,{className:"w-4 h-4 text-green-600"}),(0,s.jsx)("span",{className:"text-xs font-medium text-green-800",children:"Bataryanız i\xe7in uyumlu şarj cihazları"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:(P().length>0?P():es).map(e=>{let t=Array.isArray(c.chargers)?c.chargers.includes(e.id):c.chargers===e.id;return(0,s.jsx)(r.Fragment,{children:I(e,t,()=>T(e.id),"charger")},e.id)})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Birden fazla şarj cihazı se\xe7ebilirsiniz."})]})),G("DC-DC D\xf6n\xfcşt\xfcr\xfcc\xfc","Farklı voltaj seviyeleri arasında d\xf6n\xfcş\xfcm sağlar",(0,s.jsx)(j.Z,{className:"w-5 h-5 text-indigo-600"}),"bg-indigo-100",K("dcdc"),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:er.map(e=>{let t=Array.isArray(c.dcdc)?c.dcdc.includes(e.id):c.dcdc===e.id;return(0,s.jsx)(r.Fragment,{children:I(e,t,()=>L(e.id),"dcdc")},e.id)})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Birden fazla DC-DC d\xf6n\xfcşt\xfcr\xfcc\xfc se\xe7ebilirsiniz."})]}),"Birden fazla se\xe7ebilirsiniz. \xd6rneğin: USB-C \xe7ıkış + 12V \xe7ıkış."),G("Nokta Kaynak Aletleri","Montaj i\xe7in gerekli aletler",(0,s.jsx)(ee.Z,{className:"w-5 h-5 text-orange-600"}),"bg-orange-100",K("tools"),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ei.map(e=>{let t=Array.isArray(c.tools)?c.tools.includes(e.id):c.tools===e.id;return(0,s.jsx)(r.Fragment,{children:I(e,t,()=>E(e.id),"tool")},e.id)})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Birden fazla alet se\xe7ebilir ve miktarını ayarlayabilirsiniz."})]}),"Nokta kaynak ile batarya paketi oluşturmak i\xe7in gerekli aletler."),G("Montaj Malzemeleri","Montaj i\xe7in gerekli malzemeler",(0,s.jsx)(V.Z,{className:"w-5 h-5 text-amber-600"}),"bg-amber-100",K("materials"),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:el.map(e=>{let t=Array.isArray(c.tools)?c.tools.includes(e.id):c.tools===e.id;return(0,s.jsx)(r.Fragment,{children:I(e,t,()=>F(e.id),"material")},e.id)})}),(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Birden fazla malzeme se\xe7ebilir ve miktarını ayarlayabilirsiniz."})]}),"Nokta kaynak ile batarya paketi oluşturmak i\xe7in gerekli malzemeler."),(0,s.jsx)(l.Zb,{className:"border-2 border-green-200 bg-gradient-to-br from-green-50 via-white to-emerald-50 shadow-lg",children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-600",children:(0,s.jsx)(w.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-base font-bold text-gray-900",children:"Donanım Maliyeti \xd6zeti"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Se\xe7ilen t\xfcm bileşenlerin toplam maliyeti"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-6 gap-3",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-green-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-green-600 mb-1",children:["₺",(t=0,c.bms&&(Array.isArray(c.bms)?c.bms:[c.bms]).forEach(e=>{let a=et.find(t=>t.id===e);a&&(t+=parseInt(a.price.replace("₺","").replace(",","")))}),c.connector&&(Array.isArray(c.connector)?c.connector:[c.connector]).forEach(e=>{let a=ea.find(t=>t.id===e);a&&(t+=parseInt(a.price.replace("₺","").replace(",","")))}),c.chargers&&(Array.isArray(c.chargers)?c.chargers:[c.chargers]).forEach(e=>{let a=es.find(t=>t.id===e);a&&(t+=parseInt(a.price.replace("₺","").replace(",","")))}),c.dcdc&&(Array.isArray(c.dcdc)?c.dcdc:[c.dcdc]).forEach(e=>{let a=er.find(t=>t.id===e);a&&(t+=parseInt(a.price.replace("₺","").replace(",","")))}),c.tools&&(Array.isArray(c.tools)?c.tools:[c.tools]).forEach(e=>{let a=ei.find(t=>t.id===e),s=el.find(t=>t.id===e);if(a){let s=m[e]||1;t+=parseInt(a.price.replace("₺","").replace(",","").replace(".",""))*s}else if(s){let a=u[e]||1;t+=parseInt(s.price.replace("₺","").replace(",","").replace(".",""))*a}}),t)]}),(0,s.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Toplam"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-green-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:[K("bms")," BMS"]}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:"Koruma"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-green-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:[K("connector")," Konekt\xf6r"]}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:"Bağlantı"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-green-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:[K("chargers")," Şarj"]}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:"Şarj"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-green-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:[K("tools")," Alet"]}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:"Alet"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-green-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:[K("materials")," Malzeme"]}),(0,s.jsx)("div",{className:"text-xs text-gray-600",children:"Malzeme"})]})]})]})})]})}var eo=a(3505);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let ec=(0,T.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var ed=a(1733),em=a(2927);function eg(e){var t;let{config:a,choices:i,pricing:c,onProceedToCheckout:d}=e,m=(0,o.F)(),g=(0,ed.useCartStore)(e=>e.addItem),{addToast:u}=(0,em.useToast)(),h=r.useMemo(()=>H(m),[m.voltageClass,m.chemistry,m.regulation,m.targetV,m.targetWh,m.targetEnergyWh,m.targetCapacityAh,m.targetA,m.maxCurrentA,m.peakCurrentA,m.cellFormat,m.cellCapacityAh,m.cellContCurrentA,m.weightMaxG,m.weightLimit_g,m.ns,m.np,m.cell,m.bms,m.charger,m.connectorLoad,m.connectorCharge,m.case,m.accessories,m.tools]),x=null==h?void 0:h.price;return(0,s.jsxs)("div",{className:"space-y-3 max-w-4xl mx-auto",children:[(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(P,{})}),x&&(0,s.jsx)(l.Zb,{className:"border border-green-200 shadow-sm",children:(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[(0,s.jsx)(_,{className:"w-4 h-4 text-green-600"}),"Maliyet \xd6zeti"]}),(0,s.jsx)("span",{className:"text-lg font-bold text-green-600",children:(0,L.ZM)((null==x?void 0:null===(t=x.totals)||void 0===t?void 0:t.total)||(null==x?void 0:x.total)||0)})]}),(0,s.jsx)(E,{price:x})]})}),(0,s.jsxs)("div",{className:"space-y-3 mt-6",children:[(0,s.jsxs)(n.z,{type:"button",className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-base py-3 h-auto",onClick:()=>{try{var e,t,a,s,r;let i={id:"custom-".concat(Date.now()),name:"".concat(m.ns,"S").concat(m.np,"P \xd6zel Batarya Paketi"),description:"\xd6zel konfig\xfcrasyon: ".concat(m.ns,"S").concat(m.np,"P"),price:(null==x?void 0:null===(e=x.totals)||void 0===e?void 0:e.total)||(null==x?void 0:x.total)||0,isCustom:!0,config:{cellType:null===(t=m.cell)||void 0===t?void 0:t.id,s:m.ns,p:m.np,voltageClass:m.voltageClass,targetV:m.targetV,targetWh:m.targetEnergyWh||m.targetWh,chemistry:m.chemistry,regulation:m.regulation},choices:{bms:null===(a=m.bms)||void 0===a?void 0:a.id,connector:null===(s=m.connectorLoad)||void 0===s?void 0:s.id,charger:null===(r=m.charger)||void 0===r?void 0:r.id,tools:m.tools}};g(i),u({type:"success",title:"Sepete Eklendi",description:"\xd6zel batarya paketiniz sepete başarıyla eklendi."}),setTimeout(()=>{window.location.href="/cart"},1e3)}catch(e){console.error("Sepete ekleme hatası:",e),u({type:"error",title:"Hata",description:"\xdcr\xfcn sepete eklenirken bir hata oluştu. L\xfctfen tekrar deneyin."})}},children:[(0,s.jsx)(eo.Z,{className:"w-5 h-5 mr-2"}),"Sepete Ekle"]}),(0,s.jsxs)(n.z,{type:"button",variant:"outline",className:"w-full border-2 border-gray-300 hover:bg-gray-50 text-base py-3 h-auto",onClick:()=>{var e,t,a,s;let r={id:"draft-".concat(Date.now()),name:"".concat(m.ns,"S").concat(m.np,"P \xd6zel Batarya Paketi"),createdAt:new Date().toISOString(),config:{cellType:null===(e=m.cell)||void 0===e?void 0:e.id,s:m.ns,p:m.np,voltageClass:m.voltageClass,targetV:m.targetV,targetWh:m.targetEnergyWh||m.targetWh,chemistry:m.chemistry,regulation:m.regulation},choices:{bms:null===(t=m.bms)||void 0===t?void 0:t.id,connector:null===(a=m.connectorLoad)||void 0===a?void 0:a.id,charger:null===(s=m.charger)||void 0===s?void 0:s.id,tools:m.tools},pricing:x};{let e=JSON.parse(localStorage.getItem("battery_drafts")||"[]");e.push(r),localStorage.setItem("battery_drafts",JSON.stringify(e)),alert("Taslak profilinize kaydedildi!"),window.location.href="/profile"}},children:[(0,s.jsx)(ec,{className:"w-5 h-5 mr-2"}),"Profile Taslak Kaydet"]})]})]})}var eu=a(1291),eh=a(7158),ex=a(8160);let ep=r.memo(r.forwardRef((e,t)=>{let{step:a,status:r,isClickable:i,index:l,totalSteps:n,currentStep:o,onStepClick:c,onKeyDown:d}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("button",{ref:t,type:"button",onClick:()=>c(a.id),onKeyDown:e=>d(e,a.id),disabled:!i,"aria-current":"current"===r?"step":void 0,"aria-label":"Adım ".concat(a.id,": ").concat(a.title),className:(0,W.cn)("flex items-center gap-2.5 px-3 py-2 rounded-xl","transition-all duration-300 ease-out","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","current"===r&&"bg-gradient-to-br from-blue-50 to-indigo-50 shadow-sm border border-blue-200/50","completed"===r&&i&&"hover:bg-gradient-to-br hover:from-green-50 hover:to-emerald-50 hover:shadow-sm hover:scale-105","pending"===r&&"opacity-50",0===l&&"ml-0"),children:[(0,s.jsx)("div",{className:(0,W.cn)("flex items-center justify-center w-8 h-8 rounded-full","text-sm font-bold transition-all duration-300","flex-shrink-0 relative","current"===r&&["bg-gradient-to-br from-blue-600 to-blue-700 text-white","shadow-lg ring-2 ring-blue-300 ring-offset-2 scale-110","shadow-[0_0_12px_rgba(30,136,229,0.4)]"],"completed"===r&&"bg-gradient-to-br from-green-500 to-emerald-600 text-white shadow-md","pending"===r&&"bg-gradient-to-br from-neutral-200 to-neutral-300 text-neutral-500 dark:from-neutral-700 dark:to-neutral-600 dark:text-neutral-400"),"aria-hidden":"true",children:"completed"===r?(0,s.jsx)(O.Z,{className:"w-4 h-4",strokeWidth:3}):a.id}),(0,s.jsxs)("span",{className:(0,W.cn)("text-sm font-semibold whitespace-nowrap","truncate max-w-[120px] lg:max-w-none transition-colors duration-300","current"===r&&"text-blue-700 dark:text-blue-400","completed"===r&&"text-gray-700 dark:text-gray-300","pending"===r&&"text-gray-400 dark:text-gray-500"),title:a.title,children:[(0,s.jsx)("span",{className:"hidden xl:inline",children:a.title}),(0,s.jsx)("span",{className:"xl:hidden",children:a.shortTitle})]})]}),l<n-1&&(0,s.jsx)("div",{className:(0,W.cn)("hidden lg:block h-0.5 flex-1 min-w-[32px] max-w-[80px]","transition-all duration-300 rounded-full",a.id<o?"bg-gradient-to-r from-green-500 via-emerald-500 to-green-500 shadow-sm":a.id===o-1?"bg-gradient-to-r from-green-500 via-blue-500 to-neutral-300 dark:via-blue-500 dark:to-neutral-600":"bg-gradient-to-r from-neutral-200 to-neutral-300 dark:from-neutral-700 dark:to-neutral-600"),"aria-hidden":"true"})]})}));ep.displayName="StepButton";let ey=r.memo(function(e){let{logoSrc:t,productName:a,steps:i,currentStep:l,percent:n,onStepClick:o,allowSkipping:c=!1,actionsSlot:d,className:m}=e,g=r.useRef(null),u=(0,r.useMemo)(()=>i.reduce((e,t)=>(t.id<l?e[t.id]="completed":t.id===l?e[t.id]="current":e[t.id]="pending",e),{}),[i,l]),h=(0,r.useMemo)(()=>i.find(e=>e.id===l)||i[l-1],[i,l]),x=(0,r.useCallback)(e=>{o&&(c||!(e>l))&&o(e)},[o,c,l]),p=(0,r.useCallback)((e,t)=>{if("Enter"===e.key||" "===e.key){e.preventDefault(),x(t);return}if("ArrowLeft"===e.key&&t>1){e.preventDefault();let a=t-1,s=i.find(e=>e.id===a);s&&(c||s.id<=l)&&(x(s.id),setTimeout(()=>{var t;let s=null===(t=e.currentTarget.parentElement)||void 0===t?void 0:t.querySelectorAll("button"),r=null==s?void 0:s[i.findIndex(e=>e.id===a)];r instanceof HTMLElement&&r.focus()},0));return}if("ArrowRight"===e.key&&t<i.length){e.preventDefault();let a=t+1,s=i.find(e=>e.id===a);s&&(c||s.id<=l)&&(x(s.id),setTimeout(()=>{var t;let s=null===(t=e.currentTarget.parentElement)||void 0===t?void 0:t.querySelectorAll("button"),r=null==s?void 0:s[i.findIndex(e=>e.id===a)];r instanceof HTMLElement&&r.focus()},0))}},[i,l,c,x]),y=(0,r.useMemo)(()=>Math.round(n),[n]);return(0,s.jsx)("header",{className:(0,W.cn)("border-b border-neutral-200 shadow-sm","bg-gradient-to-b from-gray-50 to-white","dark:bg-gradient-to-b dark:from-neutral-900 dark:to-neutral-950","dark:border-neutral-800","bg-white dark:bg-neutral-900",m),role:"banner",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-1 sm:px-2 lg:px-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 py-3 sm:py-4",children:[(0,s.jsx)("nav",{className:"md:hidden flex flex-1 items-center justify-center gap-1 lg:gap-2 px-0 min-w-0 relative z-20","aria-label":"Navigasyon adımları",children:(0,s.jsx)(B,{children:i.map((e,t)=>{let a=u[e.id]||"pending",r=c||e.id<=l,n={1:"Proje hedeflerinizi ve h\xfccre se\xe7imini yapın",2:"H\xfccrelerinizi tamamladıktan sonra bileşenleri se\xe7in",3:"Nokta kaynak i\xe7in gerekli aletleri se\xe7in",4:"Sipariş i\xe7in m\xfcşteri bilgilerini girin",5:"Konfig\xfcrasyonunuzu g\xf6zden ge\xe7irin"};return(0,s.jsxs)(U,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsx)("div",{className:"inline-block",children:(0,s.jsx)(ep,{step:e,status:a,isClickable:r,index:t,totalSteps:i.length,currentStep:l,onStepClick:x,onKeyDown:p})})}),(0,s.jsxs)(Y,{side:"bottom",className:"max-w-xs",children:[(0,s.jsx)("p",{className:"font-medium",children:e.title}),n[e.id]&&(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:n[e.id]})]})]},e.id)})})}),(0,s.jsxs)("div",{className:"md:hidden flex items-center gap-2 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-blue-50 dark:bg-blue-950/30 rounded-lg flex-shrink-0",children:(0,s.jsxs)("span",{className:"text-xs sm:text-sm font-bold text-blue-600 dark:text-blue-400",children:[l,"/",i.length]})}),(0,s.jsx)("span",{className:"text-xs sm:text-sm font-medium text-neutral-700 dark:text-neutral-300 truncate",title:null==h?void 0:h.title,children:(null==h?void 0:h.shortTitle)||(null==h?void 0:h.title)})]}),d&&(0,s.jsx)("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:d})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:gap-3 pb-3 sm:pb-4",children:[(0,s.jsx)("div",{ref:g,className:"hidden md:flex flex-1 items-center justify-center gap-1 lg:gap-2 min-w-0 max-w-5xl mx-auto relative w-full",children:(0,s.jsx)("div",{className:(0,W.cn)("w-full h-3 bg-gradient-to-br from-neutral-100 via-neutral-50 to-neutral-100 rounded-full","dark:from-neutral-800 dark:via-neutral-700 dark:to-neutral-800","relative shadow-inner border border-neutral-200/60 dark:border-neutral-700/60"),role:"progressbar","aria-valuenow":y,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"İlerleme: ".concat(y,"%"),children:(0,s.jsx)("div",{className:(0,W.cn)("h-full bg-gradient-to-r from-blue-500 via-blue-400 to-blue-500","dark:from-blue-600 dark:via-blue-500 dark:to-blue-600","transition-[width] duration-700 ease-out","rounded-full shadow-md relative","ring-1 ring-blue-300/30 dark:ring-blue-400/30"),style:{width:"".concat(n,"%")},children:(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent rounded-full"})})})}),(0,s.jsx)("div",{className:"hidden md:flex w-full max-w-5xl mx-auto relative items-center justify-between px-0",children:i.map((e,t)=>{let a=u[e.id]||"pending",r=c||e.id<=l,n="0%";return 3===i.length?1===e.id?n="0%":2===e.id?n="50%":3===e.id&&(n="100%"):n=2===i.length?1===e.id?"0%":"100%":i.length>1?"".concat((e.id-1)/(i.length-1)*100,"%"):"0%",(0,s.jsx)("div",{className:"absolute transform -translate-x-1/2 pointer-events-auto z-10",style:{left:n,top:"0"},children:(0,s.jsx)(B,{children:(0,s.jsxs)(U,{children:[(0,s.jsx)(Q,{asChild:!0,children:(0,s.jsxs)("button",{type:"button",onClick:()=>x(e.id),disabled:!r,"aria-current":"current"===a?"step":void 0,"aria-label":"Adım ".concat(e.id,": ").concat(e.title),className:(0,W.cn)("flex flex-col items-center gap-2 transition-all duration-300","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-xl p-2","disabled:cursor-not-allowed disabled:opacity-50","hover:scale-105 active:scale-95"),children:[(0,s.jsx)("div",{className:(0,W.cn)("flex items-center justify-center w-10 h-10 rounded-full","text-sm font-bold transition-all duration-300","flex-shrink-0 relative border-2","current"===a&&["bg-gradient-to-br from-blue-600 via-blue-500 to-blue-700 text-white","border-blue-400 shadow-xl ring-4 ring-blue-200/50 ring-offset-2","scale-110 shadow-[0_0_20px_rgba(37,99,235,0.5)]"],"completed"===a&&["bg-gradient-to-br from-green-500 via-emerald-500 to-green-600 text-white","border-green-400 shadow-lg ring-2 ring-green-200/50"],"pending"===a&&["bg-gradient-to-br from-neutral-200 via-neutral-100 to-neutral-200","border-neutral-300 text-neutral-500","dark:from-neutral-700 dark:via-neutral-600 dark:to-neutral-700","dark:border-neutral-600 dark:text-neutral-400"]),"aria-hidden":"true",children:"completed"===a?(0,s.jsx)(O.Z,{className:"w-5 h-5",strokeWidth:3}):(0,s.jsx)("span",{className:"text-base",children:e.id})}),(0,s.jsx)("span",{className:(0,W.cn)("text-xs sm:text-sm font-semibold whitespace-nowrap","transition-colors duration-300 px-2 py-0.5 rounded-md","backdrop-blur-sm","current"===a&&["text-blue-700 dark:text-blue-400","bg-blue-50/80 dark:bg-blue-950/50","font-bold"],"completed"===a&&["text-gray-700 dark:text-gray-300","bg-green-50/50 dark:bg-green-950/30"],"pending"===a&&["text-gray-500 dark:text-gray-400","bg-neutral-50/50 dark:bg-neutral-900/30"]),title:e.title,children:e.shortTitle})]})}),(0,s.jsx)(Y,{side:"bottom",className:"max-w-xs",children:(0,s.jsx)("p",{className:"font-medium",children:e.title})})]})})},e.id)})}),(0,s.jsxs)("div",{className:(0,W.cn)("hidden md:flex items-center gap-2 px-3 py-1.5 rounded-xl","bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/50 dark:to-indigo-950/50","border border-blue-200/50 dark:border-blue-800/50","text-xs font-semibold text-blue-700 dark:text-blue-400","flex-shrink-0 shadow-sm","backdrop-blur-sm"),children:[(0,s.jsxs)("span",{className:"font-bold",children:[y,"%"]}),(0,s.jsx)("span",{className:"w-1 h-1 rounded-full bg-blue-400 dark:bg-blue-500"}),(0,s.jsxs)("span",{className:"font-medium",children:[l,"/",i.length]})]}),(0,s.jsx)("div",{className:"md:hidden flex-1",children:(0,s.jsx)("div",{className:(0,W.cn)("w-full h-1.5 bg-neutral-200 rounded-full overflow-hidden shadow-inner","dark:bg-neutral-800"),role:"progressbar","aria-valuenow":y,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"İlerleme: ".concat(y,"%"),children:(0,s.jsx)("div",{className:(0,W.cn)("h-full bg-gradient-to-r from-blue-600 to-blue-500 dark:from-blue-500 dark:to-blue-400","transition-[width] duration-500 ease-out","rounded-full shadow-sm"),style:{width:"".concat(n,"%")}})})}),(0,s.jsx)("div",{className:(0,W.cn)("md:hidden flex items-center gap-1.5 px-2 py-1 rounded-lg","bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/50","text-xs font-semibold text-blue-700 dark:text-blue-400","flex-shrink-0"),children:(0,s.jsxs)("span",{children:[y,"% (",l,"/",i.length,")"]})})]})]})})});var ev=JSON.parse('{"u":[{"id":"uav-light-6s","name":"UAV-Light 6S","description":"Hafif UAV uygulamaları i\xe7in optimize edilmiş","config":{"usageType":"UAV","voltageClass":"24V","chemistry":"Li-ion","s":6,"p":2},"choices":{"bms":"BMS-HIGH-40A","connector":"XT90","connectorCharge":"XT90","strip":"STRIP-CU-NI","charger":"CHARGER-252V","dcdc":"DCDC-12-24V","case":"ENCLOSURE-STD","spotWelder":"spot_welder","nickelStrips":"nickel_strips","cellHolder":"cell_holder","multimeter":"multimeter","wireCutter":"wire_cutter","safetyGlasses":"safety_glasses","workGloves":"work_gloves"},"variants":[{"targetAh":"6","p":2,"estimatedAh":8,"estimatedWh":177.6},{"targetAh":"12","p":4,"estimatedAh":16,"estimatedWh":355.2},{"targetAh":"16","p":5,"estimatedAh":20,"estimatedWh":444},{"targetAh":"22","p":7,"estimatedAh":28,"estimatedWh":621.6}]},{"id":"genel-4s-liion","name":"Genel 4S Li-ion","description":"Genel ama\xe7lı 12V uygulamalar","config":{"usageType":"Yer Sistemi","voltageClass":"12V","chemistry":"Li-ion","s":4,"p":3},"choices":{"bms":"BMS-STD-20A","connector":"XT60","connectorCharge":"XT60","strip":"STRIP-NI-015","charger":"CHARGER-146V","dcdc":"DCDC-USB-C","case":"ENCLOSURE-STD","spotWelder":"spot_welder","nickelStrips":"nickel_strips","cellHolder":"cell_holder","multimeter":"multimeter","wireCutter":"wire_cutter","safetyGlasses":"safety_glasses","workGloves":"work_gloves"},"variants":[{"targetAh":"6","p":2,"estimatedAh":8,"estimatedWh":118.4},{"targetAh":"12","p":3,"estimatedAh":12,"estimatedWh":177.6},{"targetAh":"16","p":4,"estimatedAh":16,"estimatedWh":236.8},{"targetAh":"22","p":6,"estimatedAh":24,"estimatedWh":355.2}]},{"id":"uav-ready","name":"İnsansız Hava Aracı Kit","description":"Drone bataryası i\xe7in optimize edilmiş","config":{"usageType":"UAV","voltageClass":"24V","chemistry":"Li-ion","s":6,"p":2},"choices":{"bms":"BMS-HIGH-40A","connector":"XT90","connectorCharge":"XT90","strip":"STRIP-CU-NI","charger":"CHARGER-252V","dcdc":"DCDC-12-24V","case":"ENCLOSURE-STD","spotWelder":"spot_welder","nickelStrips":"nickel_strips","cellHolder":"cell_holder","multimeter":"multimeter","wireCutter":"wire_cutter","safetyGlasses":"safety_glasses","workGloves":"work_gloves"},"variants":[{"targetAh":"5.6","p":2,"estimatedAh":5.6,"estimatedWh":124.32}]},{"id":"ugv-ready","name":"İnsansız Kara Aracı Kit","description":"Kara robotu bataryası i\xe7in optimize edilmiş","config":{"usageType":"UGV/ROV","voltageClass":"24V","chemistry":"Li-ion","s":7,"p":3},"choices":{"bms":"BMS-HIGH-40A","connector":"XT90","connectorCharge":"XT90","strip":"STRIP-CU-NI","charger":"CHARGER-252V","dcdc":"DCDC-12-24V","case":"ENCLOSURE-STD","spotWelder":"spot_welder","nickelStrips":"nickel_strips","cellHolder":"cell_holder","multimeter":"multimeter","wireCutter":"wire_cutter","safetyGlasses":"safety_glasses","workGloves":"work_gloves"},"variants":[{"targetAh":"8.4","p":3,"estimatedAh":8.4,"estimatedWh":217.56}]},{"id":"industrial-ready","name":"End\xfcstriyel Kit","description":"End\xfcstriyel uygulamalar i\xe7in optimize edilmiş","config":{"usageType":"Yer Sistemi","voltageClass":"24V","chemistry":"Li-ion","s":8,"p":4},"choices":{"bms":"BMS-HIGH-40A","connector":"CONN-ANDERSON","connectorCharge":"CONN-ANDERSON","strip":"STRIP-CU-NI","charger":"CHARGER-252V","dcdc":"DCDC-12-24V","case":"ENCLOSURE-STD","spotWelder":"spot_welder","nickelStrips":"nickel_strips","cellHolder":"cell_holder","multimeter":"multimeter","wireCutter":"wire_cutter","safetyGlasses":"safety_glasses","workGloves":"work_gloves"},"variants":[{"targetAh":"11.2","p":4,"estimatedAh":11.2,"estimatedWh":331.52}]},{"id":"powerbank-ready","name":"Powerbank Kit","description":"Taşınabilir g\xfc\xe7 kaynağı i\xe7in optimize edilmiş","config":{"usageType":"Powerbank","voltageClass":"12V","chemistry":"Li-ion","s":3,"p":2},"choices":{"bms":"BMS-STD-20A","connector":"XT60","connectorCharge":"XT60","strip":"STRIP-NI-020","charger":"CHARGER-146V","dcdc":"DCDC-USB-C","case":"ENCLOSURE-STD","spotWelder":"spot_welder","nickelStrips":"nickel_strips","cellHolder":"cell_holder","multimeter":"multimeter","wireCutter":"wire_cutter","safetyGlasses":"safety_glasses","workGloves":"work_gloves"},"variants":[{"targetAh":"5.6","p":2,"estimatedAh":5.6,"estimatedWh":62.16}]}]}');let eb=[{id:1,title:"Proje Tanımı & H\xfccre Se\xe7imi",shortTitle:"Proje Tanımı"},{id:2,title:"Donanım Bileşenleri",shortTitle:"Donanım"},{id:3,title:"Teknik \xd6zet",shortTitle:"\xd6zet"}];function ef(){let e=(0,i.useSearchParams)(),{currentStep:t,nextStep:a,prevStep:c,compatibility:d,cell:m,ns:g,np:u,bms:h,charger:x,connectorLoad:p,tools:y,targetV:v,targetWh:b,targetA:f,targetEnergyWh:j,targetCapacityAh:N,voltageClass:C,maxCurrentA:A,chemistry:w,regulation:V,cellFormat:D,customerInfo:S,setCustomerInfo:z,setTargets:T,setBatteryConfig:_,setScenario:L,setComponents:R,setTools:Z}=(0,o.F)(),E=r.useRef(null);r.useEffect(()=>{let t=e.get("preset");if(!t||E.current===t)return;let a=ev.u.find(e=>e.id===t);if(!a)return;E.current=t,L({UAV:"uav","UGV/ROV":"ugv","Yer Sistemi":"industrial",Powerbank:"powerbank"}[a.config.usageType]||"");let s={"12V":12,"24V":24,"5V":5}[a.config.voltageClass]||void 0,r=a.variants[0],i=(null==r?void 0:r.estimatedAh)||0,l=(null==r?void 0:r.estimatedWh)||0;T({voltageClass:a.config.voltageClass,targetV:s,targetEnergyWh:l,targetCapacityAh:i,maxCurrentA:3.36*a.config.p,chemistry:a.config.chemistry,regulation:"rawPack",cellFormat:"18650",cellCapacityAh:2.8,cellContCurrentA:2.8}),_({s:a.config.s,p:a.config.p})},[e,T,_,L]);let W=r.useMemo(()=>{if(!m||!g||!u)return null;let e={usageType:"UAV",cellType:m.id,cellBrand:"Samsung",s:g,p:u,voltageClass:v?"".concat(v,"V"):"24V",targetCapacity:b?b/(v||24):20},t={bms:(null==h?void 0:h.id)?[h.id]:void 0,connector:(null==p?void 0:p.id)?[p.id]:void 0,tools:y,safetyEquipment:[]};try{return(0,ex.m)(e,t)}catch(e){return console.error("Pricing calculation error:",e),null}},[m,g,u,v,b,h,p,y]),[F,H]=r.useState({}),[O,K]=r.useState(!1),[G,B]=r.useState(!1),U=r.useCallback(()=>{let e=[];switch(t){case 1:return C||e.push("Voltaj sınıfı se\xe7ilmeli"),(!A||A<=0)&&e.push("Maksimum akım girilmeli"),w||e.push("Kimya t\xfcr\xfc se\xe7ilmeli"),V||e.push("Reg\xfclasyon t\xfcr\xfc se\xe7ilmeli"),(!j||j<=0)&&e.push("Hedef Enerji (Wh) zorunludur"),(!N||N<=0)&&e.push("Hedef Kapasite (Ah) zorunludur"),{isValid:0===e.length,errors:e};case 2:case 3:return{isValid:!0,errors:[]};default:return{isValid:!1,errors:[]}}},[t,C,A,w,V,j,N,S]);r.useEffect(()=>{let e=U();K(e.isValid),G&&e.errors.length>0?H(a=>({...a,[t]:e.errors})):H(e=>{let a={...e};return delete a[t],a})},[t,U,G]),r.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]);let Q=r.useMemo(()=>1===t?0:2===t?50:3===t?100:t/3*100,[t]);return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(ey,{productName:"BATARYA KONFIG\xdcRAT\xd6R\xdc",steps:eb,currentStep:t,percent:Q,onStepClick:e=>{let t=o.F.getState();for(;t.currentStep<e;)t.nextStep();for(;t.currentStep>e;)t.prevStep()},allowSkipping:!1}),G&&F[t]&&F[t].length>0&&(0,s.jsx)("div",{className:"bg-red-50 border-b border-red-200",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(M.Z,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-red-900 mb-1 text-sm",children:"L\xfctfen Zorunlu Alanları Doldurun"}),(0,s.jsx)("ul",{className:"list-disc list-inside space-y-0.5",children:F[t].map((e,t)=>(0,s.jsx)("li",{className:"text-xs text-red-800",children:e},t))})]})]})})}),d&&"incompatible"===d.overall.status&&(0,s.jsx)("div",{className:"bg-orange-50 border-b border-orange-200",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(M.Z,{className:"w-5 h-5 text-orange-600"}),(0,s.jsx)("p",{className:"text-sm text-orange-800",children:"Se\xe7ilen bileşenler uyumlu değil. L\xfctfen konfig\xfcrasyonu g\xf6zden ge\xe7irin."})]})})}),(0,s.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 ".concat(3===t?"lg:grid-cols-1":"lg:grid-cols-3"," gap-4"),children:[(0,s.jsx)("div",{className:3===t?"lg:col-span-1":"lg:col-span-2",children:(0,s.jsx)(l.Zb,{className:"border shadow-sm",children:(0,s.jsxs)(l.aY,{className:"p-4 sm:p-5",children:[1===t&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(k,{}),(0,s.jsx)("div",{className:"border-t pt-4",children:(0,s.jsx)(I,{config:{cellType:D||(null==m?void 0:m.id),s:g||void 0,p:u||void 0,voltageClass:C||(v?"".concat(v,"V"):void 0),targetV:v||("12V"===C?12:"24V"===C?24:"5V"===C?5:void 0),targetWh:j||b},onConfigChange:e=>{e.s&&o.F.getState().setBatteryConfig({s:e.s}),e.p&&o.F.getState().setBatteryConfig({p:e.p})}})})]}),2===t&&(0,s.jsx)(en,{config:{cellType:null==m?void 0:m.id,s:g||void 0,p:u||void 0,targetA:f},choices:{bms:null==h?void 0:h.id,connectorLoad:null==p?void 0:p.id,charger:null==x?void 0:x.id,tools:y,toolQuantities:localStorage.getItem("tool_quantities")?JSON.parse(localStorage.getItem("tool_quantities")):{}},onChoicesChange:e=>{if("bms"in e&&e.bms){let t={id:Array.isArray(e.bms)?e.bms[0]:e.bms,name:Array.isArray(e.bms)?e.bms[0]:e.bms,chemistry:"NMC",seriesMin:1,seriesMax:20,contA:40,peakA:60,ovpV:4.2,uvpV:3,balanceType:"passive",price:0};o.F.getState().setComponents({bms:t})}else null===e.bms&&o.F.getState().setComponents({bms:null});if("connectorLoad"in e||"connector"in e){let t=Array.isArray(e.connectorLoad)?e.connectorLoad[0]:Array.isArray(e.connector)?e.connector[0]:e.connectorLoad||e.connector;t?o.F.getState().setComponents({connectorLoad:{id:t,name:t,type:"y\xfck",contA:60,peakA:80,antiSpark:!1}}):(null===e.connectorLoad||null===e.connector)&&o.F.getState().setComponents({connectorLoad:null})}if("charger"in e||"chargers"in e){let t=Array.isArray(e.charger)?e.charger[0]:Array.isArray(e.chargers)?e.chargers[0]:e.charger||e.chargers;t?o.F.getState().setComponents({charger:{id:t,name:t,outV:24,outA:5,profile:"CC/CV",connector:"XT60",efficiency:.9,pfc:!0,protections:"OVP, OCP, SCP"}}):(null===e.charger||null===e.chargers)&&o.F.getState().setComponents({charger:null})}"tools"in e&&e.tools&&o.F.getState().setTools(e.tools),"toolQuantities"in e&&e.toolQuantities&&localStorage.setItem("tool_quantities",JSON.stringify(e.toolQuantities))}}),3===t&&(0,s.jsx)(eg,{config:{cellType:null==m?void 0:m.id,s:g||void 0,p:u||void 0,voltageClass:v?"".concat(v,"V"):void 0},choices:{bms:null==h?void 0:h.id,connectorLoad:null==p?void 0:p.id,tools:y},pricing:W,onProceedToCheckout:()=>{localStorage.getItem("customer_info")?window.location.href="/checkout":alert("L\xfctfen \xf6nce m\xfcşteri bilgilerini doldurun")}})]})})}),3!==t&&(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)("div",{className:"lg:sticky lg:top-4",children:(0,s.jsx)(P,{})})})]})}),(0,s.jsx)("footer",{className:"bg-white border-t sticky bottom-0 z-20 shadow-lg",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsxs)(n.z,{type:"button",variant:"outline",onClick:c,disabled:1===t,className:"flex items-center gap-2",children:[(0,s.jsx)(eu.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Geri"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1 justify-end",children:[(0,s.jsxs)("div",{className:"hidden sm:flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(O?"bg-green-500":"bg-gray-300")}),(0,s.jsxs)("span",{children:[1===t&&(O?"Hazır":"Zorunlu alanları doldurun"),2===t&&"Donanım bileşenlerini se\xe7in (opsiyonel)",3===t&&"Tamamlandı"]})]}),t<eb.length?(0,s.jsxs)(n.z,{type:"button",onClick:async()=>{let e=U();if(e.isValid){a();return}B(!0),H(a=>({...a,[t]:e.errors}))},className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,s.jsx)("span",{className:"hidden sm:inline",children:"Devam Et"}),(0,s.jsx)("span",{className:"sm:hidden",children:"İleri"}),(0,s.jsx)(eh.Z,{className:"w-4 h-4 ml-2"})]}):(0,s.jsxs)(n.z,{type:"button",onClick:()=>{window.location.href="/checkout"},className:"bg-blue-600 hover:bg-blue-700 text-white",children:["\xd6demeye Ge\xe7",(0,s.jsx)(eh.Z,{className:"w-4 h-4 ml-2"})]})]})]})})})]})}},2927:function(e,t,a){"use strict";a.r(t),a.d(t,{ToastProvider:function(){return g},useToast:function(){return u}});var s=a(7437),r=a(2265),i=a(173),l=a(1981),n=a(4056),o=a(2894),c=a(2549),d=a(1657);let m=r.createContext(void 0);function g(e){let{children:t}=e,[a,i]=r.useState([]),l=r.useCallback(e=>{var t;let a=Math.random().toString(36).substring(7),s={...e,id:a,duration:null!==(t=e.duration)&&void 0!==t?t:3e3};i(e=>[...e,s]),s.duration>0&&setTimeout(()=>{i(e=>e.filter(e=>e.id!==a))},s.duration)},[]),n=r.useCallback(e=>{i(t=>t.filter(t=>t.id!==e))},[]);return(0,s.jsxs)(m.Provider,{value:{toasts:a,addToast:l,removeToast:n},children:[t,(0,s.jsx)(h,{toasts:a,removeToast:n})]})}function u(){let e=r.useContext(m);if(!e)throw Error("useToast must be used within ToastProvider");return e}function h(e){let{toasts:t,removeToast:a}=e;return(0,s.jsx)("div",{className:"fixed top-20 right-4 z-[100] flex flex-col gap-2 w-full max-w-sm pointer-events-none",children:t.map(e=>(0,s.jsx)(x,{toast:e,onRemove:a},e.id))})}function x(e){let{toast:t,onRemove:a}=e,[m,g]=r.useState(!1);r.useEffect(()=>{setTimeout(()=>g(!0),10)},[]);let u={success:i.Z,error:l.Z,info:n.Z,warning:o.Z}[t.type];return(0,s.jsxs)("div",{className:(0,d.cn)("pointer-events-auto relative flex items-start gap-3 rounded-lg border p-4 shadow-lg transition-all duration-300",{success:"bg-green-50 border-green-200 text-green-900",error:"bg-red-50 border-red-200 text-red-900",info:"bg-blue-50 border-blue-200 text-blue-900",warning:"bg-yellow-50 border-yellow-200 text-yellow-900"}[t.type],m?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:[(0,s.jsx)(u,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"font-semibold text-sm",children:t.title}),t.description&&(0,s.jsx)("div",{className:"text-xs mt-1 opacity-90",children:t.description})]}),(0,s.jsx)("button",{onClick:()=>a(t.id),className:"flex-shrink-0 p-1 rounded-md hover:bg-black/10 transition-colors","aria-label":"Kapat",children:(0,s.jsx)(c.Z,{className:"h-4 w-4"})})]})}}},function(e){e.O(0,[6723,5166,560,3919,3743,7091,1058,8641,4728,2971,4938,1744],function(){return e(e.s=3896)}),_N_E=e.O()}]);