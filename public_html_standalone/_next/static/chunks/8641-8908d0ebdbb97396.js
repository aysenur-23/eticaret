"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8641],{2943:function(e,t,n){function a(e,t,n,a){let i=3.65*t,r=2.8*n,l=21060*t*n,o=a?a.width_mm:10*Math.ceil(Math.sqrt(l/100)),c=a?a.height_mm:10*Math.ceil(Math.sqrt(l/100)),s=a?a.length_mm:Math.ceil(l/(o*c));return{vnom:i,ah:r,wh:i*r,ns:t,np:n,iAvailable:2.8*n,iPeakAvailable:4*n,weight:t*n*45+(a?500:0),dimensions:{width:o,height:c,length:s}}}function i(e,t,n){let a=[{awg:8,resistance:2.1,maxCurrent:40},{awg:10,resistance:3.3,maxCurrent:30},{awg:12,resistance:5.2,maxCurrent:20},{awg:14,resistance:8.3,maxCurrent:15},{awg:16,resistance:13.2,maxCurrent:10},{awg:18,resistance:21,maxCurrent:7},{awg:20,resistance:33.4,maxCurrent:5}],i=a.find(t=>t.maxCurrent>=e)||a[a.length-1],r=i.resistance*t;return{awg:i.awg,resistance:r,voltageDrop:e*r/1e3,maxCurrent:i.maxCurrent}}function r(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:25,r=t.internalRmOhm*n/a/1e3*Math.pow(e,2),l=.5*r;return{powerLoss:r,temperatureRise:l,warning:l>20||i+l>60}}function l(e,t,n){let a=[],i=Math.abs(e.outV-t.vnom)<.05*t.vnom;i||a.push("Voltaj uyumsuzluğu: ".concat(e.outV,"V vs ").concat(t.vnom,"V"));let r=e.outA<=t.np*n.maxChargeA;return r||a.push("Akım uyumsuzluğu: ".concat(e.outA,"A vs ").concat(t.np*n.maxChargeA,"A")),{compatible:i&&r,chargeTime:t.ah/e.outA,efficiency:e.efficiency||.85,warnings:a}}function o(e,t){return t<=0?0:e.ah/t}function c(e,t,n,a,i,r){let l;return l=0+t*n*15,a&&(l+=50),i&&(l+=80),r&&(l+=30),l+=20}function s(e,t,n){let a=Math.min(t.contA/e.iAvailable,n.contA/e.iAvailable),i=t.ovpV/(e.vnom/e.ns),r="safe";return a<1.2||i<1.1?r="danger":(a<1.5||i<1.2)&&(r="warning"),{currentSafety:a,voltageSafety:i,overallSafety:r}}n.r(t),n.d(t,{calculateBatterySpecs:function(){return a},calculateCableSpecs:function(){return i},calculateChargerSpecs:function(){return l},calculateCost:function(){return c},calculateRuntime:function(){return o},calculateSafetyFactors:function(){return s},calculateThermalSpecs:function(){return r}})},8641:function(e,t,n){n.d(t,{F:function(){return l}});var a=n(4660),i=n(4810);let r={currentStep:1,mode:"beginner",scenario:"",voltageClass:void 0,maxCurrentA:void 0,chemistry:void 0,regulation:void 0,targetEnergyWh:void 0,targetCapacityAh:void 0,peakCurrentA:void 0,cellFormat:void 0,cellCapacityAh:void 0,cellContCurrentA:void 0,weightLimit_g:void 0,sizeLimit:void 0,tempMinC:void 0,tempMaxC:void 0,notes:void 0,targetV:void 0,targetWh:void 0,targetA:void 0,weightMaxG:void 0,cell:null,ns:null,np:null,bms:null,charger:null,connectorLoad:null,connectorCharge:null,case:null,accessories:[],tools:[],safetyAccepted:!1,customerInfo:null,projectName:"",batterySpecs:null,cableSpecs:null,thermalSpecs:null,chargerSpecs:null,compatibility:null},l=(0,a.Ue)()((0,i.tJ)((e,t)=>({...r,setCurrentStep:t=>e({currentStep:t}),nextStep:()=>{let{currentStep:n}=t();n<5&&e({currentStep:n+1})},prevStep:()=>{let{currentStep:n}=t();n>1&&e({currentStep:n-1})},setMode:t=>e({mode:t}),setScenario:t=>e({scenario:t}),setTargets:t=>e(e=>{let n={};return"voltageClass"in t&&(n.voltageClass=""===t.voltageClass?void 0:t.voltageClass),"maxCurrentA"in t&&(n.maxCurrentA=t.maxCurrentA),"chemistry"in t&&(n.chemistry=""===t.chemistry?void 0:t.chemistry),"regulation"in t&&(n.regulation=""===t.regulation?void 0:t.regulation),"targetEnergyWh"in t&&(n.targetEnergyWh=t.targetEnergyWh),"targetCapacityAh"in t&&(n.targetCapacityAh=t.targetCapacityAh),"peakCurrentA"in t&&(n.peakCurrentA=t.peakCurrentA),"cellFormat"in t&&(n.cellFormat=""===t.cellFormat?void 0:t.cellFormat),"cellCapacityAh"in t&&(n.cellCapacityAh=t.cellCapacityAh),"cellContCurrentA"in t&&(n.cellContCurrentA=t.cellContCurrentA),"weightLimit_g"in t&&(n.weightLimit_g=t.weightLimit_g),"sizeLimit"in t&&(n.sizeLimit=t.sizeLimit),"tempMinC"in t&&(n.tempMinC=t.tempMinC),"tempMaxC"in t&&(n.tempMaxC=t.tempMaxC),"notes"in t&&(n.notes=t.notes),"targetV"in t&&(n.targetV=t.targetV),"targetWh"in t&&(n.targetWh=t.targetWh),"targetA"in t&&(n.targetA=t.targetA),"weightMaxG"in t&&(n.weightMaxG=t.weightMaxG),{...e,...n}}),setBatteryConfig:t=>e(e=>{let a=void 0!==t.s?t.s:void 0!==t.ns?t.ns:e.ns,i=void 0!==t.p?t.p:void 0!==t.np?t.np:e.np,{s:r,p:l,...o}=t,c={...e,...o,ns:a,np:i};if(c.cell&&c.ns&&c.np){let{calculateBatterySpecs:e}=n(2943),t=e(c.cell,c.ns,c.np,c.case||void 0);return{...c,batterySpecs:t}}return c}),setComponents:t=>e(e=>({...e,...t})),setTools:t=>e({tools:t}),setSafetyAccepted:t=>e({safetyAccepted:t}),setCustomerInfo:t=>e({customerInfo:t}),setProject:t=>e(e=>({...e,...t})),setCalculations:t=>e(e=>{let a={...e,...t};if(a.cell&&a.ns&&a.np){let{calculateBatterySpecs:e}=n(2943),t=e(a.cell,a.ns,a.np,a.case||void 0);return{...a,batterySpecs:t}}return a}),calculateBatterySpecs:()=>{let a=t();if(a.cell&&a.ns&&a.np){let{calculateBatterySpecs:t}=n(2943);e({batterySpecs:t(a.cell,a.ns,a.np,a.case||void 0)})}},calculateCableSpecs:()=>{let a=t();if(a.batterySpecs){let{calculateCableSpecs:t}=n(2943);e({cableSpecs:t(a.batterySpecs.iAvailable,1,a.batterySpecs.vnom)})}},calculateThermalSpecs:()=>{let a=t();if(a.cell&&a.ns&&a.np&&a.batterySpecs){let{calculateThermalSpecs:t}=n(2943);e({thermalSpecs:t(a.batterySpecs.iAvailable,a.cell,a.ns,a.np)})}},reset:()=>e(r),saveProject:async()=>{var e,n,a,i,r,l,o,c,s,u,g,d,m,v;let p=t();console.log("Saving project:",{name:p.projectName,mode:p.mode,scenario:p.scenario,targetV:null!==(o=p.targetV)&&void 0!==o?o:void 0,targetWh:null!==(c=p.targetWh)&&void 0!==c?c:void 0,targetA:null!==(s=p.targetA)&&void 0!==s?s:void 0,weightMaxG:null!==(u=p.weightMaxG)&&void 0!==u?u:void 0,tempMinC:null!==(g=p.tempMinC)&&void 0!==g?g:void 0,tempMaxC:null!==(d=p.tempMaxC)&&void 0!==d?d:void 0,notes:p.notes,ns:null!==(m=p.ns)&&void 0!==m?m:void 0,np:null!==(v=p.np)&&void 0!==v?v:void 0,cellId:(null===(e=p.cell)||void 0===e?void 0:e.id)||void 0,bmsId:(null===(n=p.bms)||void 0===n?void 0:n.id)||void 0,chargerId:(null===(a=p.charger)||void 0===a?void 0:a.id)||void 0,connectorLoadId:(null===(i=p.connectorLoad)||void 0===i?void 0:i.id)||void 0,connectorChargeId:(null===(r=p.connectorCharge)||void 0===r?void 0:r.id)||void 0,caseId:(null===(l=p.case)||void 0===l?void 0:l.id)||void 0,bomJson:JSON.stringify({batterySpecs:p.batterySpecs,cableSpecs:p.cableSpecs,thermalSpecs:p.thermalSpecs,chargerSpecs:p.chargerSpecs,compatibility:p.compatibility})})},loadProject:t=>{var n,a,i,r,l,o,c,s;e({projectName:t.name,mode:t.mode,scenario:t.scenario||"",targetV:null!==(n=t.targetV)&&void 0!==n?n:void 0,targetWh:null!==(a=t.targetWh)&&void 0!==a?a:void 0,targetA:null!==(i=t.targetA)&&void 0!==i?i:void 0,weightMaxG:null!==(r=t.weightMaxG)&&void 0!==r?r:void 0,tempMinC:null!==(l=t.tempMinC)&&void 0!==l?l:void 0,tempMaxC:null!==(o=t.tempMaxC)&&void 0!==o?o:void 0,notes:t.notes||"",ns:null!==(c=t.ns)&&void 0!==c?c:null,np:null!==(s=t.np)&&void 0!==s?s:null})},resetStore:()=>{e(r)}}),{name:"configurator-store",partialize:e=>({mode:e.mode,targetV:e.targetV,targetWh:e.targetWh,targetA:e.targetA,weightMaxG:e.weightMaxG,weightLimit_g:e.weightLimit_g,tempMinC:e.tempMinC,tempMaxC:e.tempMaxC,projectName:e.projectName,notes:e.notes,voltageClass:e.voltageClass,chemistry:e.chemistry,regulation:e.regulation}),onRehydrateStorage:()=>e=>{e&&(e.scenario="",e.voltageClass=void 0,e.chemistry=void 0,e.regulation=void 0,e.cellFormat=void 0,e.weightLimit_g=void 0,e.weightMaxG=void 0)}}))}}]);